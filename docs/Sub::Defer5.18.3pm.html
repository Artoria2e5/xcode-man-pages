<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Sub::Defer(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Sub::Defer(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Sub::Defer(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Sub::Defer - defer generation of subroutines until they are first called
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
 use Sub::Defer;

 my $deferred = defer_sub 'Logger::time_since_first_log' =&gt; sub {
    my $t = time;
    sub { time - $t };
 };

  Logger-&gt;time_since_first_log; # returns 0 and replaces itself
  Logger-&gt;time_since_first_log; # returns time - $t
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
These subroutines provide the user with a convenient way to defer creation of
  subroutines and methods until they are first called.
</section>
<section class="Sh">
<h1 class="Sh" id="SUBROUTINES"><a class="permalink" href="#SUBROUTINES">SUBROUTINES</a></h1>
<section class="Ss">
<h2 class="Ss" id="defer_sub"><a class="permalink" href="#defer_sub">defer_sub</a></h2>
<span class="Li"></span>
<pre>
 my $coderef = defer_sub $name =&gt; sub { ... };
</pre>
<p class="Pp">This subroutine returns a coderef that encapsulates the provided
    sub - when it is first called, the provided sub is called and is -itself-
    expected to return a subroutine which will be goto'ed to on subsequent
    calls.</p>
<p class="Pp">If a name is provided, this also installs the sub as that name -
    and when the subroutine is undeferred will re-install the final version for
    speed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="undefer_sub"><a class="permalink" href="#undefer_sub">undefer_sub</a></h2>
<span class="Li"></span>
<pre>
 my $coderef = undefer_sub \&amp;Foo::name;
</pre>
<p class="Pp">If the passed coderef has been deferred this will
    &quot;undefer&quot; it. If the passed coderef has not been deferred, this
    will just return it.</p>
<p class="Pp">If this is confusing, take a look at the example in the
    &quot;SYNOPSIS&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="undefer_all"><a class="permalink" href="#undefer_all">undefer_all</a></h2>
<span class="Li"></span>
<pre>
 undefer_all();
</pre>
<p class="Pp">This will undefer all defered subs in one go. This can be very
    useful in a forking environment where child processes would each have to
    undefer the same subs. By calling this just before you start forking
    children you can undefer all currently deferred subs in the parent so that
    the children do not have to do it.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
See Moo for support and contact information.
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
See Moo for authors.
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
See Moo for the copyright and license.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013-12-31</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
