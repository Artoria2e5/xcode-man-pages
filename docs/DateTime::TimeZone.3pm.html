<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>DateTime::TimeZone(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DateTime::TimeZone(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">DateTime::TimeZone(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
DateTime::TimeZone - Time zone object base class and factory
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
version 2.39
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use DateTime;
  use DateTime::TimeZone;

  my $tz = DateTime::TimeZone-&gt;new( name =&gt; 'America/Chicago' );

  my $dt = DateTime-&gt;now();
  my $offset = $tz-&gt;offset_for_datetime($dt);
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This class is the base class for all time zone objects. A time zone is
  represented internally as a set of observances, each of which describes the
  offset from GMT for a given time period.
<p class="Pp">Note that without the DateTime module, this module does not do
    much. It's primary interface is through a DateTime object, and most users
    will not need to directly use
    <span class="Li">&quot;DateTime::TimeZone&quot;</span> methods.</p>
<section class="Ss">
<h2 class="Ss" id="Special_Case_Platforms"><a class="permalink" href="#Special_Case_Platforms">Special
  Case Platforms</a></h2>
If you are on the Win32 platform, you will want to also install
  DateTime::TimeZone::Local::Win32. This will enable you to specify a time zone
  of <span class="Li">'local'</span> when creating a DateTime object.
<p class="Pp">If you are on HPUX, install DateTime::TimeZone::HPUX. This
    provides support for HPUX style time zones like
    <span class="Li">'MET-1METDST'</span>.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="USAGE"><a class="permalink" href="#USAGE">USAGE</a></h1>
This class has the following methods:
<section class="Ss">
<h2 class="Ss" id="DateTime::TimeZone_-_new(_name_=__$tz_name_)"><a class="permalink" href="#DateTime::TimeZone_-_new(_name_=__$tz_name_)">DateTime::TimeZone-&gt;new(
  name =&gt; $tz_name )</a></h2>
Given a valid time zone name, this method returns a new time zone blessed into
  the appropriate subclass. Subclasses are named for the given time zone, so
  that the time zone &quot;America/Chicago&quot; is the
  DateTime::TimeZone::America::Chicago class.
<p class="Pp">If the name given is a &quot;link&quot; name in the Olson
    database, the object created may have a different name. For example, there
    is a link from the old &quot;EST5EDT&quot; name to
    &quot;America/New_York&quot;.</p>
<p class="Pp">When loading a time zone from the Olson database, the constructor
    checks the version of the loaded class to make sure it matches the version
    of the current DateTime::TimeZone installation. If they do not match it will
    issue a warning. This is useful because time zone names may fall out of use,
    but you may have an old module file installed for that time zone.</p>
<p class="Pp">There are also several special values that can be given as
  names.</p>
<p class="Pp">If the &quot;name&quot; parameter is &quot;floating&quot;, then a
    <span class="Li">&quot;DateTime::TimeZone::Floating&quot;</span> object is
    returned. A floating time zone does not have <i>any</i> offset, and is
    always the same time. This is useful for calendaring applications, which may
    need to specify that a given event happens at the same <i>local</i> time,
    regardless of where it occurs. See RFC 2445
    &lt;https://www.ietf.org/rfc/rfc2445.txt&gt; for more details.</p>
<p class="Pp">If the &quot;name&quot; parameter is &quot;UTC&quot;, then a
    <span class="Li">&quot;DateTime::TimeZone::UTC&quot;</span> object is
    returned.</p>
<p class="Pp">If the &quot;name&quot; is an offset string, it is converted to a
    number, and a
    <span class="Li">&quot;DateTime::TimeZone::OffsetOnly&quot;</span> object is
    returned.</p>
<p class="Pp"><i>The &quot;local&quot; time zone</i></p>
<p class="Pp">If the &quot;name&quot; parameter is &quot;local&quot;, then the
    module attempts to determine the local time zone for the system.</p>
<p class="Pp">The method for finding the local zone varies by operating system.
    See the appropriate module for details of how we check for the local time
    zone.</p>
<ul class="Bl-bullet">
  <li>DateTime::TimeZone::Local::Unix</li>
  <li>DateTime::TimeZone::Local::Android</li>
  <li>DateTime::TimeZone::Local::hpux</li>
  <li>DateTime::TimeZone::Local::Win32</li>
  <li>DateTime::TimeZone::Local::VMS</li>
</ul>
<p class="Pp">If a local time zone is not found, then an exception will be
    thrown. This exception will always stringify to something containing the
    text <span class="Li">&quot;Cannot</span> <span class="Li">determine local
    time zone&quot;</span>.</p>
<p class="Pp">If you are writing code for users to run on systems you do not
    control, you should try to account for the possibility that this exception
    may be thrown. Falling back to UTC might be a reasonable alternative.</p>
<p class="Pp">When writing tests for your modules that might be run on others'
    systems, you are strongly encouraged to either not use
    <span class="Li">&quot;local&quot;</span> when creating DateTime objects or
    to set <span class="Li">$ENV{TZ}</span> to a known value in your test code.
    All of the per-OS classes check this environment variable.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$tz_-_offset_for_datetime(_$dt_)"><a class="permalink" href="#$tz_-_offset_for_datetime(_$dt_)">$tz-&gt;offset_for_datetime(
  $dt )</a></h2>
Given a <span class="Li">&quot;DateTime&quot;</span> object, this method returns
  the offset in seconds for the given datetime. This takes into account
  historical time zone information, as well as Daylight Saving Time. The offset
  is determined by looking at the object's UTC Rata Die days and seconds.
</section>
<section class="Ss">
<h2 class="Ss" id="$tz_-_offset_for_local_datetime(_$dt_)"><a class="permalink" href="#$tz_-_offset_for_local_datetime(_$dt_)">$tz-&gt;offset_for_local_datetime(
  $dt )</a></h2>
Given a <span class="Li">&quot;DateTime&quot;</span> object, this method returns
  the offset in seconds for the given datetime. Unlike the previous method, this
  method uses the local time's Rata Die days and seconds. This should only be
  done when the corresponding UTC time is not yet known, because local times can
  be ambiguous due to Daylight Saving Time rules.
</section>
<section class="Ss">
<h2 class="Ss" id="$tz_-_is_dst_for_datetime(_$dt_)"><a class="permalink" href="#$tz_-_is_dst_for_datetime(_$dt_)">$tz-&gt;is_dst_for_datetime(
  $dt )</a></h2>
Given a <span class="Li">&quot;DateTime&quot;</span> object, this method returns
  true if the DateTime is currently in Daylight Saving Time.
</section>
<section class="Ss">
<h2 class="Ss" id="$tz_-_name"><a class="permalink" href="#$tz_-_name">$tz-&gt;name</a></h2>
Returns the name of the time zone.
</section>
<section class="Ss">
<h2 class="Ss" id="$tz_-_short_name_for_datetime(_$dt_)"><a class="permalink" href="#$tz_-_short_name_for_datetime(_$dt_)">$tz-&gt;short_name_for_datetime(
  $dt )</a></h2>
Given a <span class="Li">&quot;DateTime&quot;</span> object, this method returns
  the &quot;short name&quot; for the current observance and rule this datetime
  is in. These are names like &quot;EST&quot;, &quot;GMT&quot;, etc.
<p class="Pp">It is <b>strongly</b> recommended that you do not rely on these
    names for anything other than display. These names are not official, and
    many of them are simply the invention of the Olson database maintainers.
    Moreover, these names are not unique. For example, there is an
    &quot;EST&quot; at both -0500 and +1000/+1100.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$tz_-_is_floating"><a class="permalink" href="#$tz_-_is_floating">$tz-&gt;is_floating</a></h2>
Returns a boolean indicating whether or not this object represents a floating
  time zone, as defined by RFC 2445
  &lt;https://www.ietf.org/rfc/rfc2445.txt&gt;.
</section>
<section class="Ss">
<h2 class="Ss" id="$tz_-_is_utc"><a class="permalink" href="#$tz_-_is_utc">$tz-&gt;is_utc</a></h2>
Indicates whether or not this object represents the UTC (GMT) time zone.
</section>
<section class="Ss">
<h2 class="Ss" id="$tz_-_has_dst_changes"><a class="permalink" href="#$tz_-_has_dst_changes">$tz-&gt;has_dst_changes</a></h2>
Indicates whether or not this zone has <i>ever</i> had a change to and from DST,
  either in the past or future.
</section>
<section class="Ss">
<h2 class="Ss" id="$tz_-_is_olson"><a class="permalink" href="#$tz_-_is_olson">$tz-&gt;is_olson</a></h2>
Returns true if the time zone is a named time zone from the Olson database.
</section>
<section class="Ss">
<h2 class="Ss" id="$tz_-_category"><a class="permalink" href="#$tz_-_category">$tz-&gt;category</a></h2>
Returns the part of the time zone name before the first slash. For example, the
  &quot;America/Chicago&quot; time zone would return &quot;America&quot;.
</section>
<section class="Ss">
<h2 class="Ss" id="DateTime::TimeZone_-_is_valid_name($name)"><a class="permalink" href="#DateTime::TimeZone_-_is_valid_name($name)">DateTime::TimeZone-&gt;is_valid_name($name)</a></h2>
Given a string, this method returns a boolean value indicating whether or not
  the string is a valid time zone name. If you are using
  <span class="Li">&quot;DateTime::TimeZone::Alias&quot;</span>, any aliases
  you've created will be valid.
</section>
<section class="Ss">
<h2 class="Ss" id="DateTime::TimeZone_-_all_names"><a class="permalink" href="#DateTime::TimeZone_-_all_names">DateTime::TimeZone-&gt;all_names</a></h2>
This returns a pre-sorted list of all the time zone names. This list does not
  include link names. In scalar context, it returns an array reference, while in
  list context it returns an array.
</section>
<section class="Ss">
<h2 class="Ss" id="DateTime::TimeZone_-_categories"><a class="permalink" href="#DateTime::TimeZone_-_categories">DateTime::TimeZone-&gt;categories</a></h2>
This returns a list of all time zone categories. In scalar context, it returns
  an array reference, while in list context it returns an array.
</section>
<section class="Ss">
<h2 class="Ss" id="DateTime::TimeZone_-_links"><a class="permalink" href="#DateTime::TimeZone_-_links">DateTime::TimeZone-&gt;links</a></h2>
This returns a hash of all time zone links, where the keys are the old,
  deprecated names, and the values are the new names. In scalar context, it
  returns a hash reference, while in list context it returns a hash.
</section>
<section class="Ss">
<h2 class="Ss" id="DateTime::TimeZone_-_names_in_category(_$category_)"><a class="permalink" href="#DateTime::TimeZone_-_names_in_category(_$category_)">DateTime::TimeZone-&gt;names_in_category(
  $category )</a></h2>
Given a valid category, this method returns a list of the names in that
  category, without the category portion. So the list for the
  &quot;America&quot; category would include the strings &quot;Chicago&quot;,
  &quot;Kentucky/Monticello&quot;, and &quot;New_York&quot;. In scalar context,
  it returns an array reference, while in list context it returns an array.
</section>
<section class="Ss">
<h2 class="Ss" id="DateTime::TimeZone_-__fBcountries()_fP"><a class="permalink" href="#DateTime::TimeZone_-__fBcountries()_fP">DateTime::TimeZone-&gt;<b>countries()</b></a></h2>
Returns a sorted list of all the valid country codes (in lower-case) which can
  be passed to <span class="Li">&quot;names_in_country()&quot;</span>. In scalar
  context, it returns an array reference, while in list context it returns an
  array.
<p class="Pp">If you need to convert country codes to names or vice versa you
    can use <span class="Li">&quot;Locale::Country&quot;</span> to do so. Note
    that one of the codes returned is &quot;uk&quot;, which is an alias for the
    country code &quot;gb&quot;, and is not a valid ISO country code.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="DateTime::TimeZone_-_names_in_country(_$country_code_)"><a class="permalink" href="#DateTime::TimeZone_-_names_in_country(_$country_code_)">DateTime::TimeZone-&gt;names_in_country(
  $country_code )</a></h2>
Given a two-letter ISO3166 country code, this method returns a list of time
  zones used in that country. The country code may be of any case. In scalar
  context, it returns an array reference, while in list context it returns an
  array.
<p class="Pp">This list is returned in an order vaguely based on geography and
    population. In general, the least used zones come last, but there are not
    guarantees of a specific order from one release to the next. This order is
    probably the best option for presenting zones names to end users.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="DateTime::TimeZone_-_offset_as_seconds(_$offset_)"><a class="permalink" href="#DateTime::TimeZone_-_offset_as_seconds(_$offset_)">DateTime::TimeZone-&gt;offset_as_seconds(
  $offset )</a></h2>
Given an offset as a string, this returns the number of seconds represented by
  the offset as a positive or negative number. Returns
  <span class="Li">&quot;undef&quot;</span> if <span class="Li">$offset</span>
  is not in the range <span class="Li">&quot;-99:59:59&quot;</span> to
  <span class="Li">&quot;+99:59:59&quot;</span>.
<p class="Pp">The offset is expected to match either
    <span class="Li">&quot;/^([\+\-])?(\d\d?):(\d\d)(?::(\d\d))?$/&quot;</span>
    or <span class="Li">&quot;/^([\+\-])?(\d\d)(\d\d)(\d\d)?$/&quot;</span>. If
    it doesn't match either of these, <span class="Li">&quot;undef&quot;</span>
    will be returned.</p>
<p class="Pp">This means that if you want to specify hours as a single digit,
    then each element of the offset must be separated by a colon (:).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="DateTime::TimeZone_-_offset_as_string(_$offset_)"><a class="permalink" href="#DateTime::TimeZone_-_offset_as_string(_$offset_)">DateTime::TimeZone-&gt;offset_as_string(
  $offset )</a></h2>
Given an offset as a number, this returns the offset as a string. Returns
  <span class="Li">&quot;undef&quot;</span> if <span class="Li">$offset</span>
  is not in the range <span class="Li">&quot;-359999&quot;</span> to
  <span class="Li">359999</span>.
</section>
<section class="Ss">
<h2 class="Ss" id="Storable_Hooks"><a class="permalink" href="#Storable_Hooks">Storable
  Hooks</a></h2>
This module provides freeze and thaw hooks for
  <span class="Li">&quot;Storable&quot;</span> so that the huge data structures
  for Olson time zones are not actually stored in the serialized structure.
<p class="Pp">If you subclass
    <span class="Li">&quot;DateTime::TimeZone&quot;</span>, you will inherit its
    hooks, which may not work for your module, so please test the interaction of
    your module with Storable.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="LOADING_TIME_ZONES_IN_A_PRE-FORKING_SYSTEM"><a class="permalink" href="#LOADING_TIME_ZONES_IN_A_PRE-FORKING_SYSTEM">LOADING
  TIME ZONES IN A PRE-FORKING SYSTEM</a></h1>
If you are running an application that does pre-forking (for example with
  Starman), then you should try to load all the time zones that you'll need in
  the parent process. Time zones are loaded on-demand, so loading them once in
  each child will waste memory that could otherwise be shared.
</section>
<section class="Sh">
<h1 class="Sh" id="CREDITS"><a class="permalink" href="#CREDITS">CREDITS</a></h1>
This module was inspired by Jesse Vincent's work on Date::ICal::Timezone, and
  written with much help from the datetime@perl.org list.
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
datetime@perl.org mailing list
<p class="Pp">http://datetime.perl.org/</p>
<p class="Pp">The tools directory of the DateTime::TimeZone distribution
    includes two scripts that may be of interest to some people. They are
    parse_olson and tests_from_zdump. Please run them with the --help flag to
    see what they can be used for.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
Support for this module is provided via the datetime@perl.org email list. See
  http://datetime.perl.org/wiki/datetime/page/Mailing_List for details.
<p class="Pp">Please submit bugs to the CPAN RT system at
    http://rt.cpan.org/NoAuth/ReportBug.html?Queue=datetime%3A%3Atimezone or via
    email at bug-datetime-timezone@rt.cpan.org.</p>
<p class="Pp">Bugs may be submitted at
    &lt;https://github.com/houseabsolute/DateTime-TimeZone/issues&gt;.</p>
<p class="Pp">I am also usually active on IRC as 'autarch' on
    <span class="Li">&quot;irc://irc.perl.org&quot;</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SOURCE"><a class="permalink" href="#SOURCE">SOURCE</a></h1>
The source code repository for DateTime-TimeZone can be found at
  &lt;https://github.com/houseabsolute/DateTime-TimeZone&gt;.
</section>
<section class="Sh">
<h1 class="Sh" id="DONATIONS"><a class="permalink" href="#DONATIONS">DONATIONS</a></h1>
If you'd like to thank me for the work I've done on this module, please consider
  making a &quot;donation&quot; to me via PayPal. I spend a lot of free time
  creating free software, and would appreciate any support you'd care to offer.
<p class="Pp">Please note that <b>I am not suggesting that you must do this</b>
    in order for me to continue working on this particular software. I will
    continue to do so, inasmuch as I have in the past, for as long as it
    interests me.</p>
<p class="Pp">Similarly, a donation made in this way will probably not make me
    work on this software much more, unless I get so many donations that I can
    consider working on free software full time (let's all have a chuckle at
    that together).</p>
<p class="Pp">To donate, log into PayPal and send money to autarch@urth.org, or
    use the button at &lt;https://www.urth.org/fs-donation.html&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Dave Rolsky &lt;autarch@urth.org&gt;
</section>
<section class="Sh">
<h1 class="Sh" id="CONTRIBUTORS"><a class="permalink" href="#CONTRIBUTORS">CONTRIBUTORS</a></h1>
<ul class="Bl-bullet">
  <li>Alexey Molchanov &lt;alexey.molchanov@gmail.com&gt;</li>
  <li>Alfie John &lt;alfiej@fastmail.fm&gt;</li>
  <li>Andrew Paprocki &lt;apaprocki@bloomberg.net&gt;</li>
  <li>Bron Gondwana &lt;brong@fastmail.fm&gt;</li>
  <li>Daisuke Maki &lt;dmaki@cpan.org&gt;</li>
  <li>David Pinkowitz &lt;dave@pinkowitz.com&gt;</li>
  <li>Iain Truskett &lt;deceased&gt;</li>
  <li>Jakub Wilk &lt;jwilk@jwilk.net&gt;</li>
  <li>James E Keenan &lt;jkeenan@cpan.org&gt;</li>
  <li>Joshua Hoblitt &lt;jhoblitt@cpan.org&gt;</li>
  <li>Karen Etheridge &lt;ether@cpan.org&gt;</li>
  <li>karupanerura &lt;karupa@cpan.org&gt;</li>
  <li>kclaggett &lt;kclaggett@proofpoint.com&gt;</li>
  <li>Mohammad S Anwar &lt;mohammad.anwar@yahoo.com&gt;</li>
  <li>Olaf Alders &lt;olaf@wundersolutions.com&gt;</li>
  <li>Peter Rabbitson &lt;ribasushi@cpan.org&gt;</li>
  <li>Tom Wyant &lt;wyant@cpan.org&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
This software is copyright (c) 2020 by Dave Rolsky.
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
<p class="Pp">The full text of the license can be found in the <i>LICENSE</i>
    file included with this distribution.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-04-24</td>
    <td class="foot-os">perl v5.28.2</td>
  </tr>
</table>
</body>
</html>
