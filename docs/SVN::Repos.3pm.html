<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>native::Repos(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">native::Repos(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">native::Repos(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
SVN::Repos - Subversion repository functions
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
    use SVN::Core;
    use SVN::Repos;
    use SVN::Fs;

    my $repos = SVN::Repos::open('/path/to/repos');
    print $repos-&gt;fs()-&gt;youngest_rev;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
SVN::Repos wraps the object-oriented
  <span class="Li">&quot;svn_repos_t&quot;</span> functions, providing access to
  a Subversion repository on the local filesystem.
<section class="Ss">
<h2 class="Ss" id="_s-1CONSTRUCTORS_s0"><a class="permalink" href="#_s-1CONSTRUCTORS_s0">CONSTRUCTORS</a></h2>
<dl class="Bl-tag">
  <dt>SVN::Repos::open($path)</dt>
  <dd>This function opens an existing repository, and returns an
      <span class="Li">&quot;SVN::Repos&quot;</span> object.</dd>
  <dt>create($path, undef, undef, $config, $fs_config)</dt>
  <dd>This function creates a new repository, and returns an
      <span class="Li">&quot;SVN::Repos&quot;</span> object.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1METHODS_s0"><a class="permalink" href="#_s-1METHODS_s0">METHODS</a></h2>
<dl class="Bl-tag">
  <dt>$repos-&gt;dump_fs($dump_fh, $feedback_fh, $start_rev, $end_rev,
    $incremental, $cancel_callback)</dt>
  <dd></dd>
  <dt>$repos-&gt;dump_fs2($dump_fh, $feedback_fh, $start_rev, $end_rev,
    $incremental, $deltify, $cancel_callback)</dt>
  <dd>Create a dump file of the repository from revision
      <span class="Li">$start_rev</span> to <span class="Li">$end_rev</span> ,
      store it into the filehandle <span class="Li">$dump_fh</span>, and write
      feedback on the progress of the operation to filehandle
      <span class="Li">$feedback_fh</span>.
    <p class="Pp">If <span class="Li">$incremental</span> is TRUE, the first
        revision dumped will be a diff against the previous revision (usually it
        looks like a full dump of the tree).</p>
    <p class="Pp">If <span class="Li">$use_deltas</span> is TRUE, output only
        node properties which have changed relative to the previous contents,
        and output text contents as svndiff data against the previous contents.
        Regardless of how this flag is set, the first revision of a
        non-incremental dump will be done with full plain text. A dump with
        <span class="Li">@a</span> use_deltas set cannot be loaded by Subversion
        1.0.x.</p>
    <p class="Pp">If <span class="Li">$cancel_callback</span> is not
        <span class="Li">&quot;undef&quot;</span>, it must be a code reference
        that is called periodically to determine whether the client wishes to
        cancel the dump. See &quot;CANCELLATION CALLBACK&quot; in SVN::Client
        for details.</p>
    <p class="Pp">Example:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    use SVN::Core;
    use SVN::Repos;

    my $repos = SVN::Repos::open('/repo/sandbox');

    open my $fh, &quot;&gt;/tmp/tmp.dump&quot; or die &quot;Cannot open file: $!\n&quot;;

    my $start_rev   = 10;
    my $end_rev     = 20;
    my $incremental = 1;
    my $deltify     = 1;

    $repos-&gt;dump_fs2($fh, \*STDOUT,          # Dump file =&gt; $fh, Feedback =&gt; STDOUT
                     $start_rev, $end_rev,   # Revision Range
                     $incremental, $deltify, # Options
                     undef);                 # Cancel Callback

    close $fh;
    </pre>
  </dd>
  <dt>$repos-&gt;load_fs($dumpfile_fh, $feedback_fh, $uuid_action, $parent_dir,
    $cancel_callback);</dt>
  <dd></dd>
  <dt>$repos-&gt;load_fs2($dumpfile_fh, $feedback_fh, $uuid_action, $parent_dir,
    $use_pre_commit_hook, $use_post_commit_hook, $cancel_callback);</dt>
  <dd>Loads a dumpfile specified by the <span class="Li">$dumpfile_fh</span>
      filehandle into the repository. If the dumpstream contains copy history
      that is unavailable in the repository, an error will be thrown.
    <p class="Pp">The repository's UUID will be updated iff the dumpstream
        contains a UUID and <span class="Li">$uuid_action</span> is not equal to
        <span class="Li">$SVN::Repos::load_uuid_ignore</span> and either the
        repository contains no revisions or <span class="Li">$uuid_action</span>
        is equal to <span class="Li">$SVN::Repos::load_uuid_force</span>.</p>
    <p class="Pp">If the dumpstream contains no UUID, then
        <span class="Li">$uuid_action</span> is ignored and the repository UUID
        is not touched.</p>
    <p class="Pp">If <span class="Li">$parent_dir</span> is not null, then the
        parser will reparent all the loaded nodes, from root to
        <span class="Li">@a</span> parent_dir. The directory
        <span class="Li">$parent_dir</span> must be an existing directory in the
        repository.</p>
    <p class="Pp">If <span class="Li">$use_pre_commit_hook</span> is set, call
        the repository's pre-commit hook before committing each loaded
      revision.</p>
    <p class="Pp">If <span class="Li">$use_post_commit_hook</span> is set, call
        the repository's post-commit hook after committing each loaded
      revision.</p>
    <p class="Pp">If <span class="Li">$cancel_callback</span> is not
        <span class="Li">&quot;undef&quot;</span>, it must be a code reference
        that is called periodically to determine whether the client wishes to
        cancel the load. See &quot;CANCELLATION CALLBACK&quot; in SVN::Client
        for details.</p>
    <p class="Pp">You must at least provide
        <span class="Li">&quot;undef&quot;</span> for these parameters for the
        method call to work.</p>
    <p class="Pp">Example:
       use SVN::Core;
       use SVN::Repos;</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    my $repos = SVN::Repos::open('/repo/test_repo');

    open my $fh, &quot;/repo/sandbox.dump&quot; or die &quot;Cannot open file: $!\n&quot;;

    my $parent_dir = '/';
    my $use_pre_commit_hook  = 0;
    my $use_post_commit_hook = 0;

    $repos-&gt;load_fs2($fh, \*STDOUT,
                     $SVN::Repos::load_uuid_ignore, # Ignore uuid
                     $parent_dir,
                     $use_pre_commit_hook,  # Use pre-commit hook?
                     $use_post_commit_hook, # Use post-commit hook?
                     undef, undef);


    close $fh;
    </pre>
  </dd>
  <dt>$repos-&gt;<i>fs()</i></dt>
  <dd>Returns the <span class="Li">&quot;SVN::Fs&quot;</span> object for this
      repository.</dd>
  <dt>$repos-&gt;get_logs([$path, ...], $start, $end, $discover_changed_paths,
    $strict_node_history, $receiver)</dt>
  <dd>Iterates over all the revisions that affect the list of paths passed as
      the first parameter, starting at <span class="Li">$start</span>, and
      ending at <span class="Li">$end</span>.
    <p class="Pp"><span class="Li">$receiver</span> is called for each change.
        The arguments to <span class="Li">$receiver</span> are:</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>$self</dt>
  <dd>The <span class="Li">&quot;SVN::Repos&quot;</span> object.</dd>
  <dt>$paths</dt>
  <dd><span class="Li">&quot;undef&quot;</span> if
      <span class="Li">$discover_changed_paths</span> is false. Otherwise,
      contains a hash of paths that have changed in this revision.</dd>
  <dt>$rev</dt>
  <dd>The revision this change occurred in.</dd>
  <dt>$date</dt>
  <dd>The date and time the revision occurred.</dd>
  <dt>$msg</dt>
  <dd>The log message associated with this revision.</dd>
  <dt>$pool</dt>
  <dd>An <span class="Li">&quot;SVN::Pool&quot;</span> object which may be used
      in the function.</dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp">If <span class="Li">$strict_node_history</span> is true then
    copies will not be traversed.</p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1ADDITIONAL_METHODS_s0"><a class="permalink" href="#_s-1ADDITIONAL_METHODS_s0">ADDITIONAL
  METHODS</a></h2>
The following methods work, but are not currently documented in this file.
  Please consult the svn_repos.h section in the Subversion API for more details.
<dl class="Bl-tag">
  <dt>$repos-&gt;get_commit_editor(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;get_commit_editor2(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;path(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;db_env(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;lock_dir(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;db_lockfile(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;hook_dir(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;start_commit_hook(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;pre_commit_hook(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;post_commit_hook(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;pre_revprop_change(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;post_revprop_change(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;dated_revision(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;fs_commit_txn(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;fs_being_txn_for_commit(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;fs_being_txn_for_update(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;fs_change_rev_prop(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;node_editor(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;dump_fs(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;load_fs(...)</dt>
  <dd></dd>
  <dt>$repos-&gt;get_fs_build_parser(...)</dt>
  <dd></dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
Chia-liang Kao &lt;clkao@clkao.org&gt;
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<span class="Li"></span>
<pre>
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    &quot;License&quot;); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-01-01</td>
    <td class="foot-os">perl v5.18.2</td>
  </tr>
</table>
</body>
</html>
