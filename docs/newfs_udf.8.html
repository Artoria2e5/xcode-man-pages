<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 1993, 1994
       The Regents of the University of California.  All rights reserved.
   All rights reserved.
  
   This code is derived from software donated to Berkeley by
   Christopher G. Demetriou.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. All advertising materials mentioning features or use of this software
      must display the following acknowledgement:
  	This product includes software developed by the University of
  	California, Berkeley and its contributors.
   4. Neither the name of the University nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
       @(#)newfs_udf
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>NEWFS_UDF(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">NEWFS_UDF(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">NEWFS_UDF(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">newfs_udf</code> &#x2014;
<div class="Nd">construct a new UDF file system.</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">newfs_udf</code></td>
    <td>[<code class="Fl">-Ndeouw</code>] [<code class="Fl">-b</code>
      <var class="Ar">block-size</var>] [<code class="Fl">-D</code>
      <var class="Ar">defect-file-name</var>]
      [<code class="Fl">--dup-meta-part-file</code>] [<code class="Fl">-E</code>
      <var class="Ar">ecc-in-blks</var>] [<code class="Fl">--enc</code>
      <var class="Ar">encoding-name</var>] [<code class="Fl">-v</code>
      <var class="Ar">vol-name</var>] [<code class="Fl">-m</code>
      <var class="Ar">media-type</var>]
      [<code class="Fl">--meta-part-alloc-unit</code> <var class="Ar">n</var>]
      [<code class="Fl">--meta-part-align-unit</code> <var class="Ar">n</var>]
      [<code class="Fl">--meta-part-init-size</code> <var class="Ar">n</var>]
      [<code class="Fl">-p</code> <var class="Ar">packet-size</var>]
      [<code class="Fl">-r</code> <var class="Ar">rev</var>]
      [<code class="Fl">-s</code> <var class="Ar">size</var>]
      [<code class="Fl">-S</code> <var class="Ar">start-block-address</var>]
      [<code class="Fl">--spare-blks</code> <var class="Ar">n</var>]
      [<code class="Fl">-t</code> <var class="Ar">access-type</var>]
      [<code class="Fl">--unalloc-spc</code> <var class="Ar">blk-addr
      num-blks</var>] [<code class="Fl">--wipefs</code>
      <var class="Ar">yes|no</var>] [<code class="Fl">--userid</code>
      <var class="Ar">uid</var>] [<code class="Fl">-U</code>
      <var class="Ar">uid</var>] [<code class="Fl">--groupid</code>
      <var class="Ar">gid</var>] [<code class="Fl">-G</code>
      <var class="Ar">gid</var>] <var class="Ar">special</var></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <code class="Nm">newfs_udf</code> command builds the UDF filesystem on the
  specified special device.
<p class="Pp">The options are as follows:</p>
<p class="Pp">General options:</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#N"><code class="Fl" id="N">-N</code></a></dt>
  <dd>Causes the file system parameters to be printed out without really
      creating the file system.</dd>
  <dt><a class="permalink" href="#w"><code class="Fl" id="w">-w</code></a></dt>
  <dd>Stop processing on warnings, default: no</dd>
  <dt><a class="permalink" href="#-wipefs"><code class="Fl" id="-wipefs">--wipefs</code></a>
    <var class="Ar">yes|no</var></dt>
  <dd>Whether wipe existing file systems on the volume before formatting it.
      Default: wipe existing file systems when media-type is block device (blk),
      access-type is overwrite (ow), and the Keep Disc Open option (-o) is not
      specified; do not wipe existing file systems by default in all other
      cases.</dd>
  <dt><a class="permalink" href="#-largesparse"><code class="Fl" id="-largesparse">--largesparse</code></a></dt>
  <dd>Format the volume to use a non UDF-compliant format to efficiently support
      very large sparse files (up to 2^63 - 1, or 9,223,372,036,854,775,807
      bytes). Sparse files on this volume that has holes larger than 1GB cannot
      be accessed by other UDF implementations.</dd>
</dl>
<p class="Pp">Disc properties:</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#b"><code class="Fl" id="b">-b</code></a>
    <var class="Ar">block-size</var></dt>
  <dd>The block size of the file system, in bytes, default: the native block
      size of the device, or 2048 for an image file</dd>
  <dt><a class="permalink" href="#d"><code class="Fl" id="d">-d</code></a></dt>
  <dd>The file system manages defects by creating a sparable partition, default:
      no</dd>
  <dt><a class="permalink" href="#e"><code class="Fl" id="e">-e</code></a></dt>
  <dd>Use extended file entry instead of file entry, default: no</dd>
  <dt><a class="permalink" href="#E"><code class="Fl" id="E">-E</code></a>
    <var class="Ar">ecc-in-blks</var></dt>
  <dd>ECC block size in number of blocks</dd>
  <dt><a class="permalink" href="#m"><code class="Fl" id="m">-m</code></a>
    <var class="Ar">media-type</var></dt>
  <dd>The type of the media, can be blk (block device), var-packet (varible size
      packet writing), fix-packet (fixed size packet writing), or pow (pseudo
      overwrite), default: blk</dd>
  <dt><a class="permalink" href="#t"><code class="Fl" id="t">-t</code></a>
    <var class="Ar">access-type</var></dt>
  <dd>The access type of the partition, can be wo (writeonce), ow (overwrite),
      or pow (pseudo overwrite), default: ow</dd>
  <dt><a class="permalink" href="#o"><code class="Fl" id="o">-o</code></a></dt>
  <dd>Keep the disc as open by only writing the first AVDP (e.g., background
      formating haven't finish, so the write of the last two AVDPs is not
      possible), default: close the disc for overwrite media, and keep it open
      for write once media</dd>
  <dt><a class="permalink" href="#p"><code class="Fl" id="p">-p</code></a>
    <var class="Ar">packet-size</var></dt>
  <dd>The size of a packet in number of blocks, default: 1</dd>
  <dt><a class="permalink" href="#s"><code class="Fl" id="s">-s</code></a>
    <var class="Ar">size</var></dt>
  <dd>Size of the file system in blocks, default: size of the device</dd>
</dl>
<p class="Pp">UDF parameters:</p>
<p class="Pp">General:</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#r"><code class="Fl" id="r">-r</code></a>
    <var class="Ar">rev</var></dt>
  <dd>UDF version number, can be 1.02, 1.50, 2.00, 2.01, 2.50, or 2.60, default:
      2.01</dd>
  <dt><a class="permalink" href="#u"><code class="Fl" id="u">-u</code></a></dt>
  <dd>Creates unique id table (or unique id stream), default: no</dd>
  <dt><a class="permalink" href="#-unalloc-spc"><code class="Fl" id="-unalloc-spc">--unalloc-spc</code></a>
    <var class="Ar">blk-addr num-blks</var></dt>
  <dd>Unallocated space recorded in unallocated space descriptor, default: no
      unallocated spc</dd>
  <dt><a class="permalink" href="#v"><code class="Fl" id="v">-v</code></a>
    <var class="Ar">vol-name</var></dt>
  <dd>Volume identifier, max 127 ascii or 63 unicode chars, default:
      &quot;Untitled UDF Volume&quot;</dd>
  <dt><a class="permalink" href="#-enc"><code class="Fl" id="-enc">--enc</code></a>
    <var class="Ar">encoding-name</var></dt>
  <dd>The character encoding of the volume name, can be &quot;utf8&quot; or
      &quot;utf16&quot;, default: utf8</dd>
</dl>
<p class="Pp">Virtual partitions (for CD-R, DVD-R SL/DL, DVD+R SL/DL, and HD
    DVD-R SL/DL):</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#S"><code class="Fl" id="S">-S</code></a>
    <var class="Ar">start-block-address</var></dt>
  <dd>The start block address of the last session. Newfs_udf will search for
      this value for optical media</dd>
</dl>
<p class="Pp">Sparable partitions (for CD-RW, DVD-RW, and DVD+RW):</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#-spare-blks"><code class="Fl" id="-spare-blks">--spare-blks</code></a>
    <var class="Ar">n</var></dt>
  <dd>Total number of sparing blocks (2 sparing tables are always used),
      default: 128</dd>
  <dt><a class="permalink" href="#D"><code class="Fl" id="D">-D</code></a>
    <var class="Ar">defect-file-name</var></dt>
  <dd>The name of the file containing all defect blocks. This file is a text
      file, contains the physical block address of the media that has defects.
      When one block of a packet is defective, the whole packet is marked as
      defective. The block numbers in the file is delimited by space. Multiple
      numbers can be on the same line.</dd>
</dl>
<p class="Pp">Metadata partitions (for BD-R with POW, BD-RE and other
    overwritable media with UDF 2.50 or higher ):</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#-dup-meta-part-file"><code class="Fl" id="-dup-meta-part-file">--dup-meta-part-file</code></a></dt>
  <dd>Duplicate the content of the metadata file in the metadata mirror file,
      default: no</dd>
  <dt><a class="permalink" href="#-meta-part-alloc-unit"><code class="Fl" id="-meta-part-alloc-unit">--meta-part-alloc-unit</code></a>
    <var class="Ar">n</var></dt>
  <dd>The allocation unit size of the metadata partition in number of blocks,
      default: max(32, eccSizeInBlks, packetSize)</dd>
  <dt><a class="permalink" href="#-meta-part-align-unit"><code class="Fl" id="-meta-part-align-unit">--meta-part-align-unit</code></a>
    <var class="Ar">n</var></dt>
  <dd>The alignment unit size of the metadata partition in number of blocks,
      default: max(eccSizeInBlks, packetSize)</dd>
  <dt><a class="permalink" href="#-meta-part-init-size"><code class="Fl" id="-meta-part-init-size">--meta-part-init-size</code></a>
    <var class="Ar">n</var></dt>
  <dd>The initial size of the metadata partition in number of blocks, default:
      32</dd>
  <dt><a class="permalink" href="#-userid"><code class="Fl" id="-userid">--userid</code></a>
    <var class="Ar">uid</var></dt>
  <dd>or</dd>
  <dt><a class="permalink" href="#U"><code class="Fl" id="U">-U</code></a>
    <var class="Ar">uid</var></dt>
  <dd>Use the specified <var class="Ar">uid</var> (numeric value only) as the
      owner of the root directory.</dd>
  <dt><a class="permalink" href="#-groupid"><code class="Fl" id="-groupid">--groupid</code></a>
    <var class="Ar">gid</var></dt>
  <dd>or</dd>
  <dt><a class="permalink" href="#G"><code class="Fl" id="G">-G</code></a>
    <var class="Ar">gid</var></dt>
  <dd>Use the specified <var class="Ar">gid</var> (numeric value only) as the
      group of the root directory.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr">newfs(8)</a>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
Unallocated space is not supported yet.
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
The <code class="Nm">newfs_udf</code> utility first appeared in Mac OS X Leopard
  (10.5.0).
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 12, 2005</td>
    <td class="foot-os">Mac OS X</td>
  </tr>
</table>
</body>
</html>
