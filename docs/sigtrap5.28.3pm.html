<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>sigtrap(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">sigtrap(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">sigtrap(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
sigtrap - Perl pragma to enable simple signal handling
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
    use sigtrap;
    use sigtrap qw(stack-trace old-interface-signals);  # equivalent
    use sigtrap qw(BUS SEGV PIPE ABRT);
    use sigtrap qw(die INT QUIT);
    use sigtrap qw(die normal-signals);
    use sigtrap qw(die untrapped normal-signals);
    use sigtrap qw(die untrapped normal-signals
                    stack-trace any error-signals);
    use sigtrap 'handler' =&gt; \&amp;my_handler, 'normal-signals';
    use sigtrap qw(handler my_handler normal-signals
                    stack-trace error-signals);
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>sigtrap</b> pragma is a simple interface to installing signal handlers.
  You can have it install one of two handlers supplied by <b>sigtrap</b> itself
  (one which provides a Perl stack trace and one which simply
  <span class="Li">&quot;die()&quot;</span>s), or alternately you can supply
  your own handler for it to install. It can be told only to install a handler
  for signals which are either untrapped or ignored. It has a couple of lists of
  signals to trap, plus you can supply your own list of signals.
<p class="Pp">The arguments passed to the
    <span class="Li">&quot;use&quot;</span> statement which invokes
    <b>sigtrap</b> are processed in order. When a signal name or the name of one
    of <b>sigtrap</b>'s signal lists is encountered a handler is immediately
    installed, when an option is encountered it affects subsequently installed
    handlers.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<section class="Ss">
<h2 class="Ss" id="_s-1SIGNAL_HANDLERS_s0"><a class="permalink" href="#_s-1SIGNAL_HANDLERS_s0">SIGNAL
  HANDLERS</a></h2>
These options affect which handler will be used for subsequently installed
  signals.
<dl class="Bl-tag">
  <dt><b>stack-trace</b></dt>
  <dd>The handler used for subsequently installed signals outputs a Perl stack
      trace to STDERR and then tries to dump core. This is the default signal
      handler.</dd>
  <dt><b>die</b></dt>
  <dd>The handler used for subsequently installed signals calls
      <span class="Li">&quot;die&quot;</span> (actually
      <span class="Li">&quot;croak&quot;</span>) with a message indicating which
      signal was caught.</dd>
  <dt><b>handler</b> <i>your-handler</i></dt>
  <dd><i>your-handler</i> will be used as the handler for subsequently installed
      signals. <i>your-handler</i> can be any value which is valid as an
      assignment to an element of <span class="Li">%SIG</span>. See perlvar for
      examples of handler functions.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1SIGNAL_LISTS_s0"><a class="permalink" href="#_s-1SIGNAL_LISTS_s0">SIGNAL
  LISTS</a></h2>
<b>sigtrap</b> has a few built-in lists of signals to trap. They are:
<dl class="Bl-tag">
  <dt><b>normal-signals</b></dt>
  <dd>These are the signals which a program might normally expect to encounter
      and which by default cause it to terminate. They are HUP, INT, PIPE and
      TERM.</dd>
  <dt><b>error-signals</b></dt>
  <dd>These signals usually indicate a serious problem with the Perl interpreter
      or with your script. They are ABRT, BUS, EMT, FPE, ILL, QUIT, SEGV, SYS
      and TRAP.</dd>
  <dt><b>old-interface-signals</b></dt>
  <dd>These are the signals which were trapped by default by the old
      <b>sigtrap</b> interface, they are ABRT, BUS, EMT, FPE, ILL, PIPE, QUIT,
      SEGV, SYS, TERM, and TRAP. If no signals or signals lists are passed to
      <b>sigtrap</b>, this list is used.</dd>
</dl>
<p class="Pp">For each of these three lists, the collection of signals set to be
    trapped is checked before trapping; if your architecture does not implement
    a particular signal, it will not be trapped but rather silently ignored.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1OTHER_s0"><a class="permalink" href="#_s-1OTHER_s0">OTHER</a></h2>
<dl class="Bl-tag">
  <dt><b>untrapped</b></dt>
  <dd>This token tells <b>sigtrap</b> to install handlers only for subsequently
      listed signals which aren't already trapped or ignored.</dd>
  <dt><b>any</b></dt>
  <dd>This token tells <b>sigtrap</b> to install handlers for all subsequently
      listed signals. This is the default behavior.</dd>
  <dt><i>signal</i></dt>
  <dd>Any argument which looks like a signal name (that is,
      <span class="Li">&quot;/^[A-Z][A-Z0-9]*$/&quot;</span>) indicates that
      <b>sigtrap</b> should install a handler for that name.</dd>
  <dt><i>number</i></dt>
  <dd>Require that at least version <i>number</i> of <b>sigtrap</b> is being
      used.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
Provide a stack trace for the old-interface-signals:
<p class="Pp"><span class="Li"></span></p>
<pre>
    use sigtrap;
</pre>
<p class="Pp">Ditto:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use sigtrap qw(stack-trace old-interface-signals);
</pre>
<p class="Pp">Provide a stack trace on the 4 listed signals only:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use sigtrap qw(BUS SEGV PIPE ABRT);
</pre>
<p class="Pp">Die on INT or QUIT:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use sigtrap qw(die INT QUIT);
</pre>
<p class="Pp">Die on HUP, INT, PIPE or TERM:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use sigtrap qw(die normal-signals);
</pre>
<p class="Pp">Die on HUP, INT, PIPE or TERM, except don't change the behavior
    for signals which are already trapped or ignored:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use sigtrap qw(die untrapped normal-signals);
</pre>
<p class="Pp">Die on receipt one of an of the <b>normal-signals</b> which is
    currently <b>untrapped</b>, provide a stack trace on receipt of <b>any</b>
    of the <b>error-signals</b>:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use sigtrap qw(die untrapped normal-signals
                    stack-trace any error-signals);
</pre>
<p class="Pp">Install <b>my_handler()</b> as the handler for the
    <b>normal-signals</b>:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use sigtrap 'handler', \&amp;my_handler, 'normal-signals';
</pre>
<p class="Pp">Install <b>my_handler()</b> as the handler for the normal-signals,
    provide a Perl stack trace on receipt of one of the error-signals:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use sigtrap qw(handler my_handler normal-signals
                    stack-trace error-signals);
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2018-03-01</td>
    <td class="foot-os">perl v5.28.2</td>
  </tr>
</table>
</body>
</html>
