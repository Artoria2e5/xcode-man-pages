<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
  Copyright (c) 2016 Apple Inc.  All Rights Reserved.
  
  To check for errors: /usr/bin/groff -I/usr/share/man -S -Wall -mtty-char -mandoc -Tascii tmdiagnose.8 > /dev/null
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>SMBDIAGNOSE(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SMBDIAGNOSE(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">SMBDIAGNOSE(8)</td>
  </tr>
</table>
<div class="manual-text">
<p class="Pp"></p>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">smbdiagnose</code> &#x2014;
<div class="Nd">gather information to aid in diagnosing SMB file sharing
  issues</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">smbdiagnose</code></td>
    <td><code class="Fl">-h</code></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">smbdiagnose</code></td>
    <td>[<code class="Fl">-f</code> <var class="Ar">path</var>]
      [<code class="Fl">-s</code>]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <code class="Nm">smbdiagnose</code> tool gathers system information and
  network traffic in order to assist Apple when investigating issues related to
  SMB file sharing. A great deal of information is harvested, spanning system
  state, system configuration, and network traffic related to SMB file sharing.
<section class="Ss">
<h2 class="Ss">What <code class="Nm">smbdiagnose</code>
  <b class="Sy">Collects:</b></h2>
<ul class="Bl-bullet Bd-indent Bl-compact">
  <li>A network packet trace of SMB file sharing traffic that occurs during the
      time the tool is run. This packet trace may include file names and file
      data. It may also include the authentication exchange used to log into the
      SMB server.</li>
  <li>Enhanced debug logs for the SMB server process.</li>
  <li>If the <code class="Fl">-s</code> option is specified, the default set of
      information collected by <a class="Xr">sysdiagnose(1)</a>.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss">What <code class="Nm">smbdiagnose</code> <b class="Sy">Doesn't
  Collect:</b></h2>
<ul class="Bl-bullet Bd-indent Bl-compact">
  <li>No authentication credentials are harvested from the system</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-hang Bl-compact">
  <dt><a class="permalink" href="#h"><code class="Fl" id="h">-h</code></a></dt>
  <dd>Print full usage.</dd>
  <dt><a class="permalink" href="#f"><code class="Fl" id="f">-f</code></a>
    <var class="Ar">path</var></dt>
  <dd>Write the diagnostic to the specified path. The default is
      &#x201C;~/Desktop&#x201D;.</dd>
  <dt><a class="permalink" href="#s"><code class="Fl" id="s">-s</code></a></dt>
  <dd>Collect <a class="Xr">sysdiagnose(1)</a> information. The default is not
      to collect <a class="Xr">sysdiagnose(1)</a> information.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<code class="Nm">smbdiagnose</code> exits with status 0 if there were no
  internal errors encountered during the diagnostic, or &gt;0 when an error
  unrelated to external state occurs or unusable input is provided by the user.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">15 July 2016</td>
    <td class="foot-os">macOS</td>
  </tr>
</table>
</body>
</html>
