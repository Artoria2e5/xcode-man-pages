<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>native::Fs(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">native::Fs(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">native::Fs(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
SVN::Fs - Subversion filesystem functions
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
SVN::Fs wraps the functions in svn_fs.h. The actual namespace for filesystem
  objects is <span class="Li">&quot;_p_svn_fs_t&quot;</span>.
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTIONS"><a class="permalink" href="#FUNCTIONS">FUNCTIONS</a></h1>
<dl class="Bl-tag">
  <dt>SVN::Fs::berkeley_logfiles($path, $only_unused)</dt>
  <dd></dd>
  <dt>SVN::Fs::berkeley_recover($path)</dt>
  <dd></dd>
  <dt>SVN::Fs::check_related($id1, $id2)</dt>
  <dd></dd>
  <dt>SVN::Fs::compare_ids($id1, $id2)</dt>
  <dd></dd>
  <dt>SVN::Fs::contents_changed($root1, $path1, $root2, $path2)</dt>
  <dd></dd>
  <dt>SVN::Fs::create($path, $config)</dt>
  <dd></dd>
  <dt>SVN::Fs::delete_fs($path)</dt>
  <dd></dd>
  <dt>SVN::Fs::deltify_revision($fs, $rev)</dt>
  <dd></dd>
  <dt>SVN::Fs::get_file_delta_stream($source_root, $source_path, $target_root,
    $target_path)</dt>
  <dd></dd>
  <dt>SVN::Fs::hotcopy($src_path, $dest_path, $clean)</dt>
  <dd></dd>
  <dt>SVN::Fs::initialize($pool)</dt>
  <dd></dd>
  <dt>SVN::Fs::merge($source_root, $source_path, $target_root, $target_path,
    $ancestor_root, $ancestor_path)</dt>
  <dd></dd>
  <dt>SVN::Fs::open($path, $config)</dt>
  <dd></dd>
  <dt>SVN::Fs::path($fs)</dt>
  <dd></dd>
  <dt>SVN::Fs::print_modules($s)</dt>
  <dd>TODO - doesn't work, segfaults if <span class="Li">$s</span> is null,
      doesn't do anything if its an empty string</dd>
  <dt>SVN::Fs::props_changed($root1, $path1, $root2, $path2)</dt>
  <dd>See also
    <span class="Li">&quot;SVN::Fs::contents_changed&quot;</span></dd>
  <dt>SVN::Fs::purge_txn($fs, $txn_id)</dt>
  <dd>Cleanup the transaction <span class="Li">$txn_id</span>, removing it
      completely from the filesystem <span class="Li">$fs</span>.</dd>
  <dt>SVN::Fs::set_warning_func($fs, $code, $baton)</dt>
  <dd></dd>
  <dt>SVN::Fs::unparse_id($id)</dt>
  <dd>Return a string containing the unparsed form of the node or node revision
      id <span class="Li">$id</span>, which must be a
      <span class="Li">&quot;_p_svn_fs_id_t&quot;</span> object.
    <p class="Pp">TODO - why isn't this a method of that object?</p>
  </dd>
  <dt><i>SVN::Fs::version()</i></dt>
  <dd>TODO - what can we do with the _p_svn_version_t value returned?</dd>
  <dt>SVN::Fs::create_access($username)</dt>
  <dd>Return a new <span class="Li">&quot;_p_svn_fs_access_t&quot;</span> object
      representing <span class="Li">$username</span>.
      <span class="Li">$username</span> is presumed to have been authenticated
      by the caller.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="_p_svn_fs_t"><a class="permalink" href="#_p_svn_fs_t">_p_svn_fs_t</a></h1>
<dl class="Bl-tag">
  <dt>$fs-&gt;begin_txn($rev)</dt>
  <dd>Creates a new transaction in the repository, and returns a
      <span class="Li">&quot;_p_svn_fs_txn_t&quot;</span> object representing
      it. The new transaction's base revision will be
      <span class="Li">$rev</span>, which should be a number.</dd>
  <dt>$fs-&gt;change_rev_prop</dt>
  <dd></dd>
  <dt>$fs-&gt;<i>generate_lock_token()</i></dt>
  <dd>Generate a unique lock-token using <span class="Li">$fs</span>.
    <p class="Pp">TODO - translate this to apply to Perl: This can be used in to
        populate lock-&gt;token before calling <i>svn_fs_attach_lock()</i>.</p>
  </dd>
  <dt>$fs-&gt;<i>get_access()</i></dt>
  <dd>The filesystem's current access context, as a
      <span class="Li">&quot;_p_svn_fs_access_t&quot;</span> object. Returns
      undef if no access context has been set with the
      <span class="Li">&quot;set_access()&quot;</span> method.</dd>
  <dt>$fs-&gt;get_lock</dt>
  <dd></dd>
  <dt>$fs-&gt;get_locks</dt>
  <dd></dd>
  <dt>$fs-&gt;<i>get_uuid()</i></dt>
  <dd>The UUID associated with <span class="Li">$fs</span>.</dd>
  <dt>$fs-&gt;<i>list_transactions()</i></dt>
  <dd>A reference to an array of all currently active transactions in the
      filesystem. Each one is a string containing the transaction's ID, suitable
      for passing to
    <span class="Li">&quot;$fs-&gt;open_txn()&quot;</span>.</dd>
  <dt>$fs-&gt;lock</dt>
  <dd></dd>
  <dt>$fs-&gt;open_txn($name)</dt>
  <dd>Get a transaction in the repository by name. Returns a
      <span class="Li">&quot;_p_svn_fs_txn_t&quot;</span> object.</dd>
  <dt>$fs-&gt;revision_prop($rev, $propname)</dt>
  <dd>The value of revision property <span class="Li">$propname</span> in
      revision <span class="Li">$rev</span>.</dd>
  <dt>$fs-&gt;revision_proplist($rev)</dt>
  <dd>A hashref containing the names and values of all revision properties from
      revision <span class="Li">$rev</span>.</dd>
  <dt>$fs-&gt;revision_root</dt>
  <dd></dd>
  <dt>$fs-&gt;set_access($access)</dt>
  <dd>Associate an access context with an open filesystem.
    <p class="Pp">This method can be run multiple times on the same open
        filesystem, in order to change the filesystem access context for
        different filesystem operations. <span class="Li">$access</span> should
        be a <span class="Li">&quot;_p_svn_fs_access_t&quot;</span> object, or
        undef to disassociate the current access context from the
      filesystem.</p>
  </dd>
  <dt>$fs-&gt;set_uuid($uuid)</dt>
  <dd>Associate <span class="Li">$uuid</span> with
    <span class="Li">$fs</span>.</dd>
  <dt>$fs-&gt;unlock</dt>
  <dd></dd>
  <dt>$fs-&gt;<i>youngest_rev()</i></dt>
  <dd>Return the number of the youngest revision in the filesystem. The oldest
      revision in any filesystem is numbered zero.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="_p_svn_fs_root_t"><a class="permalink" href="#_p_svn_fs_root_t">_p_svn_fs_root_t</a></h1>
<dl class="Bl-tag">
  <dt>$root-&gt;apply_text</dt>
  <dd></dd>
  <dt>$root-&gt;apply_textdelta</dt>
  <dd></dd>
  <dt>$root-&gt;change_node_prop($path, $propname, $value)</dt>
  <dd></dd>
  <dt>$root-&gt;check_path($path)</dt>
  <dd>Kind of node at <span class="Li">$path</span>. A number which matches one
      of these constants: <span class="Li">$SVN::Node::none</span>,
      <span class="Li">$SVN::Node::file</span>,
      <span class="Li">$SVN::Node::dir</span>,
      <span class="Li">$SVN::Node::unknown</span>.</dd>
  <dt>$root-&gt;close_root</dt>
  <dd></dd>
  <dt>$root-&gt;closest_copy</dt>
  <dd></dd>
  <dt>$root-&gt;copied_from</dt>
  <dd></dd>
  <dt>$root-&gt;copy</dt>
  <dd></dd>
  <dt>$root-&gt;delete</dt>
  <dd></dd>
  <dt>$root-&gt;dir_entries</dt>
  <dd></dd>
  <dt>$root-&gt;file_contents</dt>
  <dd></dd>
  <dt>$root-&gt;file_length</dt>
  <dd></dd>
  <dt>$root-&gt;file_md5_checksum</dt>
  <dd></dd>
  <dt>$root-&gt;<i>fs()</i></dt>
  <dd>The filesystem to which <span class="Li">$root</span> belongs, as a
      <span class="Li">&quot;_p_svn_fs_t&quot;</span> object.</dd>
  <dt>$root-&gt;is_dir($path)</dt>
  <dd>True if there is a node at <span class="Li">$path</span> which is a
      directory.</dd>
  <dt>$root-&gt;is_file($path)</dt>
  <dd>True if there is a node at <span class="Li">$path</span> which is a
    file.</dd>
  <dt>$root-&gt;<i>is_revision_root()</i></dt>
  <dd>True if the root comes from a revision (i.e., the contents has already
      been committed).</dd>
  <dt>$root-&gt;<i>is_txn_root()</i></dt>
  <dd>True if the root comes from a transaction.</dd>
  <dt>$root-&gt;make_dir</dt>
  <dd></dd>
  <dt>$root-&gt;make_file</dt>
  <dd></dd>
  <dt>$root-&gt;node_created_path($path)</dt>
  <dd></dd>
  <dt>$root-&gt;node_created_rev($path)</dt>
  <dd></dd>
  <dt>$root-&gt;node_history($path)</dt>
  <dd>TODO - _p_svn_fs_history_t</dd>
  <dt>$root-&gt;node_id($path)</dt>
  <dd></dd>
  <dt>$root-&gt;node_prop($path, $propname)</dt>
  <dd></dd>
  <dt>$root-&gt;node_proplist($path)</dt>
  <dd></dd>
  <dt>$root-&gt;<i>paths_changed()</i></dt>
  <dd>A reference to a hash indicating what changes are made in the root. The
      keys are the paths of the files changed, starting with
      <span class="Li">&quot;/&quot;</span> to indicate the top-level directory
      of the repository. The values are
      <span class="Li">&quot;_p_svn_fs_path_change_t&quot;</span> objects which
      contain information about what kind of changes are made.</dd>
  <dt>$root-&gt;revision_link</dt>
  <dd></dd>
  <dt>$root-&gt;revision_root_revision</dt>
  <dd>Revision number of the revision the root comes from. For transaction
      roots, returns <span class="Li">$SVN::Core::INVALID_REVNUM</span>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="_p_svn_fs_history_t"><a class="permalink" href="#_p_svn_fs_history_t">_p_svn_fs_history_t</a></h1>
<dl class="Bl-tag">
  <dt>$history-&gt;<i>location()</i></dt>
  <dd>In list context, a list of two items: the path to the node whose history
      this is, and the revision number in which it exists. In scalar context
      returns only the revision number.</dd>
  <dt>$history-&gt;prev($cross_copies)</dt>
  <dd></dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="_p_svn_fs_txn_t"><a class="permalink" href="#_p_svn_fs_txn_t">_p_svn_fs_txn_t</a></h1>
<dl class="Bl-tag">
  <dt>$txn-&gt;<i>abort()</i></dt>
  <dd>Abort the transaction. Any changes made in <span class="Li">$txn</span>
      are discarded, and the filesystem is left unchanged.
    <p class="Pp">Note: This function first sets the state of
        <span class="Li">$txn</span> to 'dead', and then attempts to purge it
        and any related data from the filesystem. If some part of the cleanup
        process fails, <span class="Li">$txn</span> and some portion of its data
        may remain in the database after this function returns. Use
        <span class="Li">&quot;$fs-&gt;purge_txn()&quot;</span> to retry the
        transaction cleanup.</p>
  </dd>
  <dt>$txn-&gt;<i>base_revision()</i></dt>
  <dd>The transaction's base revision number.</dd>
  <dt>$txn-&gt;change_prop($name, $value)</dt>
  <dd>Add, change, or remove a property from the transaction. If
      <span class="Li">$value</span> is
      <span class="Li">&quot;undef&quot;</span> then the property
      <span class="Li">$name</span> is removed, if it exists. Otherwise the
      property <span class="Li">$name</span> is set to the new value.</dd>
  <dt>$txn-&gt;commit</dt>
  <dd></dd>
  <dt>$txn-&gt;<i>name()</i></dt>
  <dd>Full name of the revision, in the same format as can be passed to
      <span class="Li">&quot;$fs-&gt;open_txn()&quot;</span>.</dd>
  <dt>$txn-&gt;prop($name)</dt>
  <dd>The value of the transaction's <span class="Li">$name</span>
    property.</dd>
  <dt>$txn-&gt;<i>proplist()</i></dt>
  <dd>A reference to a hash containing all the transaction's properties, keyed
      by name.</dd>
  <dt>$txn-&gt;<i>root()</i></dt>
  <dd>The root directory of the transaction, as a
      <span class="Li">&quot;_p_svn_fs_root_t&quot;</span> object.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="_p_svn_fs_access_t"><a class="permalink" href="#_p_svn_fs_access_t">_p_svn_fs_access_t</a></h1>
<section class="Ss">
<h2 class="Ss" id="_s-1SYNOPSIS_s0"><a class="permalink" href="#_s-1SYNOPSIS_s0">SYNOPSIS</a></h2>
<span class="Li"></span>
<pre>
    my $access = SVN::Fs::create_access($username);

    my $access = $fs-&gt;get_access;
    $fs-&gt;set_access($access);

    my $username = $access-&gt;get_username;

    $access-&gt;add_lock_token($token);
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1METHODS_s0"><a class="permalink" href="#_s-1METHODS_s0">METHODS</a></h2>
<dl class="Bl-tag">
  <dt>$access-&gt;add_lock_token($token)</dt>
  <dd>Push a lock-token into the access context. The context remembers all
      tokens it receives, and makes them available to fs functions.</dd>
  <dt>$access-&gt;get_username</dt>
  <dd>The username represented by the access context.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="svn_fs_dirent_t"><a class="permalink" href="#svn_fs_dirent_t">svn_fs_dirent_t</a></h1>
An object representing a directory entry. Values of this type are returned as
  the values in the hash returned by
  <span class="Li">&quot;$root-&gt;dir_entries()&quot;</span>. They are like
  svn_dirent_t objects, but have less information.
<dl class="Bl-tag">
  <dt>$dirent-&gt;<i>id()</i></dt>
  <dd>TODO</dd>
  <dt>$dirent-&gt;<i>kind()</i></dt>
  <dd>Node kind. A number which matches one of these constants:
      <span class="Li">$SVN::Node::none</span>,
      <span class="Li">$SVN::Node::file</span>,
      <span class="Li">$SVN::Node::dir</span>,
      <span class="Li">$SVN::Node::unknown</span>.</dd>
  <dt>$dirent-&gt;<i>name()</i></dt>
  <dd>The filename of the directory entry.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="_p_svn_fs_path_change_t"><a class="permalink" href="#_p_svn_fs_path_change_t">_p_svn_fs_path_change_t</a></h1>
<dl class="Bl-tag">
  <dt>$change-&gt;<i>change_kind()</i></dt>
  <dd>The type of change made. A number which matches one of the following:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>$SVN::Fs::PathChange::modify</dt>
  <dd>Content at path modified.</dd>
  <dt>$SVN::Fs::PathChange::add</dt>
  <dd>Path added in transaction.</dd>
  <dt>$SVN::Fs::PathChange::delete</dt>
  <dd>Path removed in transaction.</dd>
  <dt>$SVN::Fs::PathChange::replace</dt>
  <dd>Path removed and re-added in transaction.</dd>
  <dt>$SVN::Fs::PathChange::reset</dt>
  <dd>Ignore all previous change items for path (internal-use only).</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>$change-&gt;<i>node_rev_id()</i></dt>
  <dd>Node revision id of changed path. A
      <span class="Li">&quot;_p_svn_fs_id_t&quot;</span> object.</dd>
  <dt>$change-&gt;<i>prop_mod()</i></dt>
  <dd>True if the properties were modified.</dd>
  <dt>$change-&gt;<i>text_mod()</i></dt>
  <dd>True if the text (content) was modified.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<span class="Li"></span>
<pre>
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    &quot;License&quot;); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-09-28</td>
    <td class="foot-os">perl v5.18.2</td>
  </tr>
</table>
</body>
</html>
