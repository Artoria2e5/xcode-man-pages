<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Socket6(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Socket6(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Socket6(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Socket6 - IPv6 related part of the C socket.h defines and structure manipulators
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
    use Socket;
    use Socket6;

    @res = getaddrinfo('hishost.com', 'daytime', AF_UNSPEC, SOCK_STREAM);
    $family = -1;
    while (scalar(@res) &gt;= 5) {
        ($family, $socktype, $proto, $saddr, $canonname, @res) = @res;

        ($host, $port) = getnameinfo($saddr, NI_NUMERICHOST | NI_NUMERICSERV);
        print STDERR &quot;Trying to connect to $host port $port...\n&quot;;

        socket(Socket_Handle, $family, $socktype, $proto) || next;
        connect(Socket_Handle, $saddr) &amp;&amp; last;

        close(Socket_Handle);
        $family = -1;
    }

    if ($family != -1) {
        print STDERR &quot;connected to $host port $port\n&quot;;
    } else {
        die &quot;connect attempt failed\n&quot;;
    }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This module provides glue routines to the various IPv6 functions.
<p class="Pp">If you use the Socket6 module, be sure to specify &quot;use
    Socket&quot; as well as &quot;use Socket6&quot;.</p>
<p class="Pp">Functions supplied are:</p>
<dl class="Bl-tag">
  <dt>inet_pton FAMILY, TEXT_ADDRESS</dt>
  <dd><span class="Li"></span>
    <pre>
    This function takes an IP address in presentation (or string) format
    and converts it into numeric (or binary) format.
    The type of IP address conversion (IPv4 versus IPv6) is controlled
    by the FAMILY argument.
    </pre>
  </dd>
  <dt>inet_ntop FAMILY, BINARY_ADDRESS</dt>
  <dd><span class="Li"></span>
    <pre>
    This function takes an IP address in numeric (or binary) format
    and converts it into presentation (or string) format
    The type of IP address conversion (IPv4 versus IPv6) is controlled
    by the FAMILY argument.
    </pre>
  </dd>
  <dt>pack_sockaddr_in6 PORT, ADDR</dt>
  <dd><span class="Li"></span>
    <pre>
    This function takes two arguments: a port number, and a 16-octet
    IPv6 address structure (as returned by inet_pton()).
    It returns the sockaddr_in6 structure with these arguments packed
    into their correct fields, as well as the AF_INET6 family.
    The other fields are not set and their values should not be relied upon.
    </pre>
  </dd>
  <dt>pack_sockaddr_in6_all PORT, FLOWINFO, ADDR, SCOPEID</dt>
  <dd><span class="Li"></span>
    <pre>
    This function takes four arguments: a port number, a 16-octet
    IPv6 address structure (as returned by inet_pton), any
    special flow information, and any specific scope information.
    It returns a complete sockaddr_in6 structure with these arguments packed
    into their correct fields, as well as the AF_INET6 family.
    </pre>
  </dd>
  <dt>unpack_sockaddr_in6 NAME</dt>
  <dd><span class="Li"></span>
    <pre>
    This function takes a sockaddr_in6 structure (as returned by
    pack_sockaddr_in6()) and returns a list of two elements:
    the port number and the 16-octet IP address.
    This function will croak if it determines it has not been
    passed an IPv6 structure.
    </pre>
  </dd>
  <dt>unpack_sockaddr_in6_all NAME</dt>
  <dd><span class="Li"></span>
    <pre>
    This function takes a sockaddr_in6 structure (as returned by
    pack_sockaddr_in6()) and returns a list of four elements:
    the port number, the flow information, the 16-octet IP address,
    and the scope information.
    This function will croak if it determines it has not been
    passed an IPv6 structure.
    </pre>
  </dd>
  <dt>gethostbyname2 HOSTNAME, FAMILY</dt>
  <dd></dd>
  <dt>getaddrinfo NODENAME, SERVICENAME, [FAMILY, SOCKTYPE, PROTOCOL,
    FLAGS]</dt>
  <dd><span class="Li"></span>
    <pre>
    This function converts node names to addresses and service names
    to port numbers.
    If the NODENAME argument is not a false value,
    then a nodename to address lookup is performed;
    otherwise a service name to port number lookup is performed.
    At least one of NODENAME and SERVICENAME must have a true value.

    If the lookup is successful, a list consisting of multiples of
    five elements is returned.
    Each group of five elements consists of the address family,
    socket type, protocol, 16-octet IP address, and the canonical
    name (undef if the node name passed is already the canonical name).

    The arguments FAMILY, SOCKTYPE, PROTOCOL, and FLAGS are all optional.

    This function will croak if it determines it has not been
    passed an IPv6 structure.

    If the lookup is unsuccessful, the function returns a single scalar.
    This will contain the string version of that error in string context,
    and the numeric value in numeric context.
    </pre>
  </dd>
  <dt>getnameinfo NAME, [FLAGS]</dt>
  <dd><span class="Li"></span>
    <pre>
    This function takes a socket address structure. If successful, it returns
    two strings containing the node name and service name.

    The optional FLAGS argument controls what kind of lookup is performed.

    If the lookup is unsuccessful, the function returns a single scalar.
    This will contain the string version of that error in string context,
    and the numeric value in numeric context.
    </pre>
  </dd>
  <dt>getipnodebyname HOST, [FAMILY, FLAGS]</dt>
  <dd><span class="Li"></span>
    <pre>
    This function takes either a node name or an IP address string
    and performs a lookup on that name (or conversion of the string).
    It returns a list of five elements: the canonical host name,
    the address family, the length in octets of the IP addresses
    returned, a reference to a list of IP address structures, and
    a reference to a list of aliases for the host name.

    The arguments FAMILY and FLAGS are optional.
    Note: This function does not handle IPv6 scope identifiers,
    and should be used with care.
    And, this function was deprecated in RFC3493.
    The getnameinfo function should be used instead.
    </pre>
  </dd>
  <dt>getipnodebyaddr FAMILY, ADDRESS</dt>
  <dd><span class="Li"></span>
    <pre>
    This function takes an IP address family and an IP address structure
    and performs a reverse lookup on that address.
    It returns a list of five elements: the canonical host name,
    the address family, the length in octets of the IP addresses
    returned, a reference to a list of IP address structures, and
    a reference to a list of aliases for the host name.

    Note: This function does not handle IPv6 scope identifiers,
    and should be used with care.
    And, this function was deprecated in RFC3493.
    The getaddrinfo function should be used instead.
    </pre>
  </dd>
  <dt>gai_strerror ERROR_NUMBER</dt>
  <dd><span class="Li"></span>
    <pre>
    This function returns a string corresponding to the error number
    passed in as an argument.
    </pre>
  </dd>
  <dt>in6addr_any</dt>
  <dd><span class="Li"></span>
    <pre>
    This function returns the 16-octet wildcard address.
    </pre>
  </dd>
  <dt>in6addr_loopback</dt>
  <dd><span class="Li"></span>
    <pre>
    This function returns the 16-octet loopback address.
    </pre>
  </dd>
</dl>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2018-09-30</td>
    <td class="foot-os">perl v5.28.2</td>
  </tr>
</table>
</body>
</html>
