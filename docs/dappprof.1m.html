<!DOCTYPE html>
<html>
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>dappprof(1m)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">dappprof(1m)</td>
    <td class="head-vol">USER COMMANDS</td>
    <td class="head-rtitle">dappprof(1m)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
dappprof - profile user and lib function usage. Uses DTrace.
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dappprof</b> [-acehoTU] [-u lib] { -p PID | command }
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
dappprof prints details on user and library call times for processes as a
  summary style aggragation. By default the user fuctions are traced, options
  can be used to trace library activity. Output can include function counts,
  elapsed times and on cpu times.
<p class="Pp">The elapsed times are interesting, to help identify functions that
    take some time to complete (during which the process may have slept). CPU
    time helps us identify syscalls that are consuming CPU cycles to run.</p>
<p class="Pp">Since this uses DTrace, only users with root privileges can run
    this command.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt>-a</dt>
  <dd>print all data</dd>
  <dt>-c</dt>
  <dd>print function counts</dd>
  <dt>-e</dt>
  <dd>print elapsed times, ns</dd>
  <dt>-o</dt>
  <dd>print CPU times, ns</dd>
  <dt>-T</dt>
  <dd>print totals</dd>
  <dt>-p PID</dt>
  <dd>examine this PID</dd>
  <dt>-u lib</dt>
  <dd>trace this library instead</dd>
  <dt>-U</dt>
  <dd>trace all library and user functions</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt>run and examine the &quot;df -h&quot; command,</dt>
  <dd># <b>dappprof</b> df -h</dd>
  <dt>print elapsed times, on-cpu times and counts for &quot;df -h&quot;,</dt>
  <dd># <b>dappprof</b> -ceo df -h</dd>
  <dt>print elapsed times for PID 1871,</dt>
  <dd># <b>dappprof</b> -p 1871</dd>
  <dt>print all data for PID 1871,</dt>
  <dd># <b>dappprof</b> -ap 1871</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="FIELDS"><a class="permalink" href="#FIELDS">FIELDS</a></h1>
<dl class="Bl-tag">
  <dt>CALL</dt>
  <dd>Function call name</dd>
  <dt>ELAPSED</dt>
  <dd>Total elapsed time, nanoseconds</dd>
  <dt>CPU</dt>
  <dd>Total on-cpu time, nanoseconds</dd>
  <dt>COUNT</dt>
  <dd>Number of occurrences</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="DOCUMENTATION"><a class="permalink" href="#DOCUMENTATION">DOCUMENTATION</a></h1>
See the DTraceToolkit for further documentation under the Docs directory. The
  DTraceToolkit docs may include full worked examples with verbose descriptions
  explaining the output.
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT"><a class="permalink" href="#EXIT">EXIT</a></h1>
dappprof will sample until Ctrl-C is hit.
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Brendan Gregg [Sydney, Australia]
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
dapptrace(1M), dtrace(1M), apptrace(1)
<p class="Pp"></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 14, 2005</td>
    <td class="foot-os">version 1.10</td>
  </tr>
</table>
</body>
</html>
