<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   -*- nroff -*-
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>MPSMatrixFullyConnectedGradient(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MPSMatrixFullyConnectedGradient(3)</td>
    <td class="head-vol">MetalPerformanceShaders.framework</td>
    <td class="head-rtitle">MPSMatrixFullyConnectedGradient(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
MPSMatrixFullyConnectedGradient
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">#import &lt;MPSMatrixFullyConnected.h&gt;</p>
<p class="Pp">Inherits <b>MPSMatrixBinaryKernel</b>.</p>
<section class="Ss">
<h2 class="Ss" id="Instance_Methods"><a class="permalink" href="#Instance_Methods">Instance
  Methods</a></h2>
<br/>
(nonnull instancetype) - <b>initWithDevice:</b>
<br/>
(void) -
  <b>encodeGradientForDataToCommandBuffer:gradientMatrix:weightMatrix:resultGradientForDataMatrix:</b>
<br/>
(void) -
  <b>encodeGradientForWeightsAndBiasToCommandBuffer:gradientMatrix:inputMatrix:resultGradientForWeightMatrix:resultGradientForBiasVector:</b>
<br/>
(nullable instancetype) - <b>initWithCoder:device:</b>
<br/>
(nonnull instancetype) - <b>copyWithZone:device:</b>
<br/>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="Properties"><a class="permalink" href="#Properties">Properties</a></h2>
<br/>
NSUInteger <b>sourceNumberOfFeatureVectors</b>
<br/>
NSUInteger <b>sourceOutputFeatureChannels</b>
<br/>
NSUInteger <b>sourceInputFeatureChannels</b>
<br/>
double <b>alpha</b>
<br/>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="Additional_Inherited_Members"><a class="permalink" href="#Additional_Inherited_Members">Additional
  Inherited Members</a></h2>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Detailed_Description"><a class="permalink" href="#Detailed_Description">Detailed
  Description</a></h1>
This depends on Metal.framework.
<p class="Pp">Computes the gradient of the fully connected layer with respect to
    either the weights and bias terms or the input feature vectors.</p>
<p class="Pp">An <b>MPSMatrixFullyConnectedGradient</b> kernel may be used to
    compute the gradients corresponding to a <b>MPSMatrixFullyConnected</b>
    kernel. The properties, input, and weight data must match those values used
    in the forward computation. This kernel does not compute the gradient of any
    non-identity activation function which may have been applied in the forward
    kernel. Such a kernel must be expressed using both
    <b>MPSMatrixFullyConnected</b> and <b>MPSMatrixNeuron</b> if a gradient is
    to be computed.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Method_Documentation"><a class="permalink" href="#Method_Documentation">Method
  Documentation</a></h1>
<section class="Ss">
<h2 class="Ss" id="_-_(nonnull_instancetype)_copyWithZone:_(nullable_NSZone_*)_zone(nullable_id__MTLDevice__)_device"><a class="permalink" href="#_-_(nonnull_instancetype)_copyWithZone:_(nullable_NSZone_*)_zone(nullable_id__MTLDevice__)_device">-
  (nonnull instancetype) copyWithZone: (nullable NSZone *) zone(nullable id&lt;
  MTLDevice &gt;) device</a></h2>
Make a copy of this kernel for a new device -
<p class="Pp"><b>See also:</b></p>
<div class="Bd-indent"><b>MPSKernel</b></div>
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>zone</i> The NSZone in which to allocate the object
<br/>
<i>device</i> The device for the new <b>MPSKernel</b>. If nil, then use
  self.device.</div>
<p class="Pp"><b>Returns:</b></p>
<div class="Bd-indent"><b>A</b> pointer to a copy of this <b>MPSKernel</b>. This
  will fail, returning nil if the device is not supported. Devices must be
  MTLFeatureSet_iOS_GPUFamily2_v1 or later.</div>
<p class="Pp">Reimplemented from <b>MPSKernel</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_-_(void)_encodeGradientForDataToCommandBuffer:_(nonnull_id__MTLCommandBuffer__)_commandBuffer(_fBMPSMatrix_fP_const_*__nonnull)_gradientMatrix(_fBMPSMatrix_fP_const_*__nonnull)_weightMatrix(_fBMPSMatrix_fP_*__nonnull)_resultGradientForDataMatrix"><a class="permalink" href="#_-_(void)_encodeGradientForDataToCommandBuffer:_(nonnull_id__MTLCommandBuffer__)_commandBuffer(_fBMPSMatrix_fP_const_*__nonnull)_gradientMatrix(_fBMPSMatrix_fP_const_*__nonnull)_weightMatrix(_fBMPSMatrix_fP_*__nonnull)_resultGradientForDataMatrix">-
  (void) encodeGradientForDataToCommandBuffer: (nonnull id&lt; MTLCommandBuffer
  &gt;) commandBuffer(<b>MPSMatrix</b> const *__nonnull)
  gradientMatrix(<b>MPSMatrix</b> const *__nonnull)
  weightMatrix(<b>MPSMatrix</b> *__nonnull) resultGradientForDataMatrix</a></h2>
Encode a <b>MPSMatrixFullyConnectedGradient</b> object to a command buffer and
  produce the gradient of the loss function with respect to the input data.
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>commandBuffer</i> <b>A</b> valid MTLCommandBuffer to
  receive the encoded kernel.
<br/>
<i>gradientMatrix</i> <b>A</b> valid <b>MPSMatrix</b> object which specifies the
  input gradient.
<br/>
<i>weightMatrix</i> <b>A</b> valid <b>MPSMatrix</b> object which specifies the
  weight array.
<br/>
<i>resultGradientForDataMatrix</i> <b>A</b> valid <b>MPSMatrix</b> object which
  specifies the result gradient.</div>
<p class="Pp">This operation computes the resulting gradient of the loss
    function with respect to the forward kernel's input data. weightMatrix
    should contain the same values used to compute the result of the forward
    kernel.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_-_(void)_encodeGradientForWeightsAndBiasToCommandBuffer:_(nonnull_id__MTLCommandBuffer__)_commandBuffer(_fBMPSMatrix_fP_const_*__nonnull)_gradientMatrix(_fBMPSMatrix_fP_const_*__nonnull)_inputMatrix(_fBMPSMatrix_fP_*__nonnull)_resultGradientForWeightMatrix(_fBMPSVector_fP_*__nullable)_resultGradientForBiasVector"><a class="permalink" href="#_-_(void)_encodeGradientForWeightsAndBiasToCommandBuffer:_(nonnull_id__MTLCommandBuffer__)_commandBuffer(_fBMPSMatrix_fP_const_*__nonnull)_gradientMatrix(_fBMPSMatrix_fP_const_*__nonnull)_inputMatrix(_fBMPSMatrix_fP_*__nonnull)_resultGradientForWeightMatrix(_fBMPSVector_fP_*__nullable)_resultGradientForBiasVector">-
  (void) encodeGradientForWeightsAndBiasToCommandBuffer: (nonnull id&lt;
  MTLCommandBuffer &gt;) commandBuffer(<b>MPSMatrix</b> const *__nonnull)
  gradientMatrix(<b>MPSMatrix</b> const *__nonnull) inputMatrix(<b>MPSMatrix</b>
  *__nonnull) resultGradientForWeightMatrix(<b>MPSVector</b> *__nullable)
  resultGradientForBiasVector</a></h2>
Encode a <b>MPSMatrixFullyConnectedGradient</b> object to a command buffer and
  produce the gradient of the loss function with respect to the weight matrix
  and bias vector.
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>commandBuffer</i> <b>A</b> valid MTLCommandBuffer to
  receive the encoded kernel.
<br/>
<i>gradientMatrix</i> <b>A</b> valid <b>MPSMatrix</b> object which specifies the
  input gradient.
<br/>
<i>inputMatrix</i> <b>A</b> valid <b>MPSMatrix</b> object which specifies the
  input array.
<br/>
<i>resultGradientForWeightMatrix</i> <b>A</b> valid <b>MPSMatrix</b> object
  which specifies the resulting gradients with respect to the weights.
<br/>
<i>resultGradientForBiasVector</i> <b>A</b> valid <b>MPSVector</b> object which
  specifies the resulting gradients with respect to the bias terms. If NULL
  these values will not be returned.</div>
<p class="Pp">This operation computes the resulting gradient of the loss
    function with respect to the forward kernel's weight data. inputMatrix
    should contain the same values used to compute the result of the forward
    kernel.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_-_(nullable_instancetype)__fBinitWithCoder:_fP_(NSCoder_*__nonnull)_aDecoder(nonnull_id__MTLDevice__)_device"><a class="permalink" href="#_-_(nullable_instancetype)__fBinitWithCoder:_fP_(NSCoder_*__nonnull)_aDecoder(nonnull_id__MTLDevice__)_device">-
  (nullable instancetype) <b>initWithCoder:</b> (NSCoder *__nonnull)
  aDecoder(nonnull id&lt; MTLDevice &gt;) device</a></h2>
<b>NSSecureCoding</b> compatability See <b>MPSKernel::initWithCoder</b>.
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>aDecoder</i> The NSCoder subclass with your serialized
  <b>MPSMatrixFullyConnectedGradient</b>
<br/>
<i>device</i> The MTLDevice on which to make the
  <b>MPSMatrixFullyConnectedGradient</b> object.</div>
<p class="Pp"><b>Returns:</b></p>
<div class="Bd-indent"><b>A</b> new <b>MPSMatrixFullyConnected</b> object, or
  nil if failure.</div>
<p class="Pp">Reimplemented from <b>MPSKernel</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_-_(nonnull_instancetype)_initWithDevice:_(nonnull_id__MTLDevice__)_device"><a class="permalink" href="#_-_(nonnull_instancetype)_initWithDevice:_(nonnull_id__MTLDevice__)_device">-
  (nonnull instancetype) initWithDevice: (nonnull id&lt; MTLDevice &gt;)
  device</a></h2>
Standard init with default properties per filter type
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>device</i> The device that the filter will be used on.
  May not be NULL.</div>
<p class="Pp"><b>Returns:</b></p>
<div class="Bd-indent">a pointer to the newly initialized object. This will
  fail, returning nil if the device is not supported. Devices must be
  MTLFeatureSet_iOS_GPUFamily2_v1 or later.</div>
<p class="Pp">Reimplemented from <b>MPSKernel</b>.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Property_Documentation"><a class="permalink" href="#Property_Documentation">Property
  Documentation</a></h1>
<section class="Ss">
<h2 class="Ss" id="_-_alpha_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP"><a class="permalink" href="#_-_alpha_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP">-
  alpha [read]<b>, [write]</b>, [nonatomic]<b>, [assign]</b></a></h2>
Scale factor to apply to the product. This value should be equal to the
  corresponding value in the forward fully connected kernel.
</section>
<section class="Ss">
<h2 class="Ss" id="_-_sourceInputFeatureChannels_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP"><a class="permalink" href="#_-_sourceInputFeatureChannels_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP">-
  sourceInputFeatureChannels [read]<b>, [write]</b>, [nonatomic]<b>,
  [assign]</b></a></h2>
The number of feature channels in the input to the forward fully connected
  layer. This is equivalent to the number of columns in the input matrix.
<p class="Pp">This value should be equal to the corresponding value in the
    forward fully connected kernel.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_-_sourceNumberOfFeatureVectors_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP"><a class="permalink" href="#_-_sourceNumberOfFeatureVectors_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP">-
  sourceNumberOfFeatureVectors [read]<b>, [write]</b>, [nonatomic]<b>,
  [assign]</b></a></h2>
The number of input vectors which make up the input array. This is equivalent to
  the number of rows in both the input matrix and the source gradient matrix.
<p class="Pp">This value should be equal to the corresponding value in the
    forward fully connected kernel.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_-_sourceOutputFeatureChannels_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP"><a class="permalink" href="#_-_sourceOutputFeatureChannels_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP">-
  sourceOutputFeatureChannels [read]<b>, [write]</b>, [nonatomic]<b>,
  [assign]</b></a></h2>
The number of feature channels in the output of the forward fully connected
  layer. This is equivalent to the number of columns in both the weight matrix
  and the source gradient matrix.
<p class="Pp">This value should be equal to the corresponding value in the
    forward fully connected kernel.</p>
<p class="Pp"></p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Author"><a class="permalink" href="#Author">Author</a></h1>
Generated automatically by Doxygen for MetalPerformanceShaders.framework from
  the source code.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Mon Jul 9 2018</td>
    <td class="foot-os">Version MetalPerformanceShaders-119.3</td>
  </tr>
</table>
</body>
</html>
