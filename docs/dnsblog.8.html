<!DOCTYPE html>
<html>
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>DNSBLOG(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DNSBLOG(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">DNSBLOG(8)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
dnsblog - Postfix DNS white/blacklist logger
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<b>dnsblog</b> [generic Postfix daemon options]
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<br/>
The <b>dnsblog</b>(8) server implements an ad-hoc DNS white/blacklist lookup
  service. This may eventually be replaced by an UDP client that is built
  directly into the <b>postscreen</b>(8) server.
</section>
<section class="Sh">
<h1 class="Sh" id="PROTOCOL"><a class="permalink" href="#PROTOCOL">PROTOCOL</a></h1>
<pre>
</pre>
With each connection, the <b>dnsblog</b>(8) server receives a DNS
  white/blacklist domain name, an IP address, and an ID. If the IP address is
  listed under the DNS white/blacklist, the <b>dnsblog</b>(8) server logs the
  match and replies with the query arguments plus an address list with the
  resulting IP addresses, separated by whitespace, and the reply TTL. Otherwise
  it replies with the query arguments plus an empty address list and the reply
  TTL; the reply TTL is -1 if there is no reply, or a negative reply that
  contains no SOA record. Finally, the <b>dnsblog</b>(8) server closes the
  connection.
</section>
<section class="Sh">
<h1 class="Sh" id="DIAGNOSTICS"><a class="permalink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
<br/>
Problems and transactions are logged to <b>syslogd</b>(8).
</section>
<section class="Sh">
<h1 class="Sh" id="CONFIGURATION_PARAMETERS"><a class="permalink" href="#CONFIGURATION_PARAMETERS">CONFIGURATION
  PARAMETERS</a></h1>
<pre>
</pre>
Changes to <b>main.cf</b> are picked up automatically, as <b>dnsblog</b>(8)
  processes run for only a limited amount of time. Use the command
  &quot;<b>postfix reload</b>&quot; to speed up a change.
<p class="Pp">The text below provides only a parameter summary. See
    <b>postconf</b>(5) for more details including examples.</p>
<dl class="Bl-tag">
  <dt><b>config_directory (see 'postconf -d' output)</b></dt>
  <dd>The default location of the Postfix main.cf and master.cf configuration
      files.</dd>
  <dt><b>daemon_timeout (18000s)</b></dt>
  <dd>How much time a Postfix daemon process may take to handle a request before
      it is terminated by a built-in watchdog timer.</dd>
  <dt><b>postscreen_dnsbl_sites (empty)</b></dt>
  <dd>Optional list of DNS white/blacklist domains, filters and weight
    factors.</dd>
  <dt><b>ipc_timeout (3600s)</b></dt>
  <dd>The time limit for sending or receiving information over an internal
      communication channel.</dd>
  <dt><b>process_id (read-only)</b></dt>
  <dd>The process ID of a Postfix command or daemon process.</dd>
  <dt><b>process_name (read-only)</b></dt>
  <dd>The process name of a Postfix command or daemon process.</dd>
  <dt><b>queue_directory (see 'postconf -d' output)</b></dt>
  <dd>The location of the Postfix top-level queue directory.</dd>
  <dt><b>syslog_facility (mail)</b></dt>
  <dd>The syslog facility of Postfix logging.</dd>
  <dt><b>syslog_name (see 'postconf -d' output)</b></dt>
  <dd>A prefix that is prepended to the process name in syslog records, so that,
      for example, &quot;smtpd&quot; becomes &quot;prefix/smtpd&quot;.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<pre>
smtpd(8), Postfix SMTP server
postconf(5), configuration parameters
syslogd(5), system logging
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
<pre>
</pre>
The Secure Mailer license must be distributed with this software.
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<br/>
<br/>
This service was introduced with Postfix version 2.8.
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR(S)"><a class="permalink" href="#AUTHOR(S)">AUTHOR(S)</a></h1>
<pre>
Wietse Venema
IBM T.J. Watson Research
P.O. Box 704
Yorktown Heights, NY 10598, USA
Wietse Venema
Google, Inc.
111 8th Avenue
New York, NY 10011, USA
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
