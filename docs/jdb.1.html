<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   t
   @(#)jdb.1 1.10 00/06/13 SMI;
   Copyright 2003 Sun Microsystems, Inc. All rights reserved.
   Copyright 2003 Sun Microsystems, Inc. Tous droits r\[u00E9]serv\[u00E9]s.
  
   This comment retained for historical purposes only:
    This document was created by saving an HTML file as text
    from the JavaSoft web site:
  
   http://java.sun.com/j2se/1.4/docs/tooldocs/tools.html
  
    and adding appropriate troff macros.
   -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>jdb(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">jdb(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">jdb(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
jdb - Java debugger
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>jdb</b> [ <i>options</i> ] [ <i>class</i> ] [ <i>arguments</i> ]
</section>
<section class="Sh">
<h1 class="Sh" id="PARAMETERS"><a class="permalink" href="#PARAMETERS">PARAMETERS</a></h1>
<dl class="Bl-tag">
  <dt><i>options</i></dt>
  <dd>Command-line options.</dd>
  <dt><i>class</i></dt>
  <dd>Name of the class to begin debugging.</dd>
  <dt><i>arguments</i></dt>
  <dd>Arguments passed to the <b>main()</b> method of <i>class</i>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The Java debugger, <b>jdb</b>, is a simple command-line debugger for Java
  classes. It is a demonstration of the <b>Java Platform Debugger
  Architecture</b> that provides inspection and debugging of a local or remote
  Java Virtual Machine.
<section class="Ss">
<h2 class="Ss" id="Starting_a_jdb_Session"><a class="permalink" href="#Starting_a_jdb_Session">Starting
  a jdb Session</a></h2>
There are many ways to start a jdb session. The most frequently used way is to
  have <b>jdb</b> launch a new Java Virtual Machine (VM) with the main class of
  the application to be debugged. This is done by substituting the command
  <b>jdb</b> for <b>java</b>(1) in the command line. For example, if your
  application's main class is <b>MyClass</b>, you use the following command to
  debug it under <b>jdb</b>:
<p class="Pp"></p>
<div class="Bd-indent"><b>example% jdb MyClass</b></div>
<p class="Pp">When started this way, <b>jdb</b> invokes a second Java VM with
    any specified parameters, loads the specified class, and stops the VM before
    executing that class's first instruction.</p>
<p class="Pp">Another way to use <b>jdb</b> is by attaching it to a Java VM that
    is already running. A VM that is to be debugged with <b>jdb</b> must be
    started with the following options:</p>
<p class="Pp"></p>
<table class="tbl" style="border-style: solid;">
  <tr style="border-bottom-style: double;">
    <td style="text-align: center; border-right-style: solid;">option</td>
    <td style="text-align: center;">purpose</td>
  </tr>
  <tr style="border-bottom-style: solid;">
    <td style="border-right-style: solid;">-Xdebug</td>
    <td>Enables debugging support in the VM.</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">-Xrunjdwp:transport=dt_socket,
      server=y,suspend=n</td>
    <td>Loads in-process debugging libraries and specifies the kind of
      connection to be made.</td>
  </tr>
</table>
<p class="Pp">For example, the following command will run the <b>MyClass</b>
    application and allow <b>jdb</b> to connect to it at a later time:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
<b></b><b>example% java -Xdebug \</b>
<b>-Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n \</b>
<b>Class</b>
</pre>
</div>
<p class="Pp">You can then attach <b>jdb</b> to the VM with the following
    command:</p>
<p class="Pp"></p>
<div class="Bd-indent"><b>example% jdb -attach 8000</b></div>
<p class="Pp">Note that <b>MyClass</b> is not specified in the <b>jdb</b>
    command line in this case because <b>jdb</b> is connecting to an existing VM
    instead of launching a new one.</p>
<p class="Pp">There are many other ways to connect the debugger to a VM, and all
    of them are supported by <b>jdb</b>. The Java Platform Debugger Architecture
    has additional documentation on these connection options.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Basic_jdb_Commands"><a class="permalink" href="#Basic_jdb_Commands">Basic
  jdb Commands</a></h2>
The following is a list of the basic <b>jdb</b> commands. The Java debugger
  supports other commands listed with the <b>help</b> command.
<p class="Pp">Notice that to display local (stack) variables, the class must
    have been compiled with the <b>javac -g</b> option.</p>
<dl class="Bl-tag">
  <dt><b>cont</b></dt>
  <dd>Continues execution of the debugged application after a breakpoint,
      exception, or step.</dd>
  <dt><b>dump</b></dt>
  <dd>For primitive values, this command is identical to <b>print</b>. For
      objects, it prints the current value of each field defined in the object.
      Static and instance fields are included.
    <p class="Pp">The <b>dump</b> command supports the same set of expressions
        as the <b>print</b> command.</p>
  </dd>
  <dt><b>help</b>, or <b>?</b></dt>
  <dd>As the most important <b>jdb</b> command, <b>help</b> displays the list of
      recognized commands with a brief description.</dd>
  <dt><b>print</b></dt>
  <dd>Displays Java objects and primitive values. For variables or fields of
      primitive types, the actual value is printed. For objects, a short
      description is printed. See the <b>dump</b> command for getting more
      information about an object.
    <p class="Pp"><b>print</b> supports many simple Java expressions including
        those with method invocations. For example:</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd><b>print MyClass.myStaticField</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>print myObj.myInstanceField</b></dd>
  <dt>&#x2022;</dt>
  <dd><b>print</b> <i>i</i> <b>+</b> <i>j</i> <b>+</b> <i>k</i> ... where
      <i>i</i>, <i>j</i>, and <i>k</i> are primitives and either fields or local
      variables.</dd>
  <dt>&#x2022;</dt>
  <dd><b>print myObj.myMethod()</b> ... if <b>myMethod</b> returns a
    non-null.</dd>
  <dt>&#x2022;</dt>
  <dd><b>print new java.lang.String(&quot;Hello&quot;).length()</b></dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt><b>thread</b></dt>
  <dd>Selects a thread to be the current thread. Many <b>jdb</b> commands are
      based on the setting of the current thread. The thread is specified with
      the thread index described in the <b>threads command.</b></dd>
  <dt><b>threads</b></dt>
  <dd>Lists the threads that are currently running. For each thread, its name
      and current status are printed, as well as an index that can be used for
      other commands. For example:
    <p class="Pp"></p>
  </dd>
</dl>
<div class="Bd-indent"><b>4. (java.lang.Thread)0x1 main running</b></div>
<div class="Bd-indent">
<p class="Pp">In this example, the thread index is <b>4</b>, the thread is an
    instance of <b>java.lang.Thread</b>, the thread name is <b>main</b>, and it
    is currently running</p>
</div>
<dl class="Bl-tag">
  <dt><b>run</b></dt>
  <dd>After starting <b>jdb</b>, and setting any necessary breakpoints, use this
      command to start the execution of the debugged application. This command
      is available only when <b>jdb</b> launches the debugged application (as
      opposed to attaching to an existing VM).</dd>
  <dt><b>where</b></dt>
  <dd>The <b>where</b> subcommand with no arguments dumps the stack of the
      current thread (which is set with the <b>thread</b> command). Using
      <b>where all</b> dumps the stack of all threads in the current thread
      group. Using <b>where</b><i> threadindex</i> dumps the stack of the
      specified thread. If the current thread is suspended (either through an
      event such as a breakpoint or through the <b>suspend</b> command), local
      variables and fields can be displayed with the <b>print</b> and
      <b>dump</b> commands. The <b>up</b> and <b>down</b> commands select which
      stack frame is current.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Breakpoint_Commands"><a class="permalink" href="#Breakpoint_Commands">Breakpoint
  Commands</a></h2>
Breakpoints are set in <b>jdb</b> at line numbers or at the first instruction of
  a method. For example:
<dl class="Bl-tag">
  <dt><b>stop at MyClass:22</b></dt>
  <dd>Sets a breakpoint at the first instruction for line <b>22</b> of the
      source file containing <b>MyClass</b>.</dd>
  <dt><b>stop in java.lang.String.length</b></dt>
  <dd>Sets a breakpoint at the beginning of the method
      <b>java.lang.String.length</b>.</dd>
  <dt><b>stop in MyClass.</b><i>init</i></dt>
  <dd><i>init</i> identifies the <b>MyClass</b> constructor.</dd>
  <dt><b>stop in MyClass.</b><i>clinit</i></dt>
  <dd><i>clinit</i> identifies the static initialization code for
      <b>MyClass</b>.</dd>
</dl>
<p class="Pp">If a method is overloaded, you must also specify its argument
    types so that the proper method can be selected for a breakpoint. For
    example,</p>
<p class="Pp"></p>
<div class="Bd-indent"><b>MyClass.myMethod(int,java.lang.String)</b></div>
<p class="Pp">or</p>
<p class="Pp"></p>
<div class="Bd-indent"><b>MyClass.myMethod()</b></div>
<p class="Pp">The <b>clear</b> command removes breakpoints using a syntax as in
    <b>clear</b>MyClass:45<b>.</b> Using the <b>clear</b> command with no
    argument displays a list of all breakpoints currently set. The <b>cont</b>
    command continues execution.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Stepping_Commands"><a class="permalink" href="#Stepping_Commands">Stepping
  Commands</a></h2>
The <b>step</b> command advances execution to the next line, whether it is in
  the current stack frame or a called method. The <b>next</b> command advances
  execution to the next line in the current stack frame.
</section>
<section class="Ss">
<h2 class="Ss" id="Exception_Commands"><a class="permalink" href="#Exception_Commands">Exception
  Commands</a></h2>
When an exception occurs for which there is no catch statement anywhere in the
  throwing thread's call stack, the VM normally prints an exception trace and
  exits. When running under <b>jdb</b>, however, control returns to <b>jdb</b>
  at the offending throw. Use <b>jdb</b> to determine the cause of the
  exception.
<dl class="Bl-tag">
  <dt><b>catch</b></dt>
  <dd>Causes the debugged application to stop at other thrown exceptions. For
      example:</dd>
</dl>
<p class="Pp"></p>
<div class="Bd-indent"><b>catch java.io.FileNotFoundException</b></div>
<p class="Pp"></p>
<div class="Bd-indent">or</div>
<p class="Pp"></p>
<div class="Bd-indent"><b>catch mypackage.BigTroubleException</b></div>
<p class="Pp"></p>
<div class="Bd-indent">Any exception which is an instance of the specified class
  (or of a subclass) will stop the application at the point where it is
  thrown.</div>
<dl class="Bl-tag">
  <dt><b>ignore</b></dt>
  <dd>Negates the effect of a previous <b>catch</b> command. Notice that the
      <b>ignore</b> command does not cause the debugged VM to ignore specific
      exceptions, only the debugger.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
When using <b>jdb</b> in place of the Java application launcher on the command
  line, <b>jdb</b> accepts many of the same options as the <b>java</b>(1)
  command, including <b>-D</b>, <b>-classpath</b>, and <b>-X</b><i>option.</i>
<p class="Pp">The following additional options are accepted by <b>jdb</b>:</p>
<dl class="Bl-tag">
  <dt><b>-sourcepath</b><i> dir1:<i>dir2</i>:...</i></dt>
  <dd>Uses the given path in searching for source files in the specified path.
      If this option is not specified, the default path of &quot;.&quot; is
      used.</dd>
  <dt><b>-attach</b><i> address</i></dt>
  <dd>Attaches the debugger to previously running VM using the default
      connection mechanism.</dd>
  <dt><b>-launch</b></dt>
  <dd>Launches the debugged application immediately upon startup of <b>jdb</b>.
      This option removes the need for using the <b>run</b> command. The debuged
      application is launched and then stopped just before the initial
      application class is loaded. At that point, you can set any necessary
      breakpoints and use the <b>cont</b> command to continue execution.</dd>
  <dt><b>-J option</b></dt>
  <dd>Pass <i>option</i> to the Java virtual machine, where <i>option</i> is one
      of the options described on the man page for the java application
      launcher, java(1). For example, <i>-J-Xms48m</i> sets the startup memory
      to 48 megabytes. It is a common convention for <b>-J</b> to pass options
      to the underlying virtual machine.
    <p class="Pp"></p>
  </dd>
</dl>
<p class="Pp">Other options are supported for alternate mechanisms for
    connecting the debugger and the VM it is to debug. The Java Platform
    Debugger Architecture has additional documentation on these connection
    alternatives.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>java</b>(1), <b>javac</b>(1), <b>javadoc</b>(1), <b>javah</b>(1),
  <b>javap</b>(1)
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">12 Nov 2001</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
