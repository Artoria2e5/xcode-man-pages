<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>inc::latest(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">inc::latest(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">inc::latest(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
inc::latest - use modules bundled in inc/ if they are newer than installed ones
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
version 0.500
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  # in Makefile.PL or Build.PL
  use inc::latest 'Some::Configure::Prereq';
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>WARNING -- THIS IS AN EXPERIMENTAL MODULE</b>. It was originally bundled (as
  an experiment) with Module::Build and has been split out for more general use.
<p class="Pp">The <span class="Li">&quot;inc::latest&quot;</span> module helps
    bootstrap configure-time dependencies for CPAN distributions. These
    dependencies get bundled into the <span class="Li">&quot;inc&quot;</span>
    directory within a distribution and are used by <i>Makefile.PL</i> or
    <i>Build.PL</i>.</p>
<p class="Pp">Arguments to <span class="Li">&quot;inc::latest&quot;</span> are
    module names that are checked against both the current
    <span class="Li">@INC</span> array and against specially-named directories
    in <span class="Li">&quot;inc&quot;</span>. If the bundled version is newer
    than the installed one (or the module isn't installed, then, the bundled
    directory is added to the start of <span class="Li">@INC</span> and the
    module is loaded from there.</p>
<p class="Pp">There are actually two variations of
    <span class="Li">&quot;inc::latest&quot;</span> -- one for authors and one
    for the <span class="Li">&quot;inc&quot;</span> directory. For distribution
    authors, the <span class="Li">&quot;inc::latest&quot;</span> installed in
    the system will record modules loaded via
    <span class="Li">&quot;inc::latest&quot;</span> and can be used to create
    the bundled files in <span class="Li">&quot;inc&quot;</span>, including
    writing the second variation as
    <span class="Li">&quot;inc/latest.pm&quot;</span>.</p>
<p class="Pp">This second <span class="Li">&quot;inc::latest&quot;</span> is the
    one that is loaded in a distribution being installed (e.g. from
    <i>Makefile.PL</i> or <i>Build.PL</i>). This bundled
    <span class="Li">&quot;inc::latest&quot;</span> is the one that determines
    which module to load.</p>
<section class="Ss">
<h2 class="Ss" id="Special_notes_on_bundling"><a class="permalink" href="#Special_notes_on_bundling">Special
  notes on bundling</a></h2>
The <span class="Li">&quot;inc::latest&quot;</span> module creates bundled
  directories based on the packlist file of an installed distribution. Even
  though <span class="Li">&quot;inc::latest&quot;</span> takes module name
  arguments, it is better to think of it as bundling and making available entire
  <i>distributions</i>. When a module is loaded through
  <span class="Li">&quot;inc::latest&quot;</span>, it looks in all bundled
  distributions in <span class="Li">&quot;inc/&quot;</span> for a newer module
  than can be found in the existing <span class="Li">@INC</span> array.
<p class="Pp">Thus, the module-name provided should usually be the
    &quot;top-level&quot; module name of a distribution, though this is not
    strictly required. <span class="Li">&quot;inc::latest&quot;</span> has a
    number of heuristics to discover module names, allowing users to do things
    like this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  use inc::latest 'Devel::AssertOS::Unix';
</pre>
<p class="Pp">even though Devel::AssertOS::Unix is contained within the
    Devel-CheckOS distribution.</p>
<p class="Pp">At the current time, packlists are required. Thus, bundling
    dual-core modules may require a 'forced install' over versions in the latest
    version of perl in order to create the necessary packlist for bundling.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Managing_dependency_chains"><a class="permalink" href="#Managing_dependency_chains">Managing
  dependency chains</a></h2>
Before bundling a distribution you must ensure that all prerequisites are also
  bundled and load in the correct order.
<p class="Pp">For example, if you need
    <span class="Li">&quot;Wibble&quot;</span>, but
    <span class="Li">&quot;Wibble&quot;</span> depends on
    <span class="Li">&quot;Wobble&quot;</span>, and you have bundled
    <span class="Li">&quot;Module::Build&quot;</span>, your <i>Build.PL</i>
    might look like this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  use inc::latest 'Wobble';
  use inc::latest 'Wibble';
  use inc::latest 'Module::Build';

  Module::Build-&gt;new(
    module_name =&gt; 'Foo::Bar',
    license =&gt; 'perl',
  )-&gt;create_build_script;
</pre>
<p class="Pp">Authors are strongly suggested to limit the bundling of additional
    dependencies if at all possible and to carefully test their distribution
    tarballs before uploading to CPAN.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="USAGE"><a class="permalink" href="#USAGE">USAGE</a></h1>
<section class="Ss">
<h2 class="Ss" id="As_bundled_in_inc/"><a class="permalink" href="#As_bundled_in_inc/">As
  bundled in inc/</a></h2>
Using &quot;Author-mode&quot;, a special stub module will be created in your
  distribute directory as <i>inc/latest.pm</i>. In your <i>Makefile.PL</i> or
  <i>Build.PL</i>, you can then load
  <span class="Li">&quot;inc::latest&quot;</span> to load bundled modules.
<p class="Pp">When calling <span class="Li">&quot;use&quot;</span>, the bundled
    <span class="Li">&quot;inc::latest&quot;</span> takes a single module name
    and optional arguments to pass to that module's own import method.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  use inc::latest 'Foo::Bar' qw/foo bar baz/;
</pre>
<p class="Pp">The implementation is private. Only the
    <span class="Li">&quot;import&quot;</span> method is public.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Author-mode"><a class="permalink" href="#Author-mode">Author-mode</a></h2>
When you have inc::latest installed from CPAN, then you are in author-mode if
  any of the Author-mode methods are available. For example:
<p class="Pp"><span class="Li"></span></p>
<pre>
  if ( inc::latest-&gt;can('write') ) {
    inc::latest-&gt;write('inc');
  }
</pre>
<p class="Pp">Using author-mode, you can create the stub <i>inc/latest.pm</i>
    and bundle modules into <i>inc</i>.</p>
<dl class="Bl-tag">
  <dt><b>loaded_modules()</b></dt>
  <dd><span class="Li"></span>
    <pre>
  my @list = inc::latest-&gt;loaded_modules;
    </pre>
    <p class="Pp">This takes no arguments and always returns a list of module
        names requested for loading via &quot;use inc::latest 'MODULE'&quot;,
        regardless of whether the load was successful or not.</p>
  </dd>
  <dt><b>write()</b></dt>
  <dd><span class="Li"></span>
    <pre>
  inc::latest-&gt;write( 'inc' );
    </pre>
    <p class="Pp">This writes the bundled version of inc::latest to the
        directory name given as an argument. It almost all cases, it should be
        '<span class="Li">&quot;inc&quot;</span>'.</p>
  </dd>
  <dt><b>bundle_module()</b></dt>
  <dd><span class="Li"></span>
    <pre>
  for my $mod ( inc::latest-&gt;loaded_modules ) {
    inc::latest-&gt;bundle_module($mod, $dir);
  }
    </pre>
    <p class="Pp">If <span class="Li">$mod</span> corresponds to a packlist,
        then this function creates a specially-named directory in
        <span class="Li">$dir</span> and copies all .pm files from the modlist
        to the new directory (which almost always should just be 'inc'). For
        example, if Foo::Bar is the name of the module, and
        <span class="Li">$dir</span> is 'inc', then the directory would be
        'inc/inc_Foo-Bar' and contain files like this:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  inc/inc_Foo-Bar/Foo/Bar.pm
    </pre>
    <p class="Pp">Currently, <span class="Li">$mod</span> <b>must</b> have a
        packlist. If this is not the case (e.g. for a dual-core module), then
        the bundling will fail. You may be able to create a packlist by forced
        installing the module on top of the version that came with core
      Perl.</p>
  </dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
<section class="Ss">
<h2 class="Ss" id="Bugs_/_Feature_Requests"><a class="permalink" href="#Bugs_/_Feature_Requests">Bugs
  / Feature Requests</a></h2>
Please report any bugs or feature requests through the issue tracker at
  &lt;https://github.com/dagolden/inc-latest/issues&gt;. You will be notified
  automatically of any progress on your issue.
</section>
<section class="Ss">
<h2 class="Ss" id="Source_Code"><a class="permalink" href="#Source_Code">Source
  Code</a></h2>
This is open source software. The code repository is available for public review
  and contribution under the terms of the license.
<p class="Pp">&lt;https://github.com/dagolden/inc-latest&gt;</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  git clone https://github.com/dagolden/inc-latest.git
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<ul class="Bl-bullet">
  <li>David Golden &lt;dagolden@cpan.org&gt;</li>
  <li>Eric Wilhelm &lt;ewilhelm@cpan.org&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
This software is Copyright (c) 2009 by David Golden.
<p class="Pp">This is free software, licensed under:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  The Apache License, Version 2.0, January 2004
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-12-06</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
