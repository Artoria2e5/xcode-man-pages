<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
  	$Id: makewhatis.8,v 1.6 2017/05/17 22:27:12 schwarze Exp $
  
   Copyright (c) 2011, 2012 Kristaps Dzonsons <kristaps@bsd.lv>
   Copyright (c) 2011, 2012, 2014, 2017 Ingo Schwarze <schwarze@openbsd.org>
  
   Permission to use, copy, modify, and distribute this software for any
   purpose with or without fee is hereby granted, provided that the above
   copyright notice and this permission notice appear in all copies.
  
   THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
   WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
   MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
   ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
   WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
   ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
   OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
   -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>MAKEWHATIS(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MAKEWHATIS(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">MAKEWHATIS(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">makewhatis</code> &#x2014;
<div class="Nd">index UNIX manuals</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">makewhatis</code></td>
    <td>[<code class="Fl">-aDnpQ</code>] [<code class="Fl">-T</code>
      <code class="Cm">utf8</code>] [<code class="Fl">-C</code>
      <var class="Ar">file</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">makewhatis</code></td>
    <td>[<code class="Fl">-aDnpQ</code>] [<code class="Fl">-T</code>
      <code class="Cm">utf8</code>] <var class="Ar">dir ...</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">makewhatis</code></td>
    <td>[<code class="Fl">-DnpQ</code>] [<code class="Fl">-T</code>
      <code class="Cm">utf8</code>] <code class="Fl">-d</code>
      <var class="Ar">dir</var> [<var class="Ar">file ...</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">makewhatis</code></td>
    <td>[<code class="Fl">-Dnp</code>] [<code class="Fl">-T</code>
      <code class="Cm">utf8</code>] <code class="Fl">-u</code>
      <var class="Ar">dir</var> [<var class="Ar">file ...</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">makewhatis</code></td>
    <td>[<code class="Fl">-DQ</code>] <code class="Fl">-t</code>
      <var class="Ar">file ...</var></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <code class="Nm">makewhatis</code> utility extracts keywords from
  <span class="Ux">UNIX</span> manuals and indexes them in a database for fast
  retrieval by <a class="Xr">apropos(1)</a>, <a class="Xr">whatis(1)</a>, and
  <a class="Xr">man(1)</a>'s <code class="Fl">-k</code> option.
<p class="Pp">By default, <code class="Nm">makewhatis</code> creates a database
    in each <var class="Ar">dir</var> using the files
    <b class="Sy">man</b><var class="Ar">section</var><code class="Li">/</code>[<var class="Ar">arch</var><code class="Li">/</code>]<var class="Ar">title</var>.<var class="Ar">section</var>
    and
    <b class="Sy">cat</b><var class="Ar">section</var><code class="Li">/</code>
    [<var class="Ar">arch</var><code class="Li">/</code>]<var class="Ar">title</var>.<b class="Sy">0</b>
    in that directory. Existing databases are replaced. If a directory contains
    no manual pages, no database is created in that directory. If
    <var class="Ar">dir</var> is not provided,
    <code class="Nm">makewhatis</code> uses the default paths stipulated by
    <a class="Xr">man.conf(5)</a>.</p>
<p class="Pp">The arguments are as follows:</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#a"><code class="Fl" id="a">-a</code></a></dt>
  <dd>Use all directories and files found below <var class="Ar">dir
    ...</var>.</dd>
  <dt><a class="permalink" href="#C"><code class="Fl" id="C">-C</code></a>
    <var class="Ar">file</var></dt>
  <dd>Specify an alternative configuration <var class="Ar">file</var> in
      <a class="Xr">man.conf(5)</a> format.</dd>
  <dt><a class="permalink" href="#D"><code class="Fl" id="D">-D</code></a></dt>
  <dd>Display all files added or removed to the index. With a second
      <code class="Fl">-D</code>, also show all keywords added for each
    file.</dd>
  <dt><a class="permalink" href="#d"><code class="Fl" id="d">-d</code></a>
    <var class="Ar">dir</var></dt>
  <dd>Merge (remove and re-add) <var class="Ar">file ...</var> to the database
      in <var class="Ar">dir</var>.</dd>
  <dt><a class="permalink" href="#n"><code class="Fl" id="n">-n</code></a></dt>
  <dd>Do not create or modify any database; scan and parse only, and print
      manual page names and descriptions to standard output.</dd>
  <dt><a class="permalink" href="#p"><code class="Fl" id="p">-p</code></a></dt>
  <dd>Print warnings about potential problems with manual pages to the standard
      error output.</dd>
  <dt><a class="permalink" href="#Q"><code class="Fl" id="Q">-Q</code></a></dt>
  <dd>Quickly build reduced-size databases by reading only the NAME sections of
      manuals. The resulting databases will usually contain names and
      descriptions only.</dd>
  <dt><a class="permalink" href="#T"><code class="Fl" id="T">-T</code></a>
    <code class="Cm">utf8</code></dt>
  <dd>Use UTF-8 encoding instead of ASCII for strings stored in the
    databases.</dd>
  <dt><a class="permalink" href="#t"><code class="Fl" id="t">-t</code></a>
    <var class="Ar">file ...</var></dt>
  <dd>Check the given <var class="Ar">files</var> for potential problems.
      Implies <code class="Fl">-a</code>, <code class="Fl">-n</code>, and
      <code class="Fl">-p</code>. All diagnostic messages are printed to the
      standard output; the standard error output is not used.</dd>
  <dt><a class="permalink" href="#u"><code class="Fl" id="u">-u</code></a>
    <var class="Ar">dir</var></dt>
  <dd>Remove <var class="Ar">file ...</var> from the database in
      <var class="Ar">dir</var>. If that causes the database to become empty,
      also delete the database file.</dd>
</dl>
<p class="Pp">If fatal parse errors are encountered while parsing, the offending
    file is printed to stderr, omitted from the index, and the parse continues
    with the next input file.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#MANPATH"><code class="Ev" id="MANPATH">MANPATH</code></a></dt>
  <dd>A colon-separated list of directories to create databases in. Ignored if a
      <var class="Ar">dir</var> argument or the <code class="Fl">-t</code>
      option is specified.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt><span class="Pa">mandoc.db</span></dt>
  <dd>A database of manpages relative to the directory of the file. This file is
      portable across architectures and systems, so long as the manpage
      hierarchy it indexes does not change.</dd>
  <dt><span class="Pa">/etc/man.conf</span></dt>
  <dd>The default <a class="Xr">man(1)</a> configuration file.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
The <code class="Nm">makewhatis</code> utility exits with one of the following
  values:
<p class="Pp"></p>
<dl class="Bl-tag Bl-compact">
  <dt>0</dt>
  <dd>No errors occurred.</dd>
  <dt>5</dt>
  <dd>Invalid command line arguments were specified. No input files have been
      read.</dd>
  <dt>6</dt>
  <dd>An operating system error occurred, for example memory exhaustion or an
      error accessing input files. Such errors cause
      <code class="Nm">makewhatis</code> to exit at once, possibly in the middle
      of parsing or formatting a file. The output databases are corrupt and
      should be removed.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr">apropos(1)</a>, <a class="Xr">man(1)</a>,
  <a class="Xr">whatis(1)</a>, <a class="Xr">man.conf(5)</a>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
A <code class="Nm">makewhatis</code> utility first appeared in
  <span class="Ux">2BSD</span>. It was rewritten in <a class="Xr">perl(1)</a>
  for <span class="Ux">OpenBSD 2.7</span> and in C for <span class="Ux">OpenBSD
  5.6</span>.
<p class="Pp">The <var class="Ar">dir</var> argument first appeared in
    <span class="Ux">NetBSD 1.0</span>; the options <code class="Fl">-dpt</code>
    in <span class="Ux">OpenBSD 2.7</span>; the option
    <code class="Fl">-u</code> in <span class="Ux">OpenBSD 3.4</span>; and the
    options <code class="Fl">-aCDnQT</code> in <span class="Ux">OpenBSD
    5.6</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<span class="An">Bill Joy</span> wrote the original <span class="Ux">BSD</span>
  <code class="Nm">makewhatis</code> in February 1979, <span class="An">Marc
  Espie</span> started the Perl version in 2000, and the current version of
  <code class="Nm">makewhatis</code> was written by <span class="An">Kristaps
  Dzonsons</span>
  &lt;<a class="Mt" href="mailto:kristaps@bsd.lv">kristaps@bsd.lv</a>&gt; and
  <span class="An">Ingo Schwarze</span>
  &lt;<a class="Mt" href="mailto:schwarze@openbsd.org">schwarze@openbsd.org</a>&gt;.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 17, 2017</td>
    <td class="foot-os">Mac OS X 10.15</td>
  </tr>
</table>
</body>
</html>
