<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>CPAN::Meta::Converter(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CPAN::Meta::Converter(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">CPAN::Meta::Converter(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
CPAN::Meta::Converter - Convert CPAN distribution metadata structures
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
version 2.150010
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  my $struct = decode_json_file('META.json');

  my $cmc = CPAN::Meta::Converter-&gt;new( $struct );

  my $new_struct = $cmc-&gt;convert( version =&gt; &quot;2&quot; );
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This module converts CPAN Meta structures from one form to another. The primary
  use is to convert older structures to the most modern version of the
  specification, but other transformations may be implemented in the future as
  needed. (E.g. stripping all custom fields or stripping all optional fields.)
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="new"><a class="permalink" href="#new">new</a></h2>
<span class="Li"></span>
<pre>
  my $cmc = CPAN::Meta::Converter-&gt;new( $struct );
</pre>
<p class="Pp">The constructor should be passed a valid metadata structure but
    invalid structures are accepted. If no meta-spec version is provided,
    version 1.0 will be assumed.</p>
<p class="Pp">Optionally, you can provide a
    <span class="Li">&quot;default_version&quot;</span> argument after
    <span class="Li">$struct</span>:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $cmc = CPAN::Meta::Converter-&gt;new( $struct, default_version =&gt; &quot;1.4&quot; );
</pre>
<p class="Pp">This is only needed when converting a metadata fragment that does
    not include a <span class="Li">&quot;meta-spec&quot;</span> field.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="convert"><a class="permalink" href="#convert">convert</a></h2>
<span class="Li"></span>
<pre>
  my $new_struct = $cmc-&gt;convert( version =&gt; &quot;2&quot; );
</pre>
<p class="Pp">Returns a new hash reference with the metadata converted to a
    different form. <span class="Li">&quot;convert&quot;</span> will die if any
    conversion/standardization still results in an invalid structure.</p>
<p class="Pp">Valid parameters include:</p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd><span class="Li">&quot;version&quot;</span> -- Indicates the desired
      specification version (e.g. &quot;1.0&quot;, &quot;1.1&quot; ...
      &quot;1.4&quot;, &quot;2&quot;). Defaults to the latest version of the
      CPAN Meta Spec.</dd>
</dl>
<p class="Pp">Conversion proceeds through each version in turn. For example, a
    version 1.2 structure might be converted to 1.3 then 1.4 then finally to
    version 2. The conversion process attempts to clean-up simple errors and
    standardize data. For example, if <span class="Li">&quot;author&quot;</span>
    is given as a scalar, it will converted to an array reference containing the
    item. (Converting a structure to its own version will also clean-up and
    standardize.)</p>
<p class="Pp">When data are cleaned and standardized, missing or invalid fields
    will be replaced with sensible defaults when possible. This may be lossy or
    imprecise. For example, some badly structured META.yml files on CPAN have
    prerequisite modules listed as both keys and values:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  requires =&gt; { 'Foo::Bar' =&gt; 'Bam::Baz' }
</pre>
<p class="Pp">These would be split and each converted to a prerequisite with a
    minimum version of zero.</p>
<p class="Pp">When some mandatory fields are missing or invalid, the conversion
    will attempt to provide a sensible default or will fill them with a value of
    'unknown'. For example a missing or unrecognized
    <span class="Li">&quot;license&quot;</span> field will result in a
    <span class="Li">&quot;license&quot;</span> field of 'unknown'. Fields that
    may get an 'unknown' include:</p>
<ul class="Bl-bullet">
  <li>abstract</li>
  <li>author</li>
  <li>license</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="upgrade_fragment"><a class="permalink" href="#upgrade_fragment">upgrade_fragment</a></h2>
<span class="Li"></span>
<pre>
  my $new_struct = $cmc-&gt;upgrade_fragment;
</pre>
<p class="Pp">Returns a new hash reference with the metadata converted to the
    latest version of the CPAN Meta Spec. No validation is done on the result --
    you must validate after merging fragments into a complete metadata
  document.</p>
<p class="Pp">Available since version 2.141170.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
Please report any bugs or feature using the CPAN Request Tracker. Bugs can be
  submitted through the web interface at
  &lt;http://rt.cpan.org/Dist/Display.html?Queue=CPAN-Meta&gt;
<p class="Pp">When submitting a bug or request, please include a test-file or a
    patch to an existing test-file that illustrates the bug or desired
  feature.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<ul class="Bl-bullet">
  <li>David Golden &lt;dagolden@cpan.org&gt;</li>
  <li>Ricardo Signes &lt;rjbs@cpan.org&gt;</li>
  <li>Adam Kennedy &lt;adamk@cpan.org&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
This software is copyright (c) 2010 by David Golden, Ricardo Signes, Adam
  Kennedy and Contributors.
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2018-11-01</td>
    <td class="foot-os">perl v5.28.2</td>
  </tr>
</table>
</body>
</html>
