<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Mail::DKIM::DkPolicy(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Mail::DKIM::DkPolicy(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Mail::DKIM::DkPolicy(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Mail::DKIM::DkPolicy - represents a DomainKeys Sender Signing Policy record
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
DomainKeys sender signing policies are described in RFC4870(historical). It is a
  record published in the message sender's (i.e. the person who transmitted the
  message) DNS that describes how they sign messages.
</section>
<section class="Sh">
<h1 class="Sh" id="CONSTRUCTORS"><a class="permalink" href="#CONSTRUCTORS">CONSTRUCTORS</a></h1>
<section class="Ss">
<h2 class="Ss" id="_fIfetch()_fP__-_fetch_a_sender_signing_policy_from__s-1DNS_s0"><a class="permalink" href="#_fIfetch()_fP__-_fetch_a_sender_signing_policy_from__s-1DNS_s0"><i>fetch()</i>
  - fetch a sender signing policy from DNS</a></h2>
<span class="Li"></span>
<pre>
  my $policy = Mail::DKIM::DkPolicy-&gt;fetch(
                   Protocol =&gt; &quot;dns&quot;,
                   Sender =&gt; 'joe@example.org',
               );
</pre>
<p class="Pp">The following named arguments are accepted:</p>
<dl class="Bl-tag">
  <dt>Protocol</dt>
  <dd>always specify &quot;dns&quot;</dd>
  <dt>Author</dt>
  <dd>the &quot;author&quot; of the message for which policy is being checked.
      This is the first email address in the &quot;From&quot; header. According
      to RFC 2822, section 3.6.2, the &quot;From&quot; header lists who is
      responsible for writing the message.</dd>
  <dt>Sender</dt>
  <dd>the &quot;sender&quot; of the message for which policy is being checked.
      This is the first email address in the &quot;Sender&quot; header, or if
      there is not a &quot;Sender&quot; header, the &quot;From&quot; header.
      According to RFC 2822, section 3.6.2, the &quot;Sender&quot; header lists
      who is responsible for transmitting the message.</dd>
</dl>
<p class="Pp">Depending on what type of policy is being checked, both the Sender
    and Author fields may need to be specified.</p>
<p class="Pp">If a DNS error or timeout occurs, an exception is thrown.</p>
<p class="Pp">Otherwise, a policy object of some sort will be returned. If no
    policy is actually published, then the &quot;default policy&quot; will be
    returned. To check when this happens, use</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $is_default = $policy-&gt;is_implied_default_policy;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="_fInew()_fP__-_construct_a_default_policy_object"><a class="permalink" href="#_fInew()_fP__-_construct_a_default_policy_object"><i>new()</i>
  - construct a default policy object</a></h2>
<span class="Li"></span>
<pre>
  my $policy = Mail::DKIM::DkPolicy-&gt;new;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="_fIparse()_fP__-_gets_a_policy_object_by_parsing_a_string"><a class="permalink" href="#_fIparse()_fP__-_gets_a_policy_object_by_parsing_a_string"><i>parse()</i>
  - gets a policy object by parsing a string</a></h2>
<span class="Li"></span>
<pre>
  my $policy = Mail::DKIM::DkPolicy-&gt;parse(
                   String =&gt; &quot;o=~; t=y&quot;
               );
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="_fIapply()_fP__-_apply_the_policy_to_the_results_of_a__s-1DKIM_s0_verifier"><a class="permalink" href="#_fIapply()_fP__-_apply_the_policy_to_the_results_of_a__s-1DKIM_s0_verifier"><i>apply()</i>
  - apply the policy to the results of a DKIM verifier</a></h2>
<span class="Li"></span>
<pre>
  my $result = $policy-&gt;apply($dkim_verifier);
</pre>
<p class="Pp">The caller must provide an instance of Mail::DKIM::Verifier, one
    which has already been fed the message being verified.</p>
<p class="Pp">Possible results are:</p>
<dl class="Bl-tag">
  <dt>accept</dt>
  <dd>The message is approved by the sender signing policy.</dd>
  <dt>reject</dt>
  <dd>The message is rejected by the sender signing policy.</dd>
  <dt>neutral</dt>
  <dd>The message is neither approved nor rejected by the sender signing policy.
      It can be considered suspicious.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_fIflags()_fP__-_get_or_set_the_flags_(t=)_tag"><a class="permalink" href="#_fIflags()_fP__-_get_or_set_the_flags_(t=)_tag"><i>flags()</i>
  - get or set the flags (t=) tag</a></h2>
A vertical-bar separated list of flags.
</section>
<section class="Ss">
<h2 class="Ss" id="_fIis_implied_default_policy()_fP__-_is_this_policy_implied?"><a class="permalink" href="#_fIis_implied_default_policy()_fP__-_is_this_policy_implied?"><i>is_implied_default_policy()</i>
  - is this policy implied?</a></h2>
<span class="Li"></span>
<pre>
  my $is_implied = $policy-&gt;is_implied_default_policy;
</pre>
<p class="Pp">If you fetch the policy for a particular domain, but that domain
    does not have a policy published, then the &quot;default policy&quot; is in
    effect. Use this method to detect when that happens.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_fIlocation()_fP__-_where_the_policy_was_fetched_from"><a class="permalink" href="#_fIlocation()_fP__-_where_the_policy_was_fetched_from"><i>location()</i>
  - where the policy was fetched from</a></h2>
DomainKeys policies only have per-domain policies, so this will be the domain
  where the policy was published.
<p class="Pp">If nothing is published for the domain, and the default policy was
    returned instead, the location will be
    <span class="Li">&quot;undef&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_fInote()_fP__-_get_or_set_the_human_readable_notes_(n=)_tag"><a class="permalink" href="#_fInote()_fP__-_get_or_set_the_human_readable_notes_(n=)_tag"><i>note()</i>
  - get or set the human readable notes (n=) tag</a></h2>
Human readable notes regarding the record. Undef if no notes specified.
</section>
<section class="Ss">
<h2 class="Ss" id="_fIpolicy()_fP__-_get_or_set_the_outbound_signing_policy_(o=)_tag"><a class="permalink" href="#_fIpolicy()_fP__-_get_or_set_the_outbound_signing_policy_(o=)_tag"><i>policy()</i>
  - get or set the outbound signing policy (o=) tag</a></h2>
<span class="Li"></span>
<pre>
  my $sp = $policy-&gt;policy;
</pre>
<p class="Pp">Outbound signing policy for the entity. Possible values are:</p>
<dl class="Bl-tag">
  <dt>&quot;~&quot;</dt>
  <dd>The default. The domain may sign some (but not all) email.</dd>
  <dt>&quot;-&quot;</dt>
  <dd>The domain signs all email.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_fIsignall()_fP__-_true_if_policy_is___-_"><a class="permalink" href="#_fIsignall()_fP__-_true_if_policy_is___-_"><i>signall()</i>
  - true if policy is &quot;-&quot;</a></h2>
</section>
<section class="Ss">
<h2 class="Ss" id="_fItesting()_fP__-_checks_the_testing_flag"><a class="permalink" href="#_fItesting()_fP__-_checks_the_testing_flag"><i>testing()</i>
  - checks the testing flag</a></h2>
<span class="Li"></span>
<pre>
  my $testing = $policy-&gt;testing;
</pre>
<p class="Pp">If nonzero, the testing flag is set on the signing policy, and the
    verify should not consider a message suspicious based on this policy.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Jason Long, &lt;jlong@messiah.edu&gt;
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
Copyright (C) 2006-2009 by Messiah College
<p class="Pp">This library is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself, either Perl version 5.8.6 or,
    at your option, any later version of Perl 5 you may have available.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-11-28</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
