<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>GSSAPI(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GSSAPI(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">GSSAPI(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
GSSAPI - Perl extension providing access to the GSSAPIv2 library
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use GSSAPI;

  my $targethostname = 'HTTP@moerbsen.grolmsnet.lan';
  my $status;



   TRY: {
       my ($target, $tname, $ttl );
       $status = GSSAPI::Name-&gt;import( $target,
                                       $server,
                                       GSSAPI::OID::gss_nt_hostbased_service)
               or last;
       $status = $target-&gt;display($tname) or last;
       print &quot;\n using Name $tname&quot;;

       my $ctx = GSSAPI::Context-&gt;new();
       my $imech = GSSAPI::OID::gss_mech_krb5;
       my $iflags = 0 ;
       my $bindings = GSS_C_NO_CHANNEL_BINDINGS;
       my $creds = GSS_C_NO_CREDENTIAL;
       my $itime = 0;
       my $itoken = q{};
       my $otoken;

       $status = $ctx-&gt;init($creds,$target,
                            $imech,$iflags,$itime,$bindings,$itoken,
                            undef, $otoken,undef,undef) or last;
       $status = $ctx-&gt;valid_time_left($ttl) or last;
       print &quot;\n Security context's time to live $ttl secs&quot;;
   }

   unless ($status-&gt;major == GSS_S_COMPLETE  ) {
      print &quot;\nErrors: &quot;, $status;
   } else {
      print &quot;\n seems everything is fine, type klist to see the ticket\n&quot;;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This module gives access to the routines of the GSSAPI library, as described in
  rfc2743 and rfc2744 and implemented by the Kerberos-1.2 distribution from MIT.
<p class="Pp">Since 0.14 it also compiles and works with Heimdal. Lacks of
    Heimdal support are <b>gss_release_oid()</b>, <b>gss_str_to_oid()</b> and
    fail of some tests. Have a look at the tests in t/ directory too see what
    tests fail on Heimdal ( the *.t tests are just skipping them at the
  moment)</p>
<p class="Pp">The API presented by this module is a mildly object oriented
    reinterpretation of the C API, where opaque C structures are Perl objects,
    but the style of function call has been left mostly untouched. As a result,
    most routines modify one or more of the parameters passed to them,
    reflecting the C call-by-reference (or call-by-value-return) semantics.</p>
<p class="Pp">All users of this module are therefore strongly advised to
    localize all usage of these routines to minimize pain if and when the API
    changes.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="USAGE"><a class="permalink" href="#USAGE">USAGE</a></h1>
This module wraps the GSSAPI C-Bindings. If you are new to GSSAPI it is a good
  idea to read RFC2743 and RFC2744, the documentation requires you to be
  familiar with the concept and the wordings of GSSAPI programming.
<p class="Pp">the examples directory holds some working examples of usage:</p>
<dl class="Bl-tag">
  <dt>getcred_hostbased.pl</dt>
  <dd>gets a GSSAPI Token for a service specified on commandline. (like kgetcred
      on Heimdal or kvno on MIT)</dd>
  <dt>gss-client.pl</dt>
  <dd>a simple GSSAPI TCP client.</dd>
  <dt>gss-server.pl</dt>
  <dd>a simple GSSAPI TCP server. Use both as templates if you need quickhacking
      GSSAPI enabeled GSSAPI TCP services.</dd>
</dl>
<section class="Ss">
<h2 class="Ss" id="GSSAPI::Name"><a class="permalink" href="#GSSAPI::Name">GSSAPI::Name</a></h2>
GSSAPI internal representation of principalname
<p class="Pp"><i>Methods</i></p>
<dl class="Bl-tag">
  <dt>import( $gssapinameobj, $servicename, $mechnism_oid );</dt>
  <dd>converts stringrepresentation <span class="Li">$servicename</span> of
      service into a GSSAPI internal format and stores it in
      <span class="Li">$gssapiservicename</span>.</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>input</dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>servicename</dt>
  <dd>Scalar value, like 'HTTP@moerbsen.grolmsnet.lan'.</dd>
  <dt>mechnism_oid</dt>
  <dd>Chose one of the predefines mechanism OIDs from GSSAPI::OID</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>output</dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>$gssapinameobj</dt>
  <dd>GSSAPI internal representation of servicename</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>return value</dt>
  <dd>returns GSSAPI::Status Object</dd>
  <dt>Example:</dt>
  <dd><span class="Li"></span>
    <pre>
     $status = GSSAPI::Name-&gt;import( $gssapinameobj,
                                     'HTTP@moerbsen.grolmsnet.lan',
                                     GSSAPI::OID::gss_nt_hostbased_service);
    </pre>
  </dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>display($tname);</dt>
  <dd>converts the GSSAPI internal format into a humanreadable string and stores
      it into <span class="Li">$tname</span>.</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>output</dt>
  <dd>humanreadable string will be stored into
    <span class="Li">$tname</span>.</dd>
  <dt>return value</dt>
  <dd>returns GSSAPI::Status Object</dd>
  <dt>Example:</dt>
  <dd><span class="Li"></span>
    <pre>
     my $tname;
     $status = $gssapinameobj-&gt;display($tname);
     die 'hmm, error...' if($status-&gt;major != GSS_S_COMPLETE );
     print &quot;\n  Name is $tname&quot;;
    </pre>
  </dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>compare( nameobj, ret)</dt>
  <dd>Wraps <b>gss_compare_name()</b>.</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>Input</dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>nameobj</dt>
  <dd>the 2nd GSSAPI::Name to be compared to</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>output</dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>ret</dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>value is non-zero</dt>
  <dd>names refer to same entity</dd>
  <dt>value is zero</dt>
  <dd>names refer to different entities.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt>return value</dt>
  <dd>returns GSSAPI::Status Object</dd>
</dl>
</div>
<div class="Bd-indent"></div>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1EXPORT_s0"><a class="permalink" href="#_s-1EXPORT_s0">EXPORT</a></h2>
<span class="Li"></span>
<pre>
  GSS_C_ACCEPT
  GSS_C_AF_APPLETALK
  GSS_C_AF_BSC
  GSS_C_AF_CCITT
  GSS_C_AF_CHAOS
  GSS_C_AF_DATAKIT
  GSS_C_AF_DECnet
  GSS_C_AF_DLI
  GSS_C_AF_DSS
  GSS_C_AF_ECMA
  GSS_C_AF_HYLINK
  GSS_C_AF_IMPLINK
  GSS_C_AF_INET
  GSS_C_AF_LAT
  GSS_C_AF_LOCAL
  GSS_C_AF_NBS
  GSS_C_AF_NS
  GSS_C_AF_NULLADDR
  GSS_C_AF_OSI
  GSS_C_AF_PUP
  GSS_C_AF_SNA
  GSS_C_AF_UNSPEC
  GSS_C_AF_X25
  GSS_C_ANON_FLAG
  GSS_C_BOTH
  GSS_C_CALLING_ERROR_MASK
  GSS_C_CALLING_ERROR_OFFSET
  GSS_C_CONF_FLAG
  GSS_C_DELEG_FLAG
  GSS_C_EMPTY_BUFFER
  GSS_C_GSS_CODE
  GSS_C_INDEFINITE
  GSS_C_INITIATE
  GSS_C_INTEG_FLAG
  GSS_C_MECH_CODE
  GSS_C_MUTUAL_FLAG
  GSS_C_NO_BUFFER
  GSS_C_NO_CHANNEL_BINDINGS
  GSS_C_NO_CONTEXT
  GSS_C_NO_CREDENTIAL
  GSS_C_NO_NAME
  GSS_C_NO_OID
  GSS_C_NO_OID_SET
  GSS_C_PROT_READY_FLAG
  GSS_C_QOP_DEFAULT
  GSS_C_REPLAY_FLAG
  GSS_C_ROUTINE_ERROR_MASK
  GSS_C_ROUTINE_ERROR_OFFSET
  GSS_C_SEQUENCE_FLAG
  GSS_C_SUPPLEMENTARY_MASK
  GSS_C_SUPPLEMENTARY_OFFSET
  GSS_C_TRANS_FLAG
  GSS_S_BAD_BINDINGS
  GSS_S_BAD_MECH
  GSS_S_BAD_NAME
  GSS_S_BAD_NAMETYPE
  GSS_S_BAD_QOP
  GSS_S_BAD_SIG
  GSS_S_BAD_STATUS
  GSS_S_CALL_BAD_STRUCTURE
  GSS_S_CALL_INACCESSIBLE_READ
  GSS_S_CALL_INACCESSIBLE_WRITE
  GSS_S_COMPLETE
  GSS_S_CONTEXT_EXPIRED
  GSS_S_CONTINUE_NEEDED
  GSS_S_CREDENTIALS_EXPIRED
  GSS_S_CRED_UNAVAIL
  GSS_S_DEFECTIVE_CREDENTIAL
  GSS_S_DEFECTIVE_TOKEN
  GSS_S_DUPLICATE_ELEMENT
  GSS_S_DUPLICATE_TOKEN
  GSS_S_FAILURE
  GSS_S_GAP_TOKEN
  GSS_S_NAME_NOT_MN
  GSS_S_NO_CONTEXT
  GSS_S_NO_CRED
  GSS_S_OLD_TOKEN
  GSS_S_UNAUTHORIZED
  GSS_S_UNAVAILABLE
  GSS_S_UNSEQ_TOKEN
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Exportable_functions"><a class="permalink" href="#Exportable_functions">Exportable
  functions</a></h2>
<span class="Li"></span>
<pre>
    $status = indicate_mechs($oidset)
</pre>
<p class="Pp">Example</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
   use GSSAPI qw(:all);

   my $oidset;
   my $isin = 0;

   my $status = indicate_mechs( $oidset );
   $status-&gt;major == GSS_S_COMPLETE || die 'error';

   $status = $oidset-&gt;contains( gss_mech_krb5_old, $isin );
   $status-&gt;major == GSS_S_COMPLETE || die 'error';

   if ( $isin ) {
     print 'Support of Kerberos 5 old mechtype';
   } else {
     print 'No Support of Kerberos 5 old mechtype';
   }
</pre>
<p class="Pp"><i>Constant OIDs provided:</i></p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    # Constant OIDs provided:
    $oid = gss_nt_user_name;
    $oid = gss_nt_machine_uid_name;
    $oid = gss_nt_string_uid_name;
    $oid = gss_nt_service_name;
    $oid = gss_nt_exported_name;
    $oid = gss_nt_service_name_v2;
    $oid = gss_nt_krb5_name;
    $oid = gss_nt_krb5_principal;
    $oid = gss_mech_krb5;
    $oid = gss_mech_krb5_old;
    $oid = gss_mech_spnego;
</pre>
<p class="Pp">All other functions are class or instance methods.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>GSSAPI::Status</b>(3p) <b>GSSAPI::OID</b>(3p) <b>GSSAPI::OID::Set</b>(3p)
<dl class="Bl-tag">
  <dt>RFC2743</dt>
  <dd>Generic Security Service API Version 2 : C-bindings</dd>
  <dt>RFC2744</dt>
  <dd>Generic Security Service Application Program Interface</dd>
  <dt>LWP::Authen::Negotiate</dt>
  <dd>GSSAPI based Authentication plugin for LWP</dd>
  <dt>Authen::SASL::Perl::GSSAPI</dt>
  <dd>A SASL adapter, implementing the Authen::SASL interface, using
    GSSAPI.pm</dd>
  <dt>http://perlgssapi.sourceforge.net/</dt>
  <dd>Holds an actual list of GSSAPI.pm authentication using modules</dd>
</dl>
<p class="Pp"><b>perl</b>(1)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
More documentation how to use the module has to be added.
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
See our project home at &lt;http://perlgssapi.sourceforge.net/&gt;
<p class="Pp">Mailinglist perlgssapi-users@lists.sourceforge.net</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
The module ist maintained by Achim Grolms &lt;perl@grolmsnet.de&gt;
<p class="Pp">originally written by Philip Guenther &lt;pguen@cpan.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="THANKS_TO"><a class="permalink" href="#THANKS_TO">THANKS
  TO</a></h1>
<dl class="Bl-tag">
  <dt>Philip Guenther</dt>
  <dd></dd>
  <dt>Leif Johansson</dt>
  <dd></dd>
  <dt>Merijn Broeren</dt>
  <dd></dd>
  <dt>Harald Joerg</dt>
  <dd></dd>
  <dt>Christopher Odenbach</dt>
  <dd></dd>
  <dt>Dax Kelson</dt>
  <dd></dd>
  <dt>Marc Lehmann</dt>
  <dd></dd>
  <dt>David Leonard</dt>
  <dd></dd>
  <dt>Florian Ragwitz</dt>
  <dd>maintainer of Debian package</dd>
  <dt>Markus Moeller</dt>
  <dd>Solaris 10 / OpenSolaris support</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 2006,2008 Achim Grolms. All rights reserved. This program is free
  software; you can redistribute it and/or modify it under the same terms as
  Perl itself.
<p class="Pp">Copyright (c) 2000,2001,2005 Philip Guenther. All rights reserved.
    This program is free software; you can redistribute it and/or modify it
    under the same terms as Perl itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2010-04-27</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
