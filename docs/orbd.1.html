<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   t
   @(#)orbd.1 1.20 01/03/10 SMI;
   Copyright 2004 Sun Microsystems, Inc. All rights reserved.
   Copyright 2004 Sun Microsystems, Inc. Tous droits riservis.
   -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>orbd(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">orbd(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">orbd(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
orbd - The Object Request Broker Daemon
<p class="Pp"><b>orbd</b> is used to enable clients to transparently locate and
    invoke persistent objects on servers in the CORBA environment.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>orbd</b> [ <i>options</i> ]
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The Server Manager included with the <b>orbd</b> tool is used to enable clients
  to transparently locate and invoke persistent objects on server in the CORBA
  environment. The persistent servers, while publishing the persistent object
  references in the Naming Service, include the port number of the ORBD in the
  object reference instead of the port number of the Server. The inclusion of
  ORBD port number in the object reference for persistent object references has
  the following advantages:
<dl class="Bl-tag">
  <dt>&#x2022; The object reference in the Naming Service remains</dt>
  <dd>independent of the server life cycle. For example, the object reference
      could be published by the server in the Naming Service when it is first
      installed, and then independent of how many times the server is started or
      shutdown, the ORBD will always return the correct object reference to the
      invoking client.</dd>
  <dt>&#x2022; The client needs to lookup the object reference in</dt>
  <dd>the Naming Service only once, and can keep re-using this reference
      independent of the chanes introduced due to server life cycle.</dd>
</dl>
<p class="Pp">To access ORBD's Server Manager, the server must be started using
    servertool, which is a command-line interface for application programmers to
    register, unregister, startup, and shutdown a persistent server. For more
    information on the Server Manager, see the section in this document titled
    Server Manager.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="REQUIRED_OPTIONS"><a class="permalink" href="#REQUIRED_OPTIONS">REQUIRED
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt><b>-ORBInitialPort</b><i> nameserverport</i></dt>
  <dd>Specifies the port on which the name server should be started. Once
      started, orbd will listen for incoming requests on this port. Note that
      when using Solaris software, you must become root to start a process on a
      port under 1024. For this reason, we recommend that you use a port number
      greater than or equal to 1024. (required)</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OTHER_OPTIONS"><a class="permalink" href="#OTHER_OPTIONS">OTHER
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt><b>-port</b><i> port</i></dt>
  <dd>Specifies the activation port where the ORBD should be started. The
      default value for this port is 1049. This port number is added to the port
      field of the persistent Interoperable Object References (IOR).
    (optional)</dd>
  <dt><b>-defaultdb</b><i> directory</i></dt>
  <dd>Specifies the base where the ORBD persistent storage directory
      <b>orb.db</b> is created. If this option is not specified, the default
      value is &quot;./orb.db&quot;. (optional)</dd>
  <dt><b>-serverPollingTime</b><i> milliseconds</i></dt>
  <dd>Specifies how often the daemon thread checks for the health of registered
      servers. ORBD polls process health every <b>milliseconds.</b> The default
      value is 1,000 ms (or 1 second). The value specified for
      <b>milliseconds</b> must be a valid integer.</dd>
  <dt><b>-serverStartupDelay</b><i> milliseconds</i></dt>
  <dd>Specifies how long the ServerManager waits before sending a location
      forward exception after the server is restarted. ORBD waits for
      <b>milliseconds</b> before raising a location forward exception. The
      default value is 1,000 ms (or 1 second). The value specified for
      <b>milliseconds</b> must be a valid integer.</dd>
  <dt><b>-J</b><i>option</i></dt>
  <dd>Pass <i>option</i> to the Java virtual machine, where <i>option</i> is one
      of the options described on the man page for the java application
      launcher, java(1). For example, <b>-J-Xms48m</b> sets the startup memory
      to 48 megabytes. It is a common convention for <b>-J</b> to pass options
      to the underlying virtual machine.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Starting_and_Stopping_the_Name_Service"><a class="permalink" href="#Starting_and_Stopping_the_Name_Service">Starting
  and Stopping the Name Service</a></h1>
A Naming Service is a CORBA service that allows CORBA objects to be named by
  means of binding a name to an object reference. The name binding may be stored
  in the naming service, and a client may supply the name to obtain the desired
  object reference.
<p class="Pp">Prior to running a client or a server, you will start ORBD. ORBD
    includes a persistent Naming Service and a transient Naming Service, both of
    which are an implementation of the COS Naming Service.</p>
<dl class="Bl-tag">
  <dt>&#x2022; The Persistent Naming Service provides persistence</dt>
  <dd>for naming contexts. This means that this information is persistent across
      service shutdowns and startups, and is recoverable in the event of a
      service failure. If ORBD is restarted, the Persistent Naming Service will
      restore the naming context graph, so that the binding of all clients' and
      servers' names remains intact (persistent).</dd>
  <dt>&#x2022; For backward compatibility, tnameserv, a</dt>
  <dd>Transient Naming Service shipped with older versions of the JDK, is also
      included in this release of J2SE. A transient naming service retains
      naming contexts as long as it is running. If there is a service
      interruption, the naming context graph is lost.</dd>
</dl>
<p class="Pp">The <b>-ORBInitialPort</b> argument is a required command-line
    argument for orbd, and is used to set the port number on which the Naming
    Service will run. The following instructions assume you can use port 1050
    for the Java IDL Object Request Broker Daemon. When using Solaris software,
    you must become root to start a process on a port under 1024. For this
    reason, we recommend that you use a port number greater than or equal to
    1024. You can substitute a different port if necessary.</p>
<p class="Pp">TO start orbd from a UNIX command shell, enterL</p>
<p class="Pp"></p>
<div class="Bd-indent">orbd -ORBInitialPort 1050&amp;</div>
<p class="Pp">From an MS-DOS system prompt (Windows), enter:</p>
<p class="Pp"></p>
<div class="Bd-indent">start orbd -ORBInitialPort 1050</div>
<p class="Pp">Now that ORBD is running, you can run your server and client
    applications. When running the client and server applications, they must be
    made aware of the port number (and machine name, if applicable) where the
    Naming Service is running. One way to do this is to add the following code
    to your application:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
Properties props = new Properties();
props.put(&quot;org.omg.CORBA.ORBInitialPort&quot;, &quot;1050&quot;);
props.put(&quot;org.omg.CORBA.ORBInitialHost&quot;, &quot;MyHost&quot;);
ORB orb = ORB.init(args, props);
</pre>
</div>
<p class="Pp">In this example, the Naming Service is running on port 1050 on
    host &quot;MyHost&quot;. Another way is to specify the port number and/or
    machine name when running the server or client application from the command
    line. For example, you would start your &quot;HelloApplication&quot; with
    the following command line:</p>
<p class="Pp"></p>
<div class="Bd-indent">java HelloApplication -ORBInitialPort 1050
  -ORBInitialHost MyHost</div>
<p class="Pp">To stop the naming service, use the relevant operating system
    command, such as pkill orbd on Solaris, or Ctrl+C in the DOS window in which
    orbd is running. Note that names registered with the naming service may
    disappear when the service is terminated if the naming service is transient.
    The Java IDL naming service will run until it is explicitly stopped.</p>
<p class="Pp">For more information on the Naming Service included with ORBD, see
    Naming Service.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Server_Manager"><a class="permalink" href="#Server_Manager">Server
  Manager</a></h1>
To access ORBD's Server Manager and run a persistent server, the server must be
  started using servertool, which is a command-line interface for application
  programmers to register, unregister, startup, and shutdown a persistent
  server. When a server is started using servertool, it must be started on the
  same host and port on which orbd is executing. If the server is run on a
  different port, the information stored in the database for local contexts will
  be invalid and the service will not work properly.
<section class="Ss">
<h2 class="Ss" id="Server_Manager:_an_Example"><a class="permalink" href="#Server_Manager:_an_Example">Server
  Manager: an Example</a></h2>
Using the sample tutorial for our demonstration, you would run the idlj compiler
  and javac compiler as shown in the tutorial. To run the Server Manager, follow
  these steps for running the application:
<dl class="Bl-tag">
  <dt>1. Start orbd.</dt>
  <dd>To start orbd from a UNIX command shell, enter:</dd>
</dl>
<p class="Pp"></p>
<div class="Bd-indent">orbd -ORBInitialPort 1050</div>
<p class="Pp">From an MS-DOS system prompt (Windows), enter:</p>
<p class="Pp"></p>
<div class="Bd-indent">start orbd -ORBInitialPort 1050</div>
<p class="Pp">Note that 1050 is the port on which you want the name server to
    run. -ORBInitialPort is a required command-line argument. When using Solaris
    software, you must become root to start a process on a port under 1024. For
    this reason, we recommend that you use a port number greater than or equal
    to 1024.</p>
<dl class="Bl-tag">
  <dt>2. Start the servertool:</dt>
  <dd>To start the Hello server, enter:</dd>
</dl>
<p class="Pp"></p>
<div class="Bd-indent">servertool -ORBInitialPort 1050</div>
<p class="Pp">Make sure the name server (orbd) port is the same as in the
    previous step, for example, -ORBInitialPort 1050. The servertool must be
    started on the same port as the name server.</p>
<dl class="Bl-tag">
  <dt>3. Start the Hello server from the servertool prompt:</dt>
  <dd></dd>
</dl>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
servertool  &gt; register -server HelloServer -classpath . 
			-applicationName HelloServerApName
</pre>
</div>
<p class="Pp">The servertool registers the server, assigns it the name of
    &quot;HelloServerApName&quot;, and displays its server id.</p>
<dl class="Bl-tag">
  <dt>4. Run the client application from another terminal window or prompt:</dt>
  <dd></dd>
</dl>
<p class="Pp"></p>
<div class="Bd-indent">java HelloClient -ORBInitialPort 1050 -ORBInitialHost
  localhost</div>
<p class="Pp">For this example, you can omit <b>-ORBInitialHost</b> localhost
    since the name server is running on the same host as the Hello client. If
    the name server is running on a different host, use <b>-ORBInitialHost</b>
    nameserverhost to specify the host on which the IDL name server is
  running.</p>
<p class="Pp">Specify the name server (orbd) port as done in the previous step,
    for example, <b>-ORBInitialPort</b> 1050.</p>
<p class="Pp">5. When you have finished experimenting with the Server Manager,
    be sure to shut down or kill the name server (orbd) and servertool.</p>
<p class="Pp">To shut down orbd from a DOS prompt, select the window that is
    running the server and enter Ctrl+C to shut it down. To shut down orbdfrom a
    Unix shell, find the process, and kill it. The server will continue to wait
    for invocations until it is explicitly stopped.</p>
<p class="Pp">To shut down the servertool, type quit and press the Enter key on
    the keyboard.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>Naming Service</b>, <b>servertool</b>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">10 March 2001</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
