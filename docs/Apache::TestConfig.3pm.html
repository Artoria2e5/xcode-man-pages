<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Apache::TestConfig(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Apache::TestConfig(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Apache::TestConfig(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Apache::TestConfig -- Test Configuration setup module
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use Apache::TestConfig;

  my $cfg = Apache::TestConfig-&gt;new(%args)
  my $fh = $cfg-&gt;genfile($file);
  $cfg-&gt;writefile($file, $content);
  $cfg-&gt;gendir($dir);
  ...
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<span class="Li">&quot;Apache::TestConfig&quot;</span> is used in creating the
  <span class="Li">&quot;Apache::Test&quot;</span> configuration files.
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTIONS"><a class="permalink" href="#FUNCTIONS">FUNCTIONS</a></h1>
<dl class="Bl-tag">
  <dt><b>genwarning()</b></dt>
  <dd><span class="Li"></span>
    <pre>
  my $warn = $cfg-&gt;genwarning($filename)
    </pre>
    <p class="Pp"><b>genwarning()</b> returns a warning string as a comment,
        saying that the file was autogenerated and that it's not a good idea to
        modify this file. After the warning a perl trace of calls to this this
        function is appended. This trace is useful for finding what code has
        created the file.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $warn = $cfg-&gt;genwarning($filename, $from_filename)
    </pre>
    <p class="Pp">If <span class="Li">$from_filename</span> is specified it'll
        be used in the warning to tell which file it was generated from.</p>
    <p class="Pp"><b>genwarning()</b> automatically recognizes the comment type
        based on the file extension. If the extension is not recognized, the
        default <span class="Li">&quot;#&quot;</span> style is used.</p>
    <p class="Pp">Currently it support <span class="Li">&quot;&lt;!--
        --&gt;&quot;</span>, <span class="Li">&quot;/* ... */&quot;</span> and
        <span class="Li">&quot;#&quot;</span> styles.</p>
  </dd>
  <dt><b>genfile()</b></dt>
  <dd><span class="Li"></span>
    <pre>
  my $fh = $cfg-&gt;genfile($file);
    </pre>
    <p class="Pp"><b>genfile()</b> creates a new file
        <span class="Li">$file</span> for writing and returns a file handle.</p>
    <p class="Pp">If parent directories of <span class="Li">$file</span> don't
        exist they will be automagically created.</p>
    <p class="Pp">The file <span class="Li">$file</span> and any created parent
        directories (if found empty) will be automatically removed on
      cleanup.</p>
    <p class="Pp">A comment with a warning and calls trace is added to the top
        of this file. See <b>genwarning()</b> for more info about this
      comment.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $fh = $cfg-&gt;genfile($file, $from_file);
    </pre>
    <p class="Pp">If <span class="Li">$from_filename</span> is specified it'll
        be used in the warning to tell which file it was generated from.</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $fh = $cfg-&gt;genfile($file, $from_file, $nowarning);
    </pre>
    <p class="Pp">If <span class="Li">$nowarning</span> is true, the warning
        won't be added. If using this optional argument and there is no
        <span class="Li">$from_file</span> you must pass undef as in:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $fh = $cfg-&gt;genfile($file, undef, $nowarning);
    </pre>
  </dd>
  <dt><b>writefile()</b></dt>
  <dd><span class="Li"></span>
    <pre>
  $cfg-&gt;writefile($file, $content, [$nowarning]);
    </pre>
    <p class="Pp"><b>writefile()</b> creates a new file
        <span class="Li">$file</span> with the content of
        <span class="Li">$content</span>.</p>
    <p class="Pp">A comment with a warning and calls trace is added to the top
        of this file unless <span class="Li">$nowarnings</span> is passed and
        set to a true value. See <b>genwarning()</b> for more info about this
        comment.</p>
    <p class="Pp">If parent directories of <span class="Li">$file</span> don't
        exist they will be automagically created.</p>
    <p class="Pp">The file <span class="Li">$file</span> and any created parent
        directories (if found empty) will be automatically removed on
      cleanup.</p>
  </dd>
  <dt><b>write_perlscript()</b></dt>
  <dd><span class="Li"></span>
    <pre>
  $cfg-&gt;write_perlscript($filename, @lines);
    </pre>
    <p class="Pp">Similar to <b>writefile()</b> but creates an executable Perl
        script with correctly set shebang line.</p>
  </dd>
  <dt><b>gendir()</b></dt>
  <dd><span class="Li"></span>
    <pre>
  $cfg-&gt;gendir($dir);
    </pre>
    <p class="Pp"><b>gendir()</b> creates a new directory
        <span class="Li">$dir</span>.</p>
    <p class="Pp">If parent directories of <span class="Li">$dir</span> don't
        exist they will be automagically created.</p>
    <p class="Pp">The directory <span class="Li">$dir</span> and any created
        parent directories will be automatically removed on cleanup if found
        empty.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Environment_Variables"><a class="permalink" href="#Environment_Variables">Environment
  Variables</a></h1>
The following environment variables affect the configuration and the run-time of
  the <span class="Li">&quot;Apache::Test&quot;</span> framework:
<section class="Ss">
<h2 class="Ss" id="_s-1APACHE_TEST_COLOR_s0"><a class="permalink" href="#_s-1APACHE_TEST_COLOR_s0">APACHE_TEST_COLOR</a></h2>
To aid visual control over the configuration process and the run-time phase,
  <span class="Li">&quot;Apache::Test&quot;</span> uses coloured fonts when the
  environment variable <span class="Li">&quot;APACHE_TEST_COLOR&quot;</span> is
  set to a true value.
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1APACHE_TEST_LIVE_DEV_s0"><a class="permalink" href="#_s-1APACHE_TEST_LIVE_DEV_s0">APACHE_TEST_LIVE_DEV</a></h2>
When using <span class="Li">&quot;Apache::Test&quot;</span> during the project
  development phase, it's often convenient to have the <i>project/lib</i> (live)
  directory appearing first in <span class="Li">@INC</span> so any changes to
  the Perl modules, residing in it, immediately affect the server, without a
  need to rerun <span class="Li">&quot;make&quot;</span> to update
  <i>blib/lib</i>. When the environment variable
  <span class="Li">&quot;APACHE_TEST_LIVE_DEV&quot;</span> is set to a true
  value during the configuration phase (<span class="Li">&quot;t/TEST
  -config&quot;</span>, <span class="Li">&quot;Apache::Test&quot;</span> will
  automatically unshift the <i>project/lib</i> directory into
  <span class="Li">@INC</span>, via the autogenerated
  <i>t/conf/modperl_inc.pl</i> file.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Special_Placeholders"><a class="permalink" href="#Special_Placeholders">Special
  Placeholders</a></h1>
When generating configuration files from the <i>*.in</i> templates, special
  placeholder variables get substituted. To embed a placeholder use the
  <span class="Li">&quot;@foo@&quot;</span> syntax. For example in
  <i>extra.conf.in</i> you can write:
<p class="Pp"><span class="Li"></span></p>
<pre>
  Include @ServerRoot@/conf/myconfig.conf
</pre>
<p class="Pp">When <i>extra.conf</i> is generated,
    <span class="Li">&quot;@ServerRoot@&quot;</span> will get replaced with the
    location of the server root.</p>
<p class="Pp">Placeholders are case-insensitive.</p>
<p class="Pp">Available placeholders:</p>
<section class="Ss">
<h2 class="Ss" id="Configuration_Options"><a class="permalink" href="#Configuration_Options">Configuration
  Options</a></h2>
All configuration variables that can be passed to
  <span class="Li">&quot;t/TEST&quot;</span>, such as
  <span class="Li">&quot;MaxClients&quot;</span>,
  <span class="Li">&quot;DocumentRoot&quot;</span>,
  <span class="Li">&quot;ServerRoot&quot;</span>, etc. To see the complete list
  run:
<p class="Pp"><span class="Li"></span></p>
<pre>
  % t/TEST --help
</pre>
<p class="Pp">and you will find them in the <span class="Li">&quot;configuration
    options&quot;</span> sections.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="NextAvailablePort"><a class="permalink" href="#NextAvailablePort">NextAvailablePort</a></h2>
Every time this placeholder is encountered it'll be replaced with the next
  available port. This is very useful if you need to allocate a special port,
  but not hardcode it. Later when running:
<p class="Pp"><span class="Li"></span></p>
<pre>
  % t/TEST -port=select
</pre>
<p class="Pp">it's possible to run several concurrent test suites on the same
    machine, w/o having port collisions.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>perl</b>(1), <b>Apache::Test</b>(3)
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-06-18</td>
    <td class="foot-os">perl v5.28.2</td>
  </tr>
</table>
</body>
</html>
