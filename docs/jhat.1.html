<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>jhat(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">jhat(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">jhat(1)</td>
  </tr>
</table>
<div class="manual-text">
<p class="Pp"></p>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
jhat - Java Heap Analysis Tool
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<b></b>
<b></b><b>jhat</b> [ <i>options</i> ] &lt;heap-dump-file&gt;
</pre>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="PARAMETERS"><a class="permalink" href="#PARAMETERS">PARAMETERS</a></h1>
<dl class="Bl-tag">
  <dt>options</dt>
  <dd>Options, if used, should follow immediately after the command name.</dd>
  <dt>heap-dump-file</dt>
  <dd>Java binary heap dump file to be browsed. For a dump file that contains
      multiple heap dumps, you may specify which dump in the file by appending
      &quot;#&lt;number&gt; to the file name, i.e. &quot;foo.hprof#3&quot;.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>jhat</b> command parses a java heap dump file and launches a webserver.
  jhat enables you to browse heap dumps using your favorite webbrowser. jhat
  supports pre-designed queries (such as 'show all instances of a known class
  &quot;Foo&quot;') as well as <b>OQL</b> (<b>O</b>bject <b>Q</b>uery
  <b>L</b>anguage) - a SQL-like query language to query heap dumps. Help on OQL
  is available from the OQL help page shown by jhat. With the default port, OQL
  help is available at http://localhost:7000/oqlhelp/
<p class="Pp">There are several ways to generate a java heap dump:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>*</dt>
  <dd>Use jmap -dump option to obtain a heap dump at runtime;</dd>
  <dt>*</dt>
  <dd>Use jconsole option to obtain a heap dump via
      <i>HotSpotDiagnosticMXBean</i> @
    <br/>
    http://java.sun.com/javase/6/docs/jre/api/management/extension/com/sun/management/HotSpotDiagnosticsMXBean.html
      at runtime;</dd>
  <dt>*</dt>
  <dd>Heap dump will be generated when OutOfMemoryError is thrown by specifying
      -XX:+HeapDumpOnOutOfMemoryError VM option;</dd>
  <dt>*</dt>
  <dd>Use <i>hprof</i> @
    <br/>
    http://java.sun.com/developer/technicalArticles/Programming/HPROF.html.</dd>
</dl>
</div>
<p class="Pp"></p>
<p class="Pp"><b>NOTE:</b> This tool is <b>experimental</b> and may <b>not</b>
    be available in future versions of the JDK.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt><b>-stack false/true</b></dt>
  <dd>Turn off tracking object allocation call stack. Note that if allocation
      site information is not available in the heap dump, you have to set this
      flag to false. Default is true.</dd>
  <dt><b>-refs false/true</b></dt>
  <dd>Turn off tracking of references to objects. Default is true. By default,
      back pointers (objects pointing to a given object a.k.a referrers or
      in-coming references) are calculated for all objects in the heap.</dd>
  <dt><b>-port</b><i> port-number </i></dt>
  <dd>Set the port for the jhat's HTTP server. Default is 7000.</dd>
  <dt><b>-exclude</b><i> exclude-file</i></dt>
  <dd>Specify a file that lists data members that should be excluded from the
      &quot;reachable objects&quot; query. For example, if the file lists
      <i>java.lang.String.value</i>, then, whenever list of objects reachable
      from a specific object &quot;o&quot; are calculated, reference paths
      involving <i>java.lang.String.value</i> field will not considered.</dd>
  <dt><b>-baseline</b><i> baseline-dump-file</i></dt>
  <dd>Specify a baseline heap dump. Objects in both heap dumps with the same
      object ID will be marked as not being &quot;new&quot;. Other objects will
      be marked as &quot;new&quot;. This is useful while comparing two different
      heap dumps.</dd>
  <dt><b>-debug</b><i> int</i></dt>
  <dd>Set debug level for this tool. 0 means no debug output. Set higher values
      for more verbose modes.</dd>
  <dt><b>-version&#x00A0;</b></dt>
  <dd>Report version number and exit.</dd>
  <dt><b>-h&#x00A0;</b></dt>
  <dd>Output help message and exit.</dd>
  <dt><b>-help&#x00A0;</b></dt>
  <dd>Output help message and exit.</dd>
  <dt><b>-J</b><i>&lt;flag&gt;&#x00A0;</i></dt>
  <dd>Pass &lt;flag&gt; to the Java virtual machine on which jhat is run. For
      example, <b>-J</b>-Xmx512m to use a maximum heap size of 512MB.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>*</dt>
  <dd>jmap - Java Memory Map</dd>
  <dt>*</dt>
  <dd>jconsole - Java Monitoring and Management Console</dd>
  <dt>*</dt>
  <dd><i>hprof - Heap and CPU profiling tool</i> @
    <br/>
    http://java.sun.com/developer/technicalArticles/Programming/HPROF.html</dd>
</dl>
</div>
<p class="Pp"></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">05 Aug 2006</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
