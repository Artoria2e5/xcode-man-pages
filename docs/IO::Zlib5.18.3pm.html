<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>IO::Zlib(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">IO::Zlib(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">IO::Zlib(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
IO::Zlib - IO:: style interface to Compress::Zlib
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
With any version of Perl 5 you can use the basic OO interface:
<p class="Pp"><span class="Li"></span></p>
<pre>
    use IO::Zlib;

    $fh = new IO::Zlib;
    if ($fh-&gt;open(&quot;file.gz&quot;, &quot;rb&quot;)) {
        print &lt;$fh&gt;;
        $fh-&gt;close;
    }

    $fh = IO::Zlib-&gt;new(&quot;file.gz&quot;, &quot;wb9&quot;);
    if (defined $fh) {
        print $fh &quot;bar\n&quot;;
        $fh-&gt;close;
    }

    $fh = IO::Zlib-&gt;new(&quot;file.gz&quot;, &quot;rb&quot;);
    if (defined $fh) {
        print &lt;$fh&gt;;
        undef $fh;       # automatically closes the file
    }
</pre>
<p class="Pp">With Perl 5.004 you can also use the TIEHANDLE interface to access
    compressed files just like ordinary files:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use IO::Zlib;

    tie *FILE, 'IO::Zlib', &quot;file.gz&quot;, &quot;wb&quot;;
    print FILE &quot;line 1\nline2\n&quot;;

    tie *FILE, 'IO::Zlib', &quot;file.gz&quot;, &quot;rb&quot;;
    while (&lt;FILE&gt;) { print &quot;LINE: &quot;, $_ };
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<span class="Li">&quot;IO::Zlib&quot;</span> provides an IO:: style interface to
  Compress::Zlib and hence to gzip/zlib compressed files. It provides many of
  the same methods as the IO::Handle interface.
<p class="Pp">Starting from IO::Zlib version 1.02, IO::Zlib can also use an
    external <i>gzip</i> command. The default behaviour is to try to use an
    external <i>gzip</i> if no
    <span class="Li">&quot;Compress::Zlib&quot;</span> can be loaded, unless
    explicitly disabled by</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use IO::Zlib qw(:gzip_external 0);
</pre>
<p class="Pp">If explicitly enabled by</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use IO::Zlib qw(:gzip_external 1);
</pre>
<p class="Pp">then the external <i>gzip</i> is used <b>instead</b> of
    <span class="Li">&quot;Compress::Zlib&quot;</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CONSTRUCTOR"><a class="permalink" href="#CONSTRUCTOR">CONSTRUCTOR</a></h1>
<dl class="Bl-tag">
  <dt>new ( [ARGS] )</dt>
  <dd>Creates an <span class="Li">&quot;IO::Zlib&quot;</span> object. If it
      receives any parameters, they are passed to the method
      <span class="Li">&quot;open&quot;</span>; if the open fails, the object is
      destroyed. Otherwise, it is returned to the caller.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OBJECT_METHODS"><a class="permalink" href="#OBJECT_METHODS">OBJECT
  METHODS</a></h1>
<dl class="Bl-tag">
  <dt>open ( FILENAME, MODE )</dt>
  <dd><span class="Li">&quot;open&quot;</span> takes two arguments. The first is
      the name of the file to open and the second is the open mode. The mode can
      be anything acceptable to Compress::Zlib and by extension anything
      acceptable to <i>zlib</i> (that basically means POSIX <i>fopen()</i> style
      mode strings plus an optional number to indicate the compression
    level).</dd>
  <dt>opened</dt>
  <dd>Returns true if the object currently refers to a opened file.</dd>
  <dt>close</dt>
  <dd>Close the file associated with the object and disassociate the file from
      the handle. Done automatically on destroy.</dd>
  <dt>getc</dt>
  <dd>Return the next character from the file, or undef if none remain.</dd>
  <dt>getline</dt>
  <dd>Return the next line from the file, or undef on end of string. Can safely
      be called in an array context. Currently ignores $/
      ($INPUT_RECORD_SEPARATOR or <span class="Li">$RS</span> when English is in
      use) and treats lines as delimited by &quot;\n&quot;.</dd>
  <dt>getlines</dt>
  <dd>Get all remaining lines from the file. It will <i>croak()</i> if
      accidentally called in a scalar context.</dd>
  <dt>print ( ARGS... )</dt>
  <dd>Print ARGS to the file.</dd>
  <dt>read ( BUF, NBYTES, [OFFSET] )</dt>
  <dd>Read some bytes from the file. Returns the number of bytes actually read,
      0 on end-of-file, undef on error.</dd>
  <dt>eof</dt>
  <dd>Returns true if the handle is currently positioned at end of file?</dd>
  <dt>seek ( OFFSET, WHENCE )</dt>
  <dd>Seek to a given position in the stream. Not yet supported.</dd>
  <dt>tell</dt>
  <dd>Return the current position in the stream, as a numeric offset. Not yet
      supported.</dd>
  <dt>setpos ( POS )</dt>
  <dd>Set the current position, using the opaque value returned by
      <span class="Li">&quot;getpos()&quot;</span>. Not yet supported.</dd>
  <dt>getpos ( POS )</dt>
  <dd>Return the current position in the string, as an opaque object. Not yet
      supported.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="USING_THE_EXTERNAL_GZIP"><a class="permalink" href="#USING_THE_EXTERNAL_GZIP">USING
  THE EXTERNAL GZIP</a></h1>
If the external <i>gzip</i> is used, the following
  <span class="Li">&quot;open&quot;</span>s are used:
<p class="Pp"><span class="Li"></span></p>
<pre>
    open(FH, &quot;gzip -dc $filename |&quot;)  # for read opens
    open(FH, &quot; | gzip &gt; $filename&quot;)   # for write opens
</pre>
<p class="Pp">You can modify the 'commands' for example to hardwire an absolute
    path by e.g.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use IO::Zlib ':gzip_read_open'  =&gt; '/some/where/gunzip -c %s |';
    use IO::Zlib ':gzip_write_open' =&gt; '| /some/where/gzip.exe &gt; %s';
</pre>
<p class="Pp">The <span class="Li">%s</span> is expanded to be the filename
    (<span class="Li">&quot;sprintf&quot;</span> is used, so be careful to
    escape any other <span class="Li">&quot;%&quot;</span> signs). The
    'commands' are checked for sanity - they must contain the
    <span class="Li">%s</span>, and the read open must end with the pipe sign,
    and the write open must begin with the pipe sign.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CLASS_METHODS"><a class="permalink" href="#CLASS_METHODS">CLASS
  METHODS</a></h1>
<dl class="Bl-tag">
  <dt>has_Compress_Zlib</dt>
  <dd>Returns true if <span class="Li">&quot;Compress::Zlib&quot;</span> is
      available. Note that this does not mean that
      <span class="Li">&quot;Compress::Zlib&quot;</span> is being used: see
      &quot;gzip_external&quot; and gzip_used.</dd>
  <dt>gzip_external</dt>
  <dd>Undef if an external <i>gzip</i> <b>can</b> be used if
      <span class="Li">&quot;Compress::Zlib&quot;</span> is not available (see
      &quot;has_Compress_Zlib&quot;), true if an external <i>gzip</i> is
      explicitly used, false if an external <i>gzip</i> must not be used. See
      &quot;gzip_used&quot;.</dd>
  <dt>gzip_used</dt>
  <dd>True if an external <i>gzip</i> is being used, false if not.</dd>
  <dt>gzip_read_open</dt>
  <dd>Return the 'command' being used for opening a file for reading using an
      external <i>gzip</i>.</dd>
  <dt>gzip_write_open</dt>
  <dd>Return the 'command' being used for opening a file for writing using an
      external <i>gzip</i>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="DIAGNOSTICS"><a class="permalink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
<dl class="Bl-tag">
  <dt>IO::Zlib::getlines: must be called in list context</dt>
  <dd>If you want read lines, you must read in list context.</dd>
  <dt>IO::Zlib::gzopen_external: mode '...' is illegal</dt>
  <dd>Use only modes 'rb' or 'wb' or /wb[1-9]/.</dd>
  <dt>IO::Zlib::import: '...' is illegal</dt>
  <dd>The known import symbols are the
      <span class="Li">&quot;:gzip_external&quot;</span>,
      <span class="Li">&quot;:gzip_read_open&quot;</span>, and
      <span class="Li">&quot;:gzip_write_open&quot;</span>. Anything else is not
      recognized.</dd>
  <dt>IO::Zlib::import: ':gzip_external' requires an argument</dt>
  <dd>The <span class="Li">&quot;:gzip_external&quot;</span> requires one
      boolean argument.</dd>
  <dt>IO::Zlib::import: 'gzip_read_open' requires an argument</dt>
  <dd>The <span class="Li">&quot;:gzip_external&quot;</span> requires one string
      argument.</dd>
  <dt>IO::Zlib::import: 'gzip_read' '...' is illegal</dt>
  <dd>The <span class="Li">&quot;:gzip_read_open&quot;</span> argument must end
      with the pipe sign (|) and have the <span class="Li">%s</span> for the
      filename. See &quot;USING THE EXTERNAL GZIP&quot;.</dd>
  <dt>IO::Zlib::import: 'gzip_write_open' requires an argument</dt>
  <dd>The <span class="Li">&quot;:gzip_external&quot;</span> requires one string
      argument.</dd>
  <dt>IO::Zlib::import: 'gzip_write_open' '...' is illegal</dt>
  <dd>The <span class="Li">&quot;:gzip_write_open&quot;</span> argument must
      begin with the pipe sign (|) and have the <span class="Li">%s</span> for
      the filename. An output redirect (&gt;) is also often a good idea,
      depending on your operating system shell syntax. See &quot;USING THE
      EXTERNAL GZIP&quot;.</dd>
  <dt>IO::Zlib::import: no Compress::Zlib and no external gzip</dt>
  <dd>Given that we failed to load
      <span class="Li">&quot;Compress::Zlib&quot;</span> and that the use of
     an external <i>gzip</i> was disabled, IO::Zlib has not much chance of
      working.</dd>
  <dt>IO::Zlib::open: needs a filename</dt>
  <dd>No filename, no open.</dd>
  <dt>IO::Zlib::READ: NBYTES must be specified</dt>
  <dd>We must know how much to read.</dd>
  <dt>IO::Zlib::WRITE: too long LENGTH</dt>
  <dd>The LENGTH must be less than or equal to the buffer size.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
perlfunc, &quot;I/O Operators&quot; in perlop, IO::Handle, Compress::Zlib
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
Created by Tom Hughes &lt;<i>tom@compton.nu</i>&gt;.
<p class="Pp">Support for external gzip added by Jarkko Hietaniemi
    &lt;<i>jhi@iki.fi</i>&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 1998-2004 Tom Hughes &lt;<i>tom@compton.nu</i>&gt;. All rights
  reserved. This program is free software; you can redistribute it and/or modify
  it under the same terms as Perl itself.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-01-31</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
