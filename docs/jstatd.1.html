<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   t
   @(#)jstatd.1 1.10 04/06/13 SMI;
   Copyright 2004 Sun Microsystems, Inc. All rights reserved.
   Copyright 2004 Sun Microsystems, Inc. Tous droits r\[u00E9]serv\[u00E9]s.
   -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>jstatd(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">jstatd(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">jstatd(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
jstatd - Virtual Machine jstat Daemon
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>jstatd</b> [ <i>options</i> ]
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>jstatd</b> tool is an RMI server application that monitors for the
  creation and termination of instrumented HotSpot Java virtual machines (JVMs)
  and provides a interface to allow remote monitoring tools to attach to JVMs
  running on the local host.
<p class="Pp">The jstatd server requires the presence of an RMI registry on the
    local host. The jstatd server will attempt to attach to the RMI registry on
    the default port, or on the port indicated by the -p port option. If an RMI
    registry is not found, one will be created within the jstatd application
    bound to the port indicated by the -p port option or to the default RMI
    registry port if -p port is omitted. Creation of an internal RMI registry
    can be inhibited by specifying the -nr option.</p>
<p class="Pp"><b>NOTE -</b> This utility is unsupported and may or may not be
    available in future versions of the J2SE SDK. It is not currently available
    on the Windows 98 and Windows ME platforms.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PARAMETERS"><a class="permalink" href="#PARAMETERS">PARAMETERS</a></h1>
<dl class="Bl-tag">
  <dt><b>options</b></dt>
  <dd>Command-line options. The options may be in any order. If there are
      redundant or contradictory options, the last option specified will take
      precedence.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
The <b>jstatd</b> command supports the following options:
<dl class="Bl-tag">
  <dt><b>-nr</b></dt>
  <dd>Do not attempt to create an internal RMI registry within the jstatd
      process when an existing RMI registry is not found.</dd>
  <dt><b>-p</b><i> port</i></dt>
  <dd>Port number where the RMI registry is expected to be found, or, if not
      found, created if -nr is not specified.</dd>
  <dt><b>-n</b><i> rminame</i></dt>
  <dd>Name to which the remote RMI object is bound in the RMI registry. The
      default name is JStatRemoteHost. If multiple jstatd servers are started on
      the same host, the name of the exported RMI object for each server can be
      made unique by by specifying this option. However, doing so will require
      that the unique server name be included in the monitoring client's hostid
      and vmid strings.</dd>
  <dt><b>-J</b><i>option</i></dt>
  <dd>Pass option to the java launcher called by javac. For example,
      <b>-J</b>-Xms48m sets the startup memory to 48 megabytes. It is a common
      convention for <b>-J</b> to pass options to the underlying VM executing
      applications written in Java.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SECURITY"><a class="permalink" href="#SECURITY">SECURITY</a></h1>
The <b>jstatd</b> server installs an instance of RMISecurityPolicy if no other
  security manager has been installed and therefore requires a security policy
  file to be specified. The policy file must conform to the default policy
  implementation's Policy File Syntax. The policy file can be specified with the
  <b>-J-D</b>java.security.policy=file
<p class="Pp">The following policy file will allow the jstatd server to run
    without any security exceptions. This policy is less liberal then granting
    all permissions to all codebases, but is more liberal than a policy that
    grants the minimal permissions to run the jstatd server.</p>
<p class="Pp"></p>
<div class="Bd-indent"><b></b>
<pre>
grant codebase &quot;file:${java.home}/../lib/tools.jar&quot; {
	 permission java.security.AllPermission;
};
</pre>
</div>
<p class="Pp">To use this policy, copy the text into a file called
    jstatd.all.policy and run the jstatd server as follows:</p>
<p class="Pp"></p>
<div class="Bd-indent"><b></b>
<pre>
jstatd -J-Djava.security.policy=jstatd.all.policy
</pre>
</div>
<p class="Pp">For sites with more restrictive security practices, Sun recommends
    that the jstatd security policy be customized to meet your specific
  needs.</p>
<p class="Pp">The <b>jstatd</b> server can only monitor JVMs for which it has
    the appropriate access permissions. However, jstatd does not perform any
    user level authentication or authorization checking. Therefore, it opens
    access to the instrumentation exported by the JVMs for which the jstatd
    server has the appropriate access permissions, allowing arbitrary users on
    the network to monitor JVMs that might otherwise be inaccessible. Such
    exposure may be unacceptable in your environment. Particular care should be
    exercised when running the jstatd server with credentials that allow wide
    exposure, such as running the server with root permissions on UNIX based
    systems.</p>
<p class="Pp">The exposure introduced by the jstatd server can be eliminated by
    not running the server, thus requiring all monitoring activities to be
    performed locally. Alternatively, the security policy file can be customized
    to limit access to specific trusted hosts.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="REMOTE_INTERFACE"><a class="permalink" href="#REMOTE_INTERFACE">REMOTE
  INTERFACE</a></h1>
The interface exported by the <b>jstatd</b> process is proprietary and is
  guaranteed to change. Users and developers are discouraged from writing to
  this interface.
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
Here are some examples of starting <b>jstatd</b>. Note that the jstatd scripts
  automatically start the server in the background.
<section class="Ss">
<h2 class="Ss" id="Using_Internal_RMI_Registry"><a class="permalink" href="#Using_Internal_RMI_Registry">Using
  Internal RMI Registry</a></h2>
This example demonstrates starting jstatd with an internal RMI registry. This
  example assumes that no other server is bound to the default RMI Registry port
  (port 1099).
<p class="Pp"></p>
<div class="Bd-indent"><b></b>
<pre>
jstatd -J-Djava.security.policy=all.policy
</pre>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Using_External_RMI_Registry"><a class="permalink" href="#Using_External_RMI_Registry">Using
  External RMI Registry</a></h2>
This example demonstrates starting jstatd with a external RMI registry.
<p class="Pp"></p>
<div class="Bd-indent"><b></b>
<pre>
rmiregistry&amp;
jstatd -J-Djava.security.policy=all.policy
</pre>
</div>
<p class="Pp">This example demonstrates starting jstatd with an external RMI
    registry server on port 2020.</p>
<p class="Pp"></p>
<div class="Bd-indent"><b></b>
<pre>
rmiregistry 2020&amp;
jstatd -J-Djava.security.policy=all.policy -p 2020
</pre>
</div>
<p class="Pp">This example demonstrates starting jstatd with an external RMI
    registry on port 2020, bound to name AlternateJstatdServerName.</p>
<p class="Pp"></p>
<div class="Bd-indent"><b></b>
<pre>
rmiregistry 2020&amp;
jstatd -J-Djava.security.policy=all.policy -p 2020 -n AlternateJstatdServerName
</pre>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Inhibiting_creation_of_an_in-process_RMI_registry"><a class="permalink" href="#Inhibiting_creation_of_an_in-process_RMI_registry">Inhibiting
  creation of an in-process RMI registry</a></h2>
This example demonstrates starting jstatd such that it will not create a RMI
  registry if one is not found. This example assumes an RMI registry is already
  running. If it is not, an appropriate error message is emitted.
<p class="Pp"></p>
<div class="Bd-indent"><b></b>
<pre>
jstatd -nr
</pre>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Enabling_RMI_logging_capabilities"><a class="permalink" href="#Enabling_RMI_logging_capabilities">Enabling
  RMI logging capabilities</a></h2>
This example demonstrates starting jstatd with RMI logging capabilities enabled.
  This technique is useful as a troubleshooting aid or for monitoring server
  activities.
<p class="Pp"></p>
<div class="Bd-indent"><b></b>
<pre>
jstatd -J-Djava.security.policy=all.policy -J-Djava.rmi.server.logCalls=true
</pre>
</div>
<p class="Pp">This example uses the Bourne Shell syntax for setting environment
    variables, other shells or command interpreters may require different
    syntax.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>java</b>(1) <b>jps</b>(1) <b>jstat</b>(1) <b>rmiregistry</b>(1)
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">13 June 2004</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
