<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>CPANPLUS::Internals::Report(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CPANPLUS::Internals::Report(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">CPANPLUS::Internals::Report(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
CPANPLUS::Internals::Report - internals for sending test reports
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  ### enable test reporting
  $cb-&gt;configure_object-&gt;set_conf( cpantest =&gt; 1 );

  ### set custom mx host, shouldn't normally be needed
  $cb-&gt;configure_object-&gt;set_conf( cpantest_mx =&gt; 'smtp.example.com' );
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This module provides all the functionality to send test reports to
  <span class="Li">&quot;http://testers.cpan.org&quot;</span> using the
  <span class="Li">&quot;Test::Reporter&quot;</span> module.
<p class="Pp">All methods will be called automatically if you have
    <span class="Li">&quot;CPANPLUS&quot;</span> configured to enable test
    reporting (see the <span class="Li">&quot;SYNOPSIS&quot;</span>).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="$bool_=_$cb_-__have_query_report_modules"><a class="permalink" href="#$bool_=_$cb_-__have_query_report_modules">$bool
  = $cb-&gt;_have_query_report_modules</a></h2>
This function checks if all the required modules are here for querying reports.
  It returns true and loads them if they are, or returns false otherwise.
</section>
<section class="Ss">
<h2 class="Ss" id="$bool_=_$cb_-__have_send_report_modules"><a class="permalink" href="#$bool_=_$cb_-__have_send_report_modules">$bool
  = $cb-&gt;_have_send_report_modules</a></h2>
This function checks if all the required modules are here for sending reports.
  It returns true and loads them if they are, or returns false otherwise.
</section>
<section class="Ss">
<h2 class="Ss" id="@list_=_$cb_-__query_report(_module_=__$modobj,__all_versions_=___s-1BOOL,_s0_verbose_=___s-1BOOL_s0__)"><a class="permalink" href="#@list_=_$cb_-__query_report(_module_=__$modobj,__all_versions_=___s-1BOOL,_s0_verbose_=___s-1BOOL_s0__)">@list
  = $cb-&gt;_query_report( module =&gt; $modobj, [all_versions =&gt; BOOL,
  verbose =&gt; BOOL] )</a></h2>
This function queries the CPAN testers database at
  <i>http://testers.cpan.org/</i> for test results of specified module objects,
  module names or distributions.
<p class="Pp">The optional argument
    <span class="Li">&quot;all_versions&quot;</span> controls whether all
    versions of a given distribution should be grabbed. It defaults to false
    (fetching only reports for the current version).</p>
<p class="Pp">Returns the a list with the following data structures (for
    CPANPLUS version 0.042) on success, or false on failure. The contents of the
    data structure depends on what <i>http://testers.cpan.org</i> returns, but
    generally looks like this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
          {
            'grade' =&gt; 'PASS',
            'dist' =&gt; 'CPANPLUS-0.042',
            'platform' =&gt; 'i686-pld-linux-thread-multi'
            'details' =&gt; 'http://nntp.x.perl.org/group/perl.cpan.testers/98316'
            ...
          },
          {
            'grade' =&gt; 'PASS',
            'dist' =&gt; 'CPANPLUS-0.042',
            'platform' =&gt; 'i686-linux-thread-multi'
            'details' =&gt; 'http://nntp.x.perl.org/group/perl.cpan.testers/99416'
            ...
          },
          {
            'grade' =&gt; 'FAIL',
            'dist' =&gt; 'CPANPLUS-0.042',
            'platform' =&gt; 'cygwin-multi-64int',
            'details' =&gt; 'http://nntp.x.perl.org/group/perl.cpan.testers/99371'
            ...
          },
          {
            'grade' =&gt; 'FAIL',
            'dist' =&gt; 'CPANPLUS-0.042',
            'platform' =&gt; 'i586-linux',
            'details' =&gt; 'http://nntp.x.perl.org/group/perl.cpan.testers/99396'
            ...
          },
</pre>
<p class="Pp">The status of the test can be one of the following: UNKNOWN, PASS,
    FAIL or NA (not applicable).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$bool_=_$cb_-__send_report(_module_=__$modobj,_buffer_=__$make_output,_failed_=___s-1BOOL,_s0__save_=___s-1BOOL,_s0_address_=__$email_to,_verbose_=___s-1BOOL,_s0_force_=___s-1BOOL_s0_);"><a class="permalink" href="#$bool_=_$cb_-__send_report(_module_=__$modobj,_buffer_=__$make_output,_failed_=___s-1BOOL,_s0__save_=___s-1BOOL,_s0_address_=__$email_to,_verbose_=___s-1BOOL,_s0_force_=___s-1BOOL_s0_);">$bool
  = $cb-&gt;_send_report( module =&gt; $modobj, buffer =&gt; $make_output,
  failed =&gt; BOOL, [save =&gt; BOOL, address =&gt; $email_to, verbose =&gt;
  BOOL, force =&gt; BOOL]);</a></h2>
This function sends a testers report to
  <span class="Li">&quot;cpan-testers@perl.org&quot;</span> for a particular
  distribution. It returns true on success, and false on failure.
<p class="Pp">It takes the following options:</p>
<dl class="Bl-tag">
  <dt>module</dt>
  <dd>The module object of this particular distribution</dd>
  <dt>buffer</dt>
  <dd>The output buffer from the 'make/make test' process</dd>
  <dt>failed</dt>
  <dd>Boolean indicating if the 'make/make test' went wrong</dd>
  <dt>save</dt>
  <dd>Boolean indicating if the report should be saved locally instead of mailed
      out. If provided, this function will return the location the report was
      saved to, rather than a simple boolean 'TRUE'.
    <p class="Pp">Defaults to false.</p>
  </dd>
  <dt>address</dt>
  <dd>The email address to mail the report for. You should never need to
      override this, but it might be useful for debugging purposes.
    <p class="Pp">Defaults to
        <span class="Li">&quot;cpan-testers@perl.org&quot;</span>.</p>
  </dd>
  <dt>verbose</dt>
  <dd>Boolean indicating on whether or not to be verbose.
    <p class="Pp">Defaults to your configuration settings</p>
  </dd>
  <dt>force</dt>
  <dd>Boolean indicating whether to force the sending, even if the max amount of
      reports for fails have already been reached, or if you may already have
      sent it before.
    <p class="Pp">Defaults to your configuration settings</p>
  </dd>
</dl>
</section>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-09-30</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
