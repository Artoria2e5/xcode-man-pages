<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>SQL::Abstract::Tree(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SQL::Abstract::Tree(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">SQL::Abstract::Tree(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
SQL::Abstract::Tree - Represent SQL as an AST
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
 my $sqla_tree = SQL::Abstract::Tree-&gt;new({ profile =&gt; 'console' });

 print $sqla_tree-&gt;format('SELECT * FROM foo WHERE foo.a &gt; 2');

 # SELECT *
 #   FROM foo
 #   WHERE foo.a &gt; 2
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="new"><a class="permalink" href="#new">new</a></h2>
<span class="Li"></span>
<pre>
 my $sqla_tree = SQL::Abstract::Tree-&gt;new({ profile =&gt; 'console' });

 $args = {
   profile =&gt; 'console',      # predefined profile to use (default: 'none')
   fill_in_placeholders =&gt; 1, # true for placeholder population
   placeholder_surround =&gt;    # The strings that will be wrapped around
              [GREEN, RESET], # populated placeholders if the above is set
   indent_string =&gt; ' ',      # the string used when indenting
   indent_amount =&gt; 2,        # how many of above string to use for a single
                              # indent level
   newline       =&gt; &quot;\n&quot;,     # string for newline
   colormap      =&gt; {
     select =&gt; [RED, RESET], # a pair of strings defining what to surround
                             # the keyword with for colorization
     # ...
   },
   indentmap     =&gt; {
     select        =&gt; 0,     # A zero means that the keyword will start on
                             # a new line
     from          =&gt; 1,     # Any other positive integer means that after
     on            =&gt; 2,     # said newline it will get that many indents
     # ...
   },
 }
</pre>
<p class="Pp">Returns a new SQL::Abstract::Tree object. All arguments are
    optional.</p>
<p class="Pp"><i>profiles</i></p>
<p class="Pp">There are four predefined profiles,
    <span class="Li">&quot;none&quot;</span>,
    <span class="Li">&quot;console&quot;</span>,
    <span class="Li">&quot;console_monochrome&quot;</span>, and
    <span class="Li">&quot;html&quot;</span>. Typically a user will probably
    just use <span class="Li">&quot;console&quot;</span> or
    <span class="Li">&quot;console_monochrome&quot;</span>, but if something
    about a profile bothers you, merely use the profile and override the parts
    that you don't like.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="format"><a class="permalink" href="#format">format</a></h2>
<span class="Li"></span>
<pre>
 $sqlat-&gt;format('SELECT * FROM bar WHERE x = ?', [1])
</pre>
<p class="Pp">Takes <span class="Li">$sql</span> and
    <span class="Li">&quot;\@bindargs&quot;</span>.</p>
<p class="Pp">Returns a formatting string based on the string passed in</p>
</section>
<section class="Ss">
<h2 class="Ss" id="parse"><a class="permalink" href="#parse">parse</a></h2>
<span class="Li"></span>
<pre>
 $sqlat-&gt;parse('SELECT * FROM bar WHERE x = ?')
</pre>
<p class="Pp">Returns a &quot;tree&quot; representing passed in SQL. Please do
    not depend on the structure of the returned tree. It may be stable at some
    point, but not yet.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="unparse"><a class="permalink" href="#unparse">unparse</a></h2>
<span class="Li"></span>
<pre>
 $sqlat-&gt;unparse($tree_structure, \@bindargs)
</pre>
<p class="Pp">Transform &quot;tree&quot; into SQL, applying various transforms
    on the way.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="format_keyword"><a class="permalink" href="#format_keyword">format_keyword</a></h2>
<span class="Li"></span>
<pre>
 $sqlat-&gt;format_keyword('SELECT')
</pre>
<p class="Pp">Currently this just takes a keyword and puts the
    <span class="Li">&quot;colormap&quot;</span> stuff around it. Later on it
    may do more and allow for coderef based transforms.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="pad_keyword"><a class="permalink" href="#pad_keyword">pad_keyword</a></h2>
<span class="Li"></span>
<pre>
 my ($before, $after) = @{$sqlat-&gt;pad_keyword('SELECT')};
</pre>
<p class="Pp">Returns whitespace to be inserted around a keyword.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="fill_in_placeholder"><a class="permalink" href="#fill_in_placeholder">fill_in_placeholder</a></h2>
<span class="Li"></span>
<pre>
 my $value = $sqlat-&gt;fill_in_placeholder(\@bindargs)
</pre>
<p class="Pp">Removes last arg from passed arrayref and returns it, surrounded
    with the values in placeholder_surround, and then surrounded with single
    quotes.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="indent"><a class="permalink" href="#indent">indent</a></h2>
Returns as many indent strings as indent amounts times the first argument.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="ACCESSORS"><a class="permalink" href="#ACCESSORS">ACCESSORS</a></h1>
<section class="Ss">
<h2 class="Ss" id="colormap"><a class="permalink" href="#colormap">colormap</a></h2>
See &quot;new&quot;
</section>
<section class="Ss">
<h2 class="Ss" id="fill_in_placeholders"><a class="permalink" href="#fill_in_placeholders">fill_in_placeholders</a></h2>
See &quot;new&quot;
</section>
<section class="Ss">
<h2 class="Ss" id="indent_amount"><a class="permalink" href="#indent_amount">indent_amount</a></h2>
See &quot;new&quot;
</section>
<section class="Ss">
<h2 class="Ss" id="indent_string"><a class="permalink" href="#indent_string">indent_string</a></h2>
See &quot;new&quot;
</section>
<section class="Ss">
<h2 class="Ss" id="indentmap"><a class="permalink" href="#indentmap">indentmap</a></h2>
See &quot;new&quot;
</section>
<section class="Ss">
<h2 class="Ss" id="newline"><a class="permalink" href="#newline">newline</a></h2>
See &quot;new&quot;
</section>
<section class="Ss">
<h2 class="Ss" id="placeholder_surround"><a class="permalink" href="#placeholder_surround">placeholder_surround</a></h2>
See &quot;new&quot;
</section>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-01-16</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
