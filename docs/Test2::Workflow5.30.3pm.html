<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Test2::Workflow(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Test2::Workflow(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Test2::Workflow(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Test2::Workflow - A test workflow is a way of structuring tests using composable
  units.
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
A test workflow is a way of structuring tests using composable units. A well
  known example of a test workflow is RSPEC &lt;http://rspec.info/&gt;. RSPEC is
  implemented using Test2::Workflow in Test2::Tools::Spec along with several
  extensions.
</section>
<section class="Sh">
<h1 class="Sh" id="IMPORTANT_CONCEPTS"><a class="permalink" href="#IMPORTANT_CONCEPTS">IMPORTANT
  CONCEPTS</a></h1>
<section class="Ss">
<h2 class="Ss" id="_s-1BUILD_s0"><a class="permalink" href="#_s-1BUILD_s0">BUILD</a></h2>
Test2::Workflow::Build
<p class="Pp">A Build is used to compose tasks. Usually a build object is pushed
    to the stack before running code that adds tasks to the build. Once the
    build sub is complete the build is popped and returned. Usually a build is
    converted into a root task or task group.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1RUNNER_s0"><a class="permalink" href="#_s-1RUNNER_s0">RUNNER</a></h2>
Test2::Workflow::Runner
<p class="Pp">A runner takes the composed tasks and executes them in the proper
    order.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1TASK_s0"><a class="permalink" href="#_s-1TASK_s0">TASK</a></h2>
Test2::Workflow::Task
<p class="Pp">A task is a unit of work to accomplish. There are 2 main types of
    task.</p>
<p class="Pp"><i>ACTION</i></p>
<p class="Pp">An action is the most simple unit used in composition. An action
    is essentially a name and a codeblock to run.</p>
<p class="Pp"><i>GROUP</i></p>
<p class="Pp">A group is a task that is composed of other tasks.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="EXPORTS"><a class="permalink" href="#EXPORTS">EXPORTS</a></h1>
All exports are optional, you must request the ones you want.
<dl class="Bl-tag">
  <dt>$parsed = parse_args(args =&gt; \@args)</dt>
  <dd></dd>
  <dt>$parsed = parse_args(args =&gt; \@args, level =&gt; $L)</dt>
  <dd></dd>
  <dt>$parsed = parse_args(args =&gt; \@args, caller =&gt; [caller($L)])</dt>
  <dd>This will parse a &quot;typical&quot; task builders arguments. The
      <span class="Li">@args</span> array MUST contain a name (plain scalar
      containing text) and also a single CODE reference. The
      <span class="Li">@args</span> array MAY also contain any quantity of line
      numbers or hashrefs. The resulting data structure will be a single hashref
      with all the provided hashrefs squashed together, and the 'name', 'code',
      'lines' and 'frame' keys set from other arguments.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    {
        # All hashrefs from @args get squashed together:
        %squashed_input_hashref_data,

        # @args must have exactly 1 plaintext scalar that is not a number, it
        # is considered the name:
        name =&gt; 'name from input args'

        # Integer values are treated as line numbers
        lines =&gt; [ 35, 44 ],

        # Exactly 1 coderef must be provided in @args:
        code =&gt; \&amp;some_code,

        # 'frame' contains the 'caller' data. This may be passed in directly,
        # obtained from the 'level' parameter, or automatically deduced.
        frame =&gt; ['A::Package', 'a_file.pm', 42, ...],
    }
    </pre>
  </dd>
  <dt>$build = init_root($pkg, %args)</dt>
  <dd>This will initialize (or return the existing) a build for the specified
      package. <span class="Li">%args</span> get passed into the
      Test2::Workflow::Build constructor. This uses the following defaults
      (which can be overridden using <span class="Li">%args</span>):
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    name    =&gt; $pkg,
    flat    =&gt; 1,
    iso     =&gt; 0,
    async   =&gt; 0,
    is_root =&gt; 1,
    </pre>
    <p class="Pp">Note that <span class="Li">%args</span> is completely ignored
        if the package build has already been initialized.</p>
  </dd>
  <dt>$build = root_build($pkg)</dt>
  <dd>This will return the root build for the specified package.</dd>
  <dt>$build = <b>current_build()</b></dt>
  <dd>This will return the build currently at the top of the build stack (or
      undef).</dd>
  <dt>$build = build($name, \%params, sub { ... })</dt>
  <dd>This will push a new build object onto the build stash then run the
      provided codeblock. Once the codeblock has finished running the build will
      be popped off the stack and returned.
    <p class="Pp">See <span class="Li">&quot;parse_args()&quot;</span> for
        details about argument processing.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<dl class="Bl-tag">
  <dt>Test2::Tools::Spec</dt>
  <dd>Test2::Tools::Spec is an implementation of RSPEC using this library.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SOURCE"><a class="permalink" href="#SOURCE">SOURCE</a></h1>
The source code repository for Test2-Workflow can be found at
  <i>https://github.com/Test-More/Test2-Suite/</i>.
</section>
<section class="Sh">
<h1 class="Sh" id="MAINTAINERS"><a class="permalink" href="#MAINTAINERS">MAINTAINERS</a></h1>
<dl class="Bl-tag">
  <dt>Chad Granum &lt;exodist@cpan.org&gt;</dt>
  <dd></dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<dl class="Bl-tag">
  <dt>Chad Granum &lt;exodist@cpan.org&gt;</dt>
  <dd></dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright 2018 Chad Granum &lt;exodist7@gmail.com&gt;.
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp">See <i>http://dev.perl.org/licenses/</i></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-10-22</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
