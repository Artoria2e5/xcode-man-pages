<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>YAA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">YAA(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">YAA(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
yaa - Manipulate YAA archives
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>yaa <b>verb</b> [<b>options</b>]</b>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>yaa creates and manipulates YAA archives.</b>
</section>
<section class="Sh">
<h1 class="Sh" id="VERBS"><a class="permalink" href="#VERBS">VERBS</a></h1>
<b>create</b>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Archive
  the contents of the target directory
<p class="Pp"><b>extract</b>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Extract
    the contents of an archive to the target directory</p>
<p class="Pp"><b>list</b>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;List
    the contents of an archive</p>
<p class="Pp"><b>info</b>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Print
    archive metadata</p>
<p class="Pp"><b>convert</b>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Convert
    an archive into another archive</p>
<p class="Pp"><b>manifest</b>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Alias
    for 'archive -manifest'</p>
<p class="Pp"><b>index</b>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Alias
    for 'convert -index'</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt><b>-v</b></dt>
  <dd>Increase verbosity. Default is silent operation.</dd>
  <dt><b>-h</b></dt>
  <dd>Print usage and exit.</dd>
  <dt><b>-d&#x00A0;<i>target_dir</i></b></dt>
  <dd>Target directory. Default is the current directory.</dd>
  <dt><b>-i&#x00A0;<i>input_file</i></b></dt>
  <dd>Input file. Default is <i>stdin</i>.</dd>
  <dt><b>-ioffset&#x00A0;<i>input_offset</i></b></dt>
  <dd>Bytes to skip in <i>input_file</i>. Default is 0 to read from the
      beginning of the file.</dd>
  <dt><b>-isize&#x00A0;<i>input_size</i></b></dt>
  <dd>Bytes to read from <i>input_file</i>. Default is -1 to read all available
      data.</dd>
  <dt><b>-iindex&#x00A0;<i>input_index</i></b></dt>
  <dd>YAA index corresponding to <i>input_file</i>. The index is used to
      accelerate sparse archive reading, in conjonction with the entry name/type
      selection options.</dd>
  <dt><b>-o&#x00A0;<i>output_file</i></b></dt>
  <dd>Output file. Default is <i>stdout</i>.</dd>
  <dt><b>-a&#x00A0;<i>algorithm</i></b></dt>
  <dd>Compression algorithm used when creating archives. One of <i>lzfse</i>,
      <i>lzma</i>, <i>lz4</i>, <i>zlib</i>, <i>raw</i>. Default is
    <i>lzfse</i>.</dd>
  <dt><b>-b&#x00A0;<i>block_size</i></b></dt>
  <dd>Block size used when compressing archives, a number with optional b,k,m,g
      suffix (bytes are assumed if no suffix is specified). Default is
      <i>4m</i>.</dd>
  <dt><b>-t&#x00A0;<i>worker_threads</i></b></dt>
  <dd>Number of worker threads compressing/decompressing data. Default is the
      number of logical CPU on the running machine.</dd>
  <dt><b>-wt&#x00A0;<i>writer_threads</i></b></dt>
  <dd>Number of writer threads extracting archive content. Default is to match
      <i>worker_threads</i>.</dd>
  <dt><b>-exclude-metadata</b></dt>
  <dd>Skip insertion of a leading metadata entry in the generated archives. This
      metadata entry contains a list of the included fields. It is printed by
      the <b>info</b> command.</dd>
  <dt><b>-include-path&#x00A0;<i>prefix</i></b></dt>
  <dd>Include entry paths matching <i>prefix</i>. This option can be given
      multiple times.</dd>
  <dt><b>-exclude-path&#x00A0;<i>prefix</i></b></dt>
  <dd>Exclude entry paths matching <i>prefix</i>. This option can be given
      multiple times.</dd>
  <dt><b>-include-path-list&#x00A0;<i>&lt;prefix_list_file&gt;</i></b></dt>
  <dd>File containing a list of path prefixes to include, one entry per line.
      This option can be given multiple times.</dd>
  <dt><b>-exclude-path-list&#x00A0;<i>&lt;prefix_list_file&gt;</i></b></dt>
  <dd>File containing a list of path prefixes to exclude, one entry per line.
      This option can be given multiple times.</dd>
  <dt><b>-exclude-name&#x00A0;<i>name</i></b></dt>
  <dd>Exclude entry paths where a single component of the path matches exactly
      <i>name</i>. This option can be given multiple times.</dd>
  <dt><b>-include-type&#x00A0;<i>&lt;type_spec&gt;</i></b></dt>
  <dd>Include only entries matching the given types. <i>&lt;type_spec&gt;</i> is
      a word containing one or more of the entry type characters listed
    below.</dd>
  <dt><b>-exclude-type&#x00A0;<i>&lt;type_spec&gt;</i></b></dt>
  <dd>Exclude only entries matching the given types. <i>&lt;type_spec&gt;</i> is
      a word containing one or more of the entry type characters listed
    below.</dd>
  <dt><b>-include-field&#x00A0;<i>&lt;field_spec&gt;</i></b></dt>
  <dd>Add the given fields to the set of fields to include with each entry. This
      option can be given multiple times. <i>&lt;field_spec&gt;</i> is a comma
      separated list of entry field tags listed below.</dd>
  <dt><b>-exclude-field&#x00A0;<i>&lt;field_spec&gt;</i></b></dt>
  <dd>Remove the given fields to the set of fields to include with each entry.
      This option can be given multiple times. <i>&lt;field_spec&gt;</i> is a
      comma separated list of entry field tags listed below.</dd>
  <dt><b>-manifest</b></dt>
  <dd>Alias for the following options:
    <br/>
    <b>-exclude-field</b> <i>dat</i>
    <br/>
    <b>-include-field</b> <i>sh1,cks,siz</i>
    <br/>
    <b>-a</b> <i>lzfse</i> <b>-b</b> <i>1m</i></dd>
  <dt><b>-index</b></dt>
  <dd>Alias for the following options:
    <br/>
    <b>-exclude-field</b> <i>all</i>
    <br/>
    <b>-include-field</b> <i>idx</i>
    <br/>
    <b>-a</b> <i>lzfse</i> <b>-b</b> <i>1m</i></dd>
  <dt><b>entry&#x00A0;types</b></dt>
  <dd>
    <br/>
    <b>b</b> block special
    <br/>
    <b>c</b> character special
    <br/>
    <b>d</b> directory
    <br/>
    <b>f</b> regular file
    <br/>
    <b>h</b> hard link
    <br/>
    <b>l</b> symbolic link
    <br/>
    <b>m</b> metadata
    <br/>
    <b>p</b> fifo
    <br/>
    <b>s</b> socket</dd>
  <dt><b>entry&#x00A0;fields</b></dt>
  <dd>
    <br/>
    <b>typ</b> entry type
    <br/>
    <b>pat</b> path
    <br/>
    <b>lnk</b> link path
    <br/>
    <b>dev</b> device id
    <br/>
    <b>uid</b> user id
    <br/>
    <b>gid</b> group id
    <br/>
    <b>mod</b> access permissions
    <br/>
    <b>flg</b> flags
    <br/>
    <b>mtm</b> modification, creation, backup times
    <br/>
    <b>xat</b> extended attributes
    <br/>
    <b>acl</b> access control list
    <br/>
    <b>cks</b> CRC32 checksum
    <br/>
    <b>sh1</b> SHA1 digest
    <br/>
    <b>sh2</b> SHA2 digest
    <br/>
    <b>dat</b> file contents
    <br/>
    <b>siz</b> file size
    <br/>
    <b>duz</b> disk usage
    <br/>
    <b>idx</b> entry index in main archive
    <br/>
    <b>yaf</b> YAA fields (in metadata entry)
    <br/>
    <b>all</b> alias for all fields
    <br/>
    <b>attr</b> alias for <i>uid,gid,mod,flg,mtm</i>
    <br/>
    <b>other</b> other fields (not in this list)
    <p class="Pp"></p>
  </dd>
  <dt><b>default&#x00A0;entry&#x00A0;fields</b></dt>
  <dd>
    <br/>
    <b>typ,pat,lnk,dev,uid,gid,mod,flg,mtm,dat,duz</b>
    <p class="Pp"></p>
  </dd>
  <dt><b>entry&#x00A0;selection</b></dt>
  <dd>
    <br/>
    <b>-include-path</b> and <b>-include-path-list</b> options are applied first
      to select an initial set of entries, then <b>-exclude-path</b>,
      <b>-exclude-path-list</b> and <b>-exclude-name</b> are applied to remove
      entries from this set. If no <b>-include-path</b> or
      <b>-include-path-list</b> option is given, all entries are included in the
      initial set. If a directory is included/excluded, the entire sub-tree is
      included/excluded.
    <p class="Pp"></p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt>Archive the contents of directory <i>foo</i> into archive <i>foo.yaa</i>,
    using LZMA compression with 8 MB blocks</dt>
  <dd>
    <p class="Pp"><b>yaa archive -d foo -o foo.yaa -a lzma -b 8m</b></p>
    <p class="Pp"></p>
  </dd>
  <dt>Extract the contents of <i>foo.yaa</i> in directory <i>dst</i></dt>
  <dd>
    <p class="Pp"><b>yaa extract -d dst -i foo.yaa</b></p>
    <p class="Pp"></p>
  </dd>
  <dt>Create a manifest of the contents of directory <i>foo</i> into
    <i>foo.manifest</i>, using LZFSE compression with 1 MB blocks</dt>
  <dd>
    <p class="Pp"><b>yaa manifest -d foo -o foo.manifest -a lzfse -b 1m</b></p>
    <p class="Pp"></p>
  </dd>
  <dt>Verify the contents of <i>dst</i> match the manifest
    <i>foo.manifest</i></dt>
  <dd>
    <p class="Pp"><b>yaa verify -i foo.manifest -d dst -v</b></p>
    <p class="Pp"></p>
  </dd>
  <dt>Print all entry paths in <i>foo.manifest</i></dt>
  <dd>
    <p class="Pp"><b>yaa list -i foo.manifest</b></p>
    <p class="Pp"></p>
  </dd>
  <dt>Print all entry paths, uid, gid for regular files in
    <i>foo.manifest</i></dt>
  <dd>
    <p class="Pp"><b>yaa list -v -i foo.manifest -include-type f -exclude-field
        all -include-field uid,gid,pat</b></p>
    <p class="Pp"></p>
  </dd>
  <dt>Create a manifest of the contents of archive <i>foo.yaa</i> in
    <i>foo.manifest</i></dt>
  <dd>
    <p class="Pp"><b>yaa convert -manifest -v -i foo.yaa -o foo.manifest</b></p>
    <p class="Pp"></p>
  </dd>
  <dt>Create an index of the contents of archive <i>foo.yaa</i> in
    <i>foo.index</i></dt>
  <dd>
    <p class="Pp"><b>yaa index -v -i foo.yaa -o foo.index</b></p>
    <p class="Pp"></p>
  </dd>
  <dt>Extract a subset of entries matching prefix <i>Applications/Mail.app</i>
    from archive <i>foo.yaa</i> in directory <i>dst</i></dt>
  <dd>
    <p class="Pp"><b>yaa extract -i foo.yaa -include-path Applications/Mail.app
        -d dst</b></p>
    <p class="Pp"></p>
  </dd>
  <dt>Extract the same files as in the previous example, but use
    <i>foo.index</i> to accelerate extraction</dt>
  <dd>
    <p class="Pp"><b>yaa extract -i foo.yaa -include-path Applications/Mail.app
        -d dst -iindex foo.index</b></p>
    <p class="Pp"></p>
  </dd>
</dl>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
