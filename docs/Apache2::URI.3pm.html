<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>install::TempContent::Objects::mod_perl-2.0.9::docs::api::Apache2::URI(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">install::TempContent::Objects::mod_perl-2.0.9::docs::api::Apache2::URI(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">install::TempContent::Objects::mod_perl-2.0.9::docs::api::Apache2::URI(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Apache2::URI - Perl API for manipulating URIs
</section>
<section class="Sh">
<h1 class="Sh" id="Synopsis"><a class="permalink" href="#Synopsis">Synopsis</a></h1>
<span class="Li"></span>
<pre>
  use Apache2::URI ();
  
  $hostport = $r-&gt;construct_server();
  $hostport = $r-&gt;construct_server($hostname);
  $hostport = $r-&gt;construct_server($hostname, $port);
  $hostport = $r-&gt;construct_server($hostname, $port, $pool);
  
  $url = $r-&gt;construct_url();
  $url = $r-&gt;construct_url($rel_uri);
  $url = $r-&gt;construct_url($rel_uri, $pool);
  
  $parsed_uri = $r-&gt;parse_uri($uri);
  
  $parsed_uri = $r-&gt;parsed_uri();
  
  $url = join '%20', qw(one two three);
  Apache2::URI::unescape_url($url);
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="Description"><a class="permalink" href="#Description">Description</a></h1>
While <span class="Li">&quot;APR::URI&quot;</span> provides a generic API to
  dissect, adjust and put together any given URI string,
  <span class="Li">&quot;Apache2::URI&quot;</span> provides an API specific to
  Apache, by taking the information directly from the <span class="Li">$r</span>
  object. Therefore when manipulating the URI of the current HTTP request
  usually methods from both classes are used.
</section>
<section class="Sh">
<h1 class="Sh" id="API"><a class="permalink" href="#API">API</a></h1>
<span class="Li">&quot;Apache2::URI&quot;</span> provides the following
  functions and methods:
<section class="Ss">
<h2 class="Ss" id="_construct_server_"><a class="permalink" href="#_construct_server_">&quot;construct_server&quot;</a></h2>
Construct a string made of hostname and port
<p class="Pp"><span class="Li"></span></p>
<pre>
  $hostport = $r-&gt;construct_server();
  $hostport = $r-&gt;construct_server($hostname);
  $hostport = $r-&gt;construct_server($hostname, $port);
  $hostport = $r-&gt;construct_server($hostname, $port, $pool);
</pre>
<dl class="Bl-tag">
  <dt>obj: $r ( &quot;Apache2::RequestRec object&quot; )</dt>
  <dd>The current request object</dd>
  <dt>opt arg1: $hostname ( string )</dt>
  <dd>The hostname of the server.
    <p class="Pp">If that argument is not passed,
        <span class="Li">&quot;$r-&gt;get_server_name&quot;</span> is used.</p>
  </dd>
  <dt>opt arg2: $port ( string )</dt>
  <dd>The port the server is running on.
    <p class="Pp">If that argument is not passed,
        <span class="Li">&quot;$r-&gt;get_server_port&quot;</span> is used.</p>
  </dd>
  <dt>opt arg3: $pool ( &quot;APR::Pool object&quot; )</dt>
  <dd>The pool to allocate the string from.
    <p class="Pp">If that argument is not passed,
        <span class="Li">&quot;$r-&gt;pool&quot;</span> is used.</p>
  </dd>
  <dt>ret: $hostport ( string )</dt>
  <dd>The server's hostport string</dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
<p class="Pp">Examples:</p>
<ul class="Bl-bullet">
  <li>Assuming that:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $r-&gt;get_server_name == &quot;localhost&quot;;
  $r-&gt;get_server_port == 8001;
    </pre>
    <p class="Pp">The code:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $hostport = $r-&gt;construct_server();
    </pre>
    <p class="Pp">returns a string:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  localhost:8001
    </pre>
  </li>
  <li>The following code sets the values explicitly:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  $hostport = $r-&gt;construct_server(&quot;my.example.com&quot;, 8888);
    </pre>
    <p class="Pp">and it returns a string:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my.example.com:8888
    </pre>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_construct_url_"><a class="permalink" href="#_construct_url_">&quot;construct_url&quot;</a></h2>
Build a fully qualified URL from the uri and information in the request rec:
<p class="Pp"><span class="Li"></span></p>
<pre>
  $url = $r-&gt;construct_url();
  $url = $r-&gt;construct_url($rel_uri);
  $url = $r-&gt;construct_url($rel_uri, $pool);
</pre>
<dl class="Bl-tag">
  <dt>obj: $r ( &quot;Apache2::RequestRec object&quot; )</dt>
  <dd>The current request object</dd>
  <dt>opt arg1: $rel_uri ( string )</dt>
  <dd>The path to the requested file (it may include a concatenation of
      <i>path</i>, <i>query</i> and <i>fragment</i> components).
    <p class="Pp">If that argument is not passed,
        <span class="Li">&quot;$r-&gt;uri&quot;</span> is used.</p>
  </dd>
  <dt>opt arg2: $pool ( &quot;APR::Pool object&quot; )</dt>
  <dd>The pool to allocate the URL from
    <p class="Pp">If that argument is not passed,
        <span class="Li">&quot;$r-&gt;pool&quot;</span> is used.</p>
  </dd>
  <dt>ret: $url ( string )</dt>
  <dd>A fully qualified URL</dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
<p class="Pp">Examples:</p>
<ul class="Bl-bullet">
  <li>Assuming that the request was
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  http://localhost.localdomain:8529/test?args
    </pre>
    <p class="Pp">The code:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $url = $r-&gt;construct_url;
    </pre>
    <p class="Pp">returns the string:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  http://localhost.localdomain:8529/test
    </pre>
    <p class="Pp">notice that the query (args) component is not in the string.
        You need to append it manually if it's needed.</p>
  </li>
  <li>Assuming that the request was
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  http://localhost.localdomain:8529/test?args
    </pre>
    <p class="Pp">The code:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  my $rel_uri = &quot;/foo/bar?tar&quot;;
  my $url = $r-&gt;construct_url($rel_uri);
    </pre>
    <p class="Pp">returns the string:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
  http://localhost.localdomain:8529/foo/bar?tar
    </pre>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="_parse_uri_"><a class="permalink" href="#_parse_uri_">&quot;parse_uri&quot;</a></h2>
Break apart URI (affecting the current request's uri components)
<p class="Pp"><span class="Li"></span></p>
<pre>
  $r-&gt;parse_uri($uri);
</pre>
<dl class="Bl-tag">
  <dt>obj: $r ( &quot;Apache2::RequestRec object&quot; )</dt>
  <dd>The current request object</dd>
  <dt>arg1: $uri ( string )</dt>
  <dd>The uri to break apart</dd>
  <dt>ret: no return value</dt>
  <dd></dd>
  <dt>warning:</dt>
  <dd>This method has several side-effects explained below</dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
<p class="Pp">This method call has the following side-effects:</p>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>sets <span class="Li">&quot;$r-&gt;args&quot;</span> to the rest after
      <span class="Li">'?'</span> if such exists in the passed
      <span class="Li">$uri</span>, otherwise sets it to
      <span class="Li">&quot;undef&quot;</span>.</dd>
  <dt>2.</dt>
  <dd>sets <span class="Li">&quot;$r-&gt;uri&quot;</span> to the passed
      <span class="Li">$uri</span> without the
      <span class="Li">&quot;$r-&gt;args&quot;</span> part.</dd>
  <dt>3.</dt>
  <dd>sets <span class="Li">&quot;$r-&gt;hostname&quot;</span> (if not set
      already) using the
      (<span class="Li">&quot;scheme://host:port&quot;</span>) parts of the
      passed <span class="Li">$uri</span>.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_parsed_uri_"><a class="permalink" href="#_parsed_uri_">&quot;parsed_uri&quot;</a></h2>
Get the current request's parsed uri object
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $uri = $r-&gt;parsed_uri();
</pre>
<dl class="Bl-tag">
  <dt>obj: $r ( &quot;Apache2::RequestRec object&quot; )</dt>
  <dd>The current request object</dd>
  <dt>ret: $uri ( &quot;APR::URI object&quot; )</dt>
  <dd>The parsed uri</dd>
  <dt>since: 2.0.00</dt>
  <dd>This object is suitable for using with
      <span class="Li">&quot;APR::URI::rpath&quot;</span></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_unescape_url_"><a class="permalink" href="#_unescape_url_">&quot;unescape_url&quot;</a></h2>
Unescape URLs
<p class="Pp"><span class="Li"></span></p>
<pre>
  Apache2::URI::unescape_url($url);
</pre>
<dl class="Bl-tag">
  <dt>obj: $url ( string )</dt>
  <dd>The URL to unescape</dd>
  <dt>ret: no return value</dt>
  <dd>The argument <span class="Li">$url</span> is now unescaped</dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
<p class="Pp">Example:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my $url = join '%20', qw(one two three);
  Apache2::URI::unescape_url($url);
</pre>
<p class="Pp"><span class="Li">$url</span> now contains the string:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  &quot;one two three&quot;;
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="See_Also"><a class="permalink" href="#See_Also">See
  Also</a></h1>
<span class="Li">&quot;APR::URI&quot;</span>, mod_perl 2.0 documentation.
</section>
<section class="Sh">
<h1 class="Sh" id="Copyright"><a class="permalink" href="#Copyright">Copyright</a></h1>
mod_perl 2.0 and its core modules are copyrighted under The Apache Software
  License, Version 2.0.
</section>
<section class="Sh">
<h1 class="Sh" id="Authors"><a class="permalink" href="#Authors">Authors</a></h1>
The mod_perl development team and numerous contributors.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-06-18</td>
    <td class="foot-os">perl v5.28.2</td>
  </tr>
</table>
</body>
</html>
