<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Generated from file '/Library/Caches/com.apple.xbs/Sources/tcl/tcl-129/tcl_ext/tcllib/tcllib/modules/nntp/nntp.man' by tcllib/doctools with format 'nroff'
  
   The definitions below are for supplemental macros used in Tcl/Tk
   manual entries.
  
   .AP type name in/out ?indent?
  	Start paragraph describing an argument to a library procedure.
  	type is type of argument (int, etc.), in/out is either "in", "out",
  	or "in/out" to describe whether procedure reads or modifies arg,
  	and indent is equivalent to second arg of .IP (shouldn't ever be
  	needed;  use .AS below instead)
  
   .AS ?type? ?name?
  	Give maximum sizes of arguments for setting tab stops.  Type and
  	name are examples of largest possible arguments that will be passed
  	to .AP later.  If args are omitted, default tab stops are used.
  
   .BS
  	Start box enclosure.  From here until next .BE, everything will be
  	enclosed in one large box.
  
   .BE
  	End of box enclosure.
  
   .CS
  	Begin code excerpt.
  
   .CE
  	End code excerpt.
  
   .VS ?version? ?br?
  	Begin vertical sidebar, for use in marking newly-changed parts
  	of man pages.  The first argument is ignored and used for recording
  	the version when the .VS was added, so that the sidebars can be
  	found and removed when they reach a certain age.  If another argument
  	is present, then a line break is forced before starting the sidebar.
  
   .VE
  	End of vertical sidebar.
  
   .DS
  	Begin an indented unfilled display.
  
   .DE
  	End of indented unfilled display.
  
   .SO
  	Start of list of standard options for a Tk widget.  The
  	options follow on successive lines, in four columns separated
  	by tabs.
  
   .SE
  	End of list of standard options for a Tk widget.
  
   .OP cmdName dbName dbClass
  	Start of description of a specific option.  cmdName gives the
  	option's name as specified in the class command, dbName gives
  	the option's name in the option database, and dbClass gives
  	the option's class in the option database.
  
   .UL arg1 arg2
  	Print arg1 underlined, then print arg2 normally.
  
   RCS: @(#) $Id: man.macros,v 1.1 2009/01/30 04:56:47 andreas_kupries Exp $
  
  	# Set up traps and other miscellaneous stuff for Tcl/Tk man pages.
  	# Start an argument description
  .b
  	# define tabbing values for .AP
  
  	# BS - start boxed text
  	# ^y = starting y location
  	# ^b = 1
  	# BE - end boxed text (draw box now)
  	Draw four-sided box normally, but don't draw top of
  	box if the box started on an earlier page.
  	# VS - start vertical sidebar
  	# ^Y = starting y location
  	# ^v = 1 (for troff;  for nroff this doesn't matter)
  	# VE - end of vertical sidebar
  	# Special macro to handle page bottom:  finish off current
  	# box/sidebar if in box/sidebar mode, then invoked standard
  	# page bottom macro.
  	Draw three-sided box if this is the box's first page,
  	draw two sides but no top otherwise.
  	# DS - begin display
  	# DE - end display
  	# SO - start of list of standard options
  	# SE - end of list of standard options
  	# OP - start of full description for a single option
  	# CS - begin code excerpt
  	# CE - end code excerpt
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>nntp(n)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">nntp(n)</td>
    <td class="head-vol">Tcl NNTP Client Library</td>
    <td class="head-rtitle">nntp(n)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<pre>

</pre>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
nntp - Tcl client for the NNTP protocol
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
package require <b>Tcl 8.2</b>
<p class="Pp">package require <b>nntp ?0.2.1?</b></p>
<p class="Pp"><b>::nntp::nntp</b> ?<i>host</i>? ?<i>port</i>?
  ?<i>nntpName</i>?</p>
<p class="Pp"><i>nntpName</i> <b>method</b> ?<i>arg arg ...</i>?</p>
<p class="Pp"><i>nntpName</i> <b>article</b> ?<i>msgid</i>?</p>
<p class="Pp"><i>nntpName</i> <b>authinfo</b> ?<i>user</i>? ?<i>pass</i>?</p>
<p class="Pp"><i>nntpName</i> <b>body</b> ?<i>msgid</i>?</p>
<p class="Pp"><i>nntpName</i> <b>configure</b></p>
<p class="Pp"><i>nntpName</i> <b>configure</b> <i>option</i></p>
<p class="Pp"><i>nntpName</i> <b>configure</b> <i>option</i> <i>value</i>
  ...</p>
<p class="Pp"><i>nntpName</i> <b>cget</b> <i>option</i></p>
<p class="Pp"><i>nntpName</i> <b>date</b></p>
<p class="Pp"><i>nntpName</i> <b>group</b> ?<i>group</i>?</p>
<p class="Pp"><i>nntpName</i> <b>head</b> ?<i>msgid</i>?</p>
<p class="Pp"><i>nntpName</i> <b>help</b></p>
<p class="Pp"><i>nntpName</i> <b>last</b></p>
<p class="Pp"><i>nntpName</i> <b>list</b></p>
<p class="Pp"><i>nntpName</i> <b>listgroup</b> ?<i>group</i>?</p>
<p class="Pp"><i>nntpName</i> <b>mode_reader</b></p>
<p class="Pp"><i>nntpName</i> <b>newgroups</b> <i>since</i></p>
<p class="Pp"><i>nntpName</i> <b>newnews</b></p>
<p class="Pp"><i>nntpName</i> <b>newnews</b> <i>since</i></p>
<p class="Pp"><i>nntpName</i> <b>newnews</b> <i>group</i> ?<i>since</i>?</p>
<p class="Pp"><i>nntpName</i> <b>next</b></p>
<p class="Pp"><i>nntpName</i> <b>post</b> <i>article</i></p>
<p class="Pp"><i>nntpName</i> <b>slave</b></p>
<p class="Pp"><i>nntpName</i> <b>stat</b> ?<i>msgid</i>?</p>
<p class="Pp"><i>nntpName</i> <b>quit</b></p>
<p class="Pp"><i>nntpName</i> <b>xgtitle</b> ?<i>group_pattern</i>?</p>
<p class="Pp"><i>nntpName</i> <b>xhdr</b> <i>field</i> ?<i>range</i>?</p>
<p class="Pp"><i>nntpName</i> <b>xover</b> ?<i>range</i>?</p>
<p class="Pp"><i>nntpName</i> <b>xpat</b> <i>field</i> <i>range</i>
    ?<i>pattern_list</i>?</p>
<p class="Pp"></p>
<pre>

</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The package <b>nntp</b> provides a simple Tcl-only client library for the NNTP
  protocol. It works by opening the standard NNTP socket on the server, and then
  providing a Tcl API to access the NNTP protocol commands. All server errors
  are returned as Tcl errors (thrown) which must be caught with the Tcl
  <b>catch</b> command.
</section>
<section class="Sh">
<h1 class="Sh" id="COMMANDS"><a class="permalink" href="#COMMANDS">COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt><b>::nntp::nntp</b> ?<i>host</i>? ?<i>port</i>? ?<i>nntpName</i>?</dt>
  <dd>The command opens a socket connection to the specified NNTP server and
      creates a new nntp object with an associated global Tcl command whose name
      is <i>nntpName</i>. This command may be used to access the various NNTP
      protocol commands for the new connection. The default <i>port</i> number
      is &quot;119&quot; and the default <i>host</i> is &quot;news&quot;. These
      defaults can be overridden with the environment variables <b>NNTPPORT</b>
      and <b>NNTPHOST</b> respectively.
    <p class="Pp">Some of the commands supported by this package are not part of
        the nntp rfc 977 (<i>http://www.rfc-editor.org/rfc/rfc977.txt</i>) and
        will not be available (or implemented) on all nntp servers.</p>
    <p class="Pp">The access command <i>nntpName</i> has the following general
        form:</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt><i>nntpName</i> <b>method</b> ?<i>arg arg ...</i>?</dt>
  <dd><i>Option</i> and the <i>arg</i>s determine the exact behavior of the
      command.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt><i>nntpName</i> <b>article</b> ?<i>msgid</i>?</dt>
  <dd>Query the server for article <i>msgid</i> from the current group. The
      article is returned as a valid tcl list which contains the headers,
      followed by a blank line, and then followed by the body of the article.
      Each element in the list is one line of the article.</dd>
  <dt><i>nntpName</i> <b>authinfo</b> ?<i>user</i>? ?<i>pass</i>?</dt>
  <dd>Send authentication information (username and password) to the
    server.</dd>
  <dt><i>nntpName</i> <b>body</b> ?<i>msgid</i>?</dt>
  <dd>Query the server for the body of the article <i>msgid</i> from the current
      group. The body of the article is returned as a valid tcl list. Each
      element in the list is one line of the body of the article.</dd>
  <dt><i>nntpName</i> <b>configure</b></dt>
  <dd></dd>
  <dt><i>nntpName</i> <b>configure</b> <i>option</i></dt>
  <dd></dd>
  <dt><i>nntpName</i> <b>configure</b> <i>option</i> <i>value</i> ...</dt>
  <dd></dd>
  <dt><i>nntpName</i> <b>cget</b> <i>option</i></dt>
  <dd>Query and configure options of the nntp connection object. Currently only
      one option is supported, <b>-binary</b>. When set articles are retrieved
      as binary data instead of text. The only methods affected by this are
      <b>article</b> and <b>body</b>.
    <p class="Pp">One application of this option would be the download of
        articles containing yEnc encoded images. Although encoded the data is
        still mostly binary and retrieving it as text will corrupt the
        information.</p>
    <p class="Pp">See package <b>yencode</b> for both encoder and decoder of
        such data.</p>
  </dd>
  <dt><i>nntpName</i> <b>date</b></dt>
  <dd>Query the server for the servers current date. The date is returned in the
      format <i>YYYYMMDDHHMMSS</i>.</dd>
  <dt><i>nntpName</i> <b>group</b> ?<i>group</i>?</dt>
  <dd>Optionally set the current group, and retrieve information about the
      currently selected group. Returns the estimated number of articles in the
      group followed by the number of the first article in the group, followed
      by the last article in the group, followed by the name of the group.</dd>
  <dt><i>nntpName</i> <b>head</b> ?<i>msgid</i>?</dt>
  <dd>Query the server for the headers of the article <i>msgid</i> from the
      current group. The headers of the article are returned as a valid tcl
      list. Each element in the list is one line of the headers of the
    article.</dd>
  <dt><i>nntpName</i> <b>help</b></dt>
  <dd>Retrieves a list of the commands that are supported by the news server
      that is currently attached to.</dd>
  <dt><i>nntpName</i> <b>last</b></dt>
  <dd>Sets the current article pointer to point to the previous message (if
      there is one) and returns the msgid of that message.</dd>
  <dt><i>nntpName</i> <b>list</b></dt>
  <dd>Returns a tcl list of valid newsgroups and associated information. Each
      newsgroup is returned as an element in the tcl list with the following
      format:
    <pre>
      group last first p
    </pre>
    where &lt;group&gt; is the name of the newsgroup, &lt;last&gt; is the number
      of the last known article currently in that newsgroup, &lt;first&gt; is
      the number of the first article currently in the newsgroup, and &lt;p&gt;
      is either 'y' or 'n' indicating whether posting to this newsgroup is
      allowed ('y') or prohibited ('n').
    <p class="Pp">The &lt;first&gt; and &lt;last&gt; fields will always be
        numeric. They may have leading zeros. If the &lt;last&gt; field
        evaluates to less than the &lt;first&gt; field, there are no articles
        currently on file in the newsgroup.</p>
  </dd>
  <dt><i>nntpName</i> <b>listgroup</b> ?<i>group</i>?</dt>
  <dd>Query the server for a list of all the messages (message numbers) in the
      group specified by the argument <i>group</i> or by the current group if
      the <i>group</i> argument was not passed.</dd>
  <dt><i>nntpName</i> <b>mode_reader</b></dt>
  <dd>Query the server for its nntp 'MODE READER' response string.</dd>
  <dt><i>nntpName</i> <b>newgroups</b> <i>since</i></dt>
  <dd>Query the server for a list of all the new newsgroups created since the
      time specified by the argument <i>since</i>. The argument <i>since</i> can
      be any time string that is understood by <b>clock scan</b>. The tcl list
      of newsgroups is returned in a similar form to the list of groups returned
      by the <b>nntpName list</b> command. Each element of the list has the
      form:
    <pre>
      group last first p
    </pre>
    where &lt;group&gt; is the name of the newsgroup, &lt;last&gt; is the number
      of the last known article currently in that newsgroup, &lt;first&gt; is
      the number of the first article currently in the newsgroup, and &lt;p&gt;
      is either 'y' or 'n' indicating whether posting to this newsgroup is
      allowed ('y') or prohibited ('n').</dd>
  <dt><i>nntpName</i> <b>newnews</b></dt>
  <dd>Query the server for a list of new articles posted to the current group in
      the last day.</dd>
  <dt><i>nntpName</i> <b>newnews</b> <i>since</i></dt>
  <dd>Query the server for a list of new articles posted to the current group
      since the time specified by the argument <i>since</i>. The argument
      <i>since</i> can be any time string that is understood by <b>clock
      scan</b>.</dd>
  <dt><i>nntpName</i> <b>newnews</b> <i>group</i> ?<i>since</i>?</dt>
  <dd>Query the server for a list of new articles posted to the group specified
      by the argument <i>group</i> since the time specified by the argument
      <i>since</i> (or in the past day if no <i>since</i> argument is passed.
      The argument <i>since</i> can be any time string that is understood by
      <b>clock scan</b>.</dd>
  <dt><i>nntpName</i> <b>next</b></dt>
  <dd>Sets the current article pointer to point to the next message (if there is
      one) and returns the msgid of that message.</dd>
  <dt><i>nntpName</i> <b>post</b> <i>article</i></dt>
  <dd>Posts an article of the form specified in RFC 1036
      (<i>http://www.rfc-editor.org/rfc/rfc1036.txt</i>, successor to RFC 850)
      to the current news group.</dd>
  <dt><i>nntpName</i> <b>slave</b></dt>
  <dd>Identifies a connection as being made from a slave nntp server. This might
      be used to indicate that the connection is serving multiple people and
      should be given priority. Actual use is entirely implementation dependent
      and may vary from server to server.</dd>
  <dt><i>nntpName</i> <b>stat</b> ?<i>msgid</i>?</dt>
  <dd>The stat command is similar to the article command except that no text is
      returned. When selecting by message number within a group, the stat
      command serves to set the current article pointer without sending text.
      The returned acknowledgment response will contain the message-id, which
      may be of some value. Using the stat command to select by message-id is
      valid but of questionable value, since a selection by message-id does NOT
      alter the &quot;current article pointer&quot;</dd>
  <dt><i>nntpName</i> <b>quit</b></dt>
  <dd>Gracefully close the connection after sending a NNTP QUIT command down the
      socket.</dd>
  <dt><i>nntpName</i> <b>xgtitle</b> ?<i>group_pattern</i>?</dt>
  <dd>Returns a tcl list where each element is of the form:
    <pre>
newsgroup description
    </pre>
    If a <i>group_pattern</i> is specified then only newsgroups that match the
      pattern will have their name and description returned.</dd>
  <dt><i>nntpName</i> <b>xhdr</b> <i>field</i> ?<i>range</i>?</dt>
  <dd>Returns the specified header field value for the current message or for a
      list of messages from the current group. <i>field</i> is the title of a
      field in the header such as from, subject, date, etc. If <i>range</i> is
      not specified or is &quot;&quot; then the current message is queried. The
      command returns a list of elements where each element has the form of:
    <pre>
    msgid value
    </pre>
    Where msgid is the number of the message and value is the value set for the
      queried field. The <i>range</i> argument can be in any of the following
      forms:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt><b>&quot;&quot;</b></dt>
  <dd>The current message is queried.</dd>
  <dt><i>msgid1</i>-<i>msgid2</i></dt>
  <dd>All messages between <i>msgid1</i> and <i>msgid2</i> (including
      <i>msgid1</i> and <i>msgid2</i>) are queried.</dd>
  <dt><i>msgid1</i> <i>msgid2</i></dt>
  <dd>All messages between <i>msgid1</i> and <i>msgid2</i> (including
      <i>msgid1</i> and <i>msgid2</i>) are queried.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt><i>nntpName</i> <b>xover</b> ?<i>range</i>?</dt>
  <dd>Returns header information for the current message or for a range of
      messages from the current group. The information is returned in a tcl list
      where each element is of the form:
    <pre>
    msgid subject from date idstring bodysize headersize xref
    </pre>
    If <i>range</i> is not specified or is &quot;&quot; then the current message
      is queried. The <i>range</i> argument can be in any of the following
      forms:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt><b>&quot;&quot;</b></dt>
  <dd>The current message is queried.</dd>
  <dt><i>msgid1</i>-<i>msgid2</i></dt>
  <dd>All messages between <i>msgid1</i> and <i>msgid2</i> (including
      <i>msgid1</i> and <i>msgid2</i>) are queried.</dd>
  <dt><i>msgid1</i> <i>msgid2</i></dt>
  <dd>All messages between <i>msgid1</i> and <i>msgid2</i> (including
      <i>msgid1</i> and <i>msgid2</i>) are queried.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt><i>nntpName</i> <b>xpat</b> <i>field</i> <i>range</i>
    ?<i>pattern_list</i>?</dt>
  <dd>Returns the specified header field value for a specified message or for a
      list of messages from the current group where the messages match the
      pattern(s) given in the pattern_list. <i>field</i> is the title of a field
      in the header such as from, subject, date, etc. The information is
      returned in a tcl list where each element is of the form:
    <pre>
    msgid value
    </pre>
    Where msgid is the number of the message and value is the value set for the
      queried field. The <i>range</i> argument can be in any of the following
      forms:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt><i>msgid</i></dt>
  <dd>The message specified by <i>msgid</i> is queried.</dd>
  <dt><i>msgid1</i>-<i>msgid2</i></dt>
  <dd>All messages between <i>msgid1</i> and <i>msgid2</i> (including
      <i>msgid1</i> and <i>msgid2</i>) are queried.</dd>
  <dt><i>msgid1</i> <i>msgid2</i></dt>
  <dd>All messages between <i>msgid1</i> and <i>msgid2</i> (including
      <i>msgid1</i> and <i>msgid2</i>) are queried.</dd>
</dl>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
A bigger example for posting a single article.
<p class="Pp"></p>
<pre>
    package require nntp
    set n [nntp::nntp NNTP_SERVER]
    $n post &quot;From: USER@DOMAIN.EXT (USER_FULL)
    Path: COMPUTERNAME!USERNAME
    Newsgroups: alt.test
    Subject: Tcl test post -ignore
    Message-ID: &lt;[pid][clock seconds]
    @COMPUTERNAME&gt;
    Date: [clock format [clock seconds] -format &quot;%a, %d %
    b %y %H:%M:%S GMT&quot; -gmt true]
    Test message body&quot;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS,_IDEAS,_FEEDBACK"><a class="permalink" href="#BUGS,_IDEAS,_FEEDBACK">BUGS,
  IDEAS, FEEDBACK</a></h1>
This document, and the package it describes, will undoubtedly contain bugs and
  other problems. Please report such in the category <i>nntp</i> of the
  <i>Tcllib SF Trackers</i> [http://sourceforge.net/tracker/?group_id=12883].
  Please also report any ideas for enhancements you may have for either package
  and/or documentation.
</section>
<section class="Sh">
<h1 class="Sh" id="KEYWORDS"><a class="permalink" href="#KEYWORDS">KEYWORDS</a></h1>
news, nntp, nntpclient, rfc 1036, rfc 977
</section>
<section class="Sh">
<h1 class="Sh" id="CATEGORY"><a class="permalink" href="#CATEGORY">CATEGORY</a></h1>
Networking
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">1.5.1</td>
    <td class="foot-os">nntp</td>
  </tr>
</table>
</body>
</html>
