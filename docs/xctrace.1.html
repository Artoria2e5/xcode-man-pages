<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 2020 Apple Inc. All rights reserved.
   DATE
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>xctrace(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">xctrace(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">xctrace(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">xctrace</code> &#x2014;
<div class="Nd">Record, import and export Instruments .trace files.</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td>[<var class="Ar">command</var> [<var class="Ar">options</var>]]</td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">help</code> [<var class="Ar">command</var>]</td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">record</code> [<code class="Fl">--output</code>
      <var class="Ar">path</var>] [<code class="Fl">--append-run</code>]
      [<code class="Fl">--template</code> <var class="Ar">path</var> |
      <var class="Ar">name</var>] [<code class="Fl">--device</code>
      <var class="Ar">name</var> | <var class="Ar">UDID</var>]
      [<code class="Fl">--time-limit</code> <var class="Ar">time</var>
      [ms|s|m|h]] [<code class="Fl">--all-processes</code> |
      <code class="Fl">--attach</code> <var class="Ar">pid</var> |
      <var class="Ar">name</var> | <code class="Fl">--launch</code>
      <var class="Ar">command</var> [<var class="Ar">arguments</var>]]
      [<code class="Fl">--target-stdin</code> <var class="Ar">-</var> |
      <var class="Ar">file</var>] [<code class="Fl">--target-stdout</code>
      <var class="Ar">-</var> | <var class="Ar">file</var>]
      [<code class="Fl">--env</code> <var class="Ar">VAR=value</var>]
      [<code class="Fl">--package</code> <var class="Ar">file</var>]
    <p class="Pp"></p>
    </td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">import</code> [<code class="Fl">--input</code>
      <var class="Ar">file</var>] [<code class="Fl">--output</code>
      <var class="Ar">path</var>] [<code class="Fl">--template</code>
      <var class="Ar">path</var> | <var class="Ar">name</var>]
      [<code class="Fl">--package</code> <var class="Ar">file</var>]</td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">export</code> [<code class="Fl">--input</code>
      <var class="Ar">file</var>] [<code class="Fl">--output</code>
      <var class="Ar">path</var>] [<code class="Fl">--toc</code> |
      <code class="Fl">--xpath</code> <var class="Ar">expression</var>]</td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">remodel</code> [<code class="Fl">--input</code>
      <var class="Ar">file</var>] [<code class="Fl">--output</code>
      <var class="Ar">path</var>] [<code class="Fl">--package</code>
      <var class="Ar">file</var>]</td>
  </tr>
</table>
<p class="Pp"></p>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">xctrace</code></td>
    <td><code class="Cm">list</code> [<var class="Ar">devices</var> |
      <var class="Ar">templates</var>]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<code class="Nm">xctrace</code> is used to record new Instruments.app .trace
  files using the specified recording template. It also allows for converting
  supported converting files of supported input types into .trace files and
  exporting data from .trace files to parseable formats like xml.
<p class="Pp">Available commands and their options:</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#help"><code class="Cm" id="help">help</code></a></dt>
  <dd>General help or help specific to command argument</dd>
  <dt><a class="permalink" href="#record"><code class="Cm" id="record">record</code></a></dt>
  <dd>Perform a new recording on the specified device and target with the given
      template. Resulting .trace file can be viewed in Instruments.app or
      exported using <code class="Nm">xctrace</code>. Recording can target all
      processes, attach to an existing process or launch a new one.
    <dl class="Bl-tag">
      <dt><a class="permalink" href="#-output"><code class="Fl" id="-output">--output</code></a>
        <var class="Ar">path</var></dt>
      <dd>Save the trace to the specified path. A path to an existing trace file
          can be used if <code class="Fl">--append-run</code> is specified. In
          this case the provided template will be ignored and the template in
          the existing trace will be used. If the passed path is a directory, a
          uniquely named file will be created in it. If the path contains the
          extension .trace, a new trace will be created with that name at the
          specified path or working directory.</dd>
      <dt><a class="permalink" href="#-append-run"><code class="Fl" id="-append-run">--append-run</code></a></dt>
      <dd>Allows to target an existing trace file. Specifying it causes new run
          to be appended. New run is recorded with the template that this
          existing trace file was initially recorded with.</dd>
      <dt><a class="permalink" href="#-template"><code class="Fl" id="-template">--template</code></a>
        <var class="Ar">path</var> | <var class="Ar">name</var></dt>
      <dd>Records using given trace template name or path. If name is specified,
          template needs to be either bundled with an installed Instruments
          Package or located in the Application Support directory for
          Instruments. To retrieve available templates, run
          <code class="Nm">xctrace</code> <code class="Cm">list
          templates.</code></dd>
      <dt><a class="permalink" href="#-device"><code class="Fl" id="-device">--device</code></a>
        <var class="Ar">name</var> | <var class="Ar">UDID</var></dt>
      <dd>Record on a device with the given name or UDID. If not specified, then
          local device is chosen for the recording. If the word
          <code class="Cm">simulator</code> is included, devices of simulator
          types will be preferred. To get list of available devices, run
          <code class="Nm">xctrace</code> <code class="Cm">list
        devices.</code></dd>
      <dt><a class="permalink" href="#-time-limit"><code class="Fl" id="-time-limit">--time-limit</code></a>
        <var class="Ar">time</var> [ms|s|m|h]</dt>
      <dd>Limits the recording to the specified time period. Example:
          &quot;--time-limit 5s&quot; or &quot;--time-limit 1m&quot;</dd>
      <dt><a class="permalink" href="#-window"><code class="Fl" id="-window">--window</code></a>
        <var class="Ar">duration</var> [ms|s|m]</dt>
      <dd>Configure trace to operate in windowed mode, where trace buffer acts
          as a ring buffer, removing old events to make room for new ones.
          Example: &quot;--keep-last 5s&quot;</dd>
      <dt><a class="permalink" href="#-all-processes"><code class="Fl" id="-all-processes">--all-processes</code></a></dt>
      <dd>Record all processes running on the system.</dd>
      <dt><a class="permalink" href="#-attach"><code class="Fl" id="-attach">--attach</code></a>
        <var class="Ar">pid</var> | <var class="Ar">name</var></dt>
      <dd>Attach and record running process with the given name or pid.</dd>
      <dt><a class="permalink" href="#-launch"><code class="Fl" id="-launch">--launch</code></a>
        <code class="Fl">--</code> <var class="Ar">command</var>
        [<var class="Ar">arguments</var>]</dt>
      <dd>Launch and record process with the given name or path and provided
          arguments list. This option should be passed as the last one in the
          <code class="Nm">xctrace</code> command invocation.</dd>
      <dt><a class="permalink" href="#-package"><code class="Fl" id="-package">--package</code></a>
        <var class="Ar">file</var></dt>
      <dd>Install the given Instruments Package temporarily for the duration of
          a command.</dd>
      <dt><a class="permalink" href="#-target-stdin"><code class="Fl" id="-target-stdin">--target-stdin</code></a>
        <var class="Ar">-</var> | <var class="Ar">file</var></dt>
      <dd>Redirects standard input stream of a launched process in case if
          target device is set to the local Mac. Can be pointing to a file or be
          specified as <var class="Ar">-</var> , which causes standard input of
          <code class="Nm">xctrace</code> to be passed into the standard input
          of a target process.</dd>
      <dt><a class="permalink" href="#-target-stdout"><code class="Fl" id="-target-stdout">--target-stdout</code></a>
        <var class="Ar">-</var> | <var class="Ar">file</var></dt>
      <dd>Redirects standard output stream of a launched process. Can be
          pointing to a file or be specified as <var class="Ar">-</var> , which
          causes standard output of a target process to be to be redirected into
          the standard output of <code class="Nm">xctrace</code>.</dd>
      <dt><a class="permalink" href="#-env"><code class="Fl" id="-env">--env</code></a>
        <var class="Ar">VAR=value</var></dt>
      <dd>Sets environment variable for a launched process. Example: &quot;--env
          PATH=/tmp&quot;</dd>
      <dt><a class="permalink" href="#-no-prompt"><code class="Fl" id="-no-prompt">--no-prompt</code></a></dt>
      <dd>Skip any prompts that would be otherwise presented (like privacy
          warnings)</dd>
    </dl>
    <p class="Pp"></p>
  </dd>
  <dt><a class="permalink" href="#import"><code class="Cm" id="import">import</code></a></dt>
  <dd>If the specified file is of a support input format, imports the file into
      an Instruments .trace file using the specified template. This file can
      later be viewed using Instruments.app or exported by using
      <code class="Nm">xctrace</code> <code class="Cm">export</code> command.
    <dl class="Bl-tag">
      <dt><a class="permalink" href="#-input"><code class="Fl" id="-input">--input</code></a>
        <var class="Ar">file</var></dt>
      <dd>Import data from a supported file format at the given path.</dd>
      <dt><a class="permalink" href="#-output_2"><code class="Fl" id="-output_2">--output</code></a>
        <var class="Ar">path</var></dt>
      <dd>Save the trace to the specified path. Existing trace files cannot be
          targeted. If the passed path is a directory, a uniquely named file
          will be created in it. If the path contains the extension .trace, a
          new trace will be created with that name at the specified path or
          working directory.</dd>
      <dt><a class="permalink" href="#-template_2"><code class="Fl" id="-template_2">--template</code></a>
        <var class="Ar">path</var> | <var class="Ar">name</var></dt>
      <dd>Imported using given trace template name or path. Only data that is
          needed by Instruments contained in the template will be imported. If
          name is specified, template needs to be either bundled with an
          installed Instruments Package or located in the Application Support
          directory for Instruments. To retrieve available templates, run
          <code class="Nm">xctrace</code> <code class="Cm">list
          templates.</code></dd>
      <dt><a class="permalink" href="#-package_2"><code class="Fl" id="-package_2">--package</code></a>
        <var class="Ar">file</var></dt>
      <dd>Install the given Instruments Package temporarily for the duration of
          a command.</dd>
    </dl>
    <p class="Pp"></p>
  </dd>
  <dt><a class="permalink" href="#export"><code class="Cm" id="export">export</code></a></dt>
  <dd>Perform a new recording on the specified device and target with the given
      template. Resulting .trace file can be viewed in Instruments.app or
      exported using <code class="Nm">xctrace</code>. Recording can target all
      processes, attach to an existing process or launch a new one.
    <dl class="Bl-tag">
      <dt><a class="permalink" href="#-input_2"><code class="Fl" id="-input_2">--input</code></a>
        <var class="Ar">file</var></dt>
      <dd>Export data from .trace file at the given path.</dd>
      <dt><a class="permalink" href="#-output_3"><code class="Fl" id="-output_3">--output</code></a>
        <var class="Ar">path</var></dt>
      <dd>Save output of the export operation to the given path. If not
          specified, then textual output is being written to the
          <code class="Nm">xctrace</code> standard output.</dd>
      <dt><a class="permalink" href="#-toc"><code class="Fl" id="-toc">--toc</code></a></dt>
      <dd>Export the table of contents of a trace file. This will contain
          overview of content and exportable entities from the given trace
        file.</dd>
      <dt><a class="permalink" href="#-xpath"><code class="Fl" id="-xpath">--xpath</code></a>
        <var class="Ar">expression</var></dt>
      <dd>Perform given XPath query on the table of contents to select entities
          to export from the given trace file. Selected entities will be present
          in the export command output.</dd>
    </dl>
    <p class="Pp"></p>
  </dd>
  <dt><a class="permalink" href="#remodel"><code class="Cm" id="remodel">remodel</code></a></dt>
  <dd>Remodel trace using currently installed packages and their modelers.
    <dl class="Bl-tag">
      <dt><a class="permalink" href="#-input_3"><code class="Fl" id="-input_3">--input</code></a>
        <var class="Ar">file</var></dt>
      <dd>Remodel data from .trace file at the given path.</dd>
      <dt><a class="permalink" href="#-output_4"><code class="Fl" id="-output_4">--output</code></a>
        <var class="Ar">path</var></dt>
      <dd>Save remodeled .trace file to the given path. .</dd>
      <dt><a class="permalink" href="#-package_3"><code class="Fl" id="-package_3">--package</code></a>
        <var class="Ar">file</var></dt>
      <dd>Install the given Instruments Package temporarily for the duration of
          a command.</dd>
    </dl>
    <p class="Pp"></p>
  </dd>
  <dt><a class="permalink" href="#list_devices"><code class="Cm" id="list_devices">list
    devices</code></a></dt>
  <dd>Lists all of non-host devices that can be used as a target for a new
      recording.</dd>
  <dt><a class="permalink" href="#list_templates"><code class="Cm" id="list_templates">list
    templates</code></a></dt>
  <dd>Lists all of templates that are known to These include Instruments.app
      bundled templates, templates from installed Instruments Packages and
      custom templates installed into Application Support directory for
      Instruments.app.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
Instruments.app may be used to perform trace recordings in a graphical
  environment and may also be used to open trace documents created by
  <code class="Nm">xctrace</code>.
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<code class="Nm">import --input system_logs.logarchive --template
  'Custom'</code>
<p class="Pp"><code class="Nm">import --input ktrace001.trace --template
    'Custom' --package '/tmp/PackageToLoad.instrdst' --output
    system.trace</code></p>
<p class="Pp"><code class="Nm">export --input input.trace --toc</code></p>
<p class="Pp"><code class="Nm">export --input input.trace --xpath
    '/trace-toc/run[@number=&quot;1&quot;]/data/table[@schema=&quot;my-table-schema&quot;]'</code></p>
<p class="Pp"><code class="Nm">record --template 'Time Profiler' --all-processes
    --time-limit 5s</code></p>
<p class="Pp"><code class="Nm">record --template 'Time Profiler' --device-name
    ''Chad's iPhone'' --attach 'Trailblazer'</code></p>
<p class="Pp"><code class="Nm">record --template 'Metal System Trace'
    --device-name 'iPhone SE Simulator' --all-processes</code></p>
<p class="Pp"><code class="Nm">record --template 'Time Profiler' --target-stdout
    - --launch -- /tmp/tool arg1 arg2</code></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">May. 4, 2020</td>
    <td class="foot-os">macOS</td>
  </tr>
</table>
</body>
</html>
