<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
  	$KAME: rtsold.8,v 1.16 2000/10/15 13:19:05 itojun Exp $
  
   Copyright (C) 1995, 1996, 1997, and 1998 WIDE Project.
   All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. Neither the name of the project nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE PROJECT AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE PROJECT OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
  	$FreeBSD: src/usr.sbin/rtsold/rtsold.8,v 1.1.2.5 2001/08/16 15:56:30 ru Exp $
   -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>RTSOLD(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">RTSOLD(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">RTSOLD(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">rtsold</code> &#x2014;
<div class="Nd">router solicitation daemon</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">rtsold</code></td>
    <td>[<code class="Fl">-dDfm1</code>] <var class="Ar">interface
      ...</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">rtsold</code></td>
    <td>[<code class="Fl">-dDfm1</code>] <code class="Fl">-a</code></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">rtsol</code></td>
    <td>[<code class="Fl">-dD</code>] <var class="Ar">interface ...</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">rtsol</code></td>
    <td>[<code class="Fl">-dD</code>] <code class="Fl">-a</code></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<code class="Nm">rtsold</code> is the daemon program to send ICMPv6 Router
  Solicitation messages on the specified interfaces. If a node (re)attaches to a
  link, <code class="Nm">rtsold</code> sends some Router Solicitations on the
  link destined to the link-local scope all-routers multicast address to
  discover new routers and to get non link-local addresses.
<p class="Pp"><code class="Nm">rtsold</code> should be used on IPv6 hosts
    (non-router nodes) only.</p>
<p class="Pp">If you invoke the program as <code class="Nm">rtsol</code>, it
    will transmit probes from the specified <var class="Ar">interface</var>,
    without becoming a daemon. In other words, <code class="Nm">rtsol</code>
    behaves as &#x201C;<code class="Nm">rtsold</code>
    <code class="Fl">-f1</code> <var class="Ar">interfaces</var>&#x201D;.</p>
<p class="Pp">Specifically, <code class="Nm">rtsold</code> sends at most 3
    Router Solicitations on an interface after one of the following events:</p>
<p class="Pp"></p>
<ul class="Bl-bullet Bl-compact">
  <li>Just after invocation of <code class="Nm">rtsold</code> daemon.</li>
  <li>The interface is up after a temporary interface failure.
      <code class="Nm">rtsold</code> detects such failures by periodically
      probing to see if the status of the interface is active or not. Note that
      some network cards and drivers do not allow the extraction of link state.
      In such cases, <code class="Nm">rtsold</code> cannot detect the change of
      the interface status.</li>
  <li>Every 60 seconds if the <code class="Fl">-m</code> option is specified and
      the <code class="Nm">rtsold</code> daemon cannot get the interface status.
      This feature does not conform to the IPv6 neighbor discovery
      specification, but is provided for mobile stations. The default interval
      for router advertisements, which is on the order of 10 minutes, is
      slightly long for mobile stations. This feature is provided for such
      stations so that they can find new routers as soon as possible when they
      attach to another link.</li>
</ul>
<p class="Pp">Once <code class="Nm">rtsold</code> has sent a Router
    Solicitation, and has received a valid Router Advertisement, it refrains
    from sending additional solicitations on that interface, until the next time
    one of the above events occurs.</p>
<p class="Pp">When sending a Router Solicitation on an interface,
    <code class="Nm">rtsold</code> includes a Source Link-layer address option
    if the interface has a link-layer address.</p>
<p class="Pp">Upon receipt of signal <code class="Dv">SIGUSR1</code>,
    <code class="Nm">rtsold</code> will dump the current internal state into
    <span class="Pa">/var/run/rtsold.dump</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#a"><code class="Fl" id="a">-a</code></a></dt>
  <dd>Autoprobe outgoing interface. <code class="Nm">rtsold</code> will try to
      find a non-loopback, non-point-to-point, IPv6-capable interface. If
      <code class="Nm">rtsold</code> finds multiple interfaces,
      <code class="Nm">rtsold</code> will exit with error.</dd>
  <dt><a class="permalink" href="#d"><code class="Fl" id="d">-d</code></a></dt>
  <dd>Enable debugging.</dd>
  <dt><a class="permalink" href="#D"><code class="Fl" id="D">-D</code></a></dt>
  <dd>Enable more debugging including the printing of internal timer
      information.</dd>
  <dt><a class="permalink" href="#f"><code class="Fl" id="f">-f</code></a></dt>
  <dd><a class="permalink" href="#f_2"><code class="Fl" id="f_2">-f</code></a>
      prevents <code class="Nm">rtsold</code> from becoming a daemon (foreground
      mode). Warning messages are generated to standard error instead of
      <a class="Xr">syslog(3)</a>.</dd>
  <dt><a class="permalink" href="#m"><code class="Fl" id="m">-m</code></a></dt>
  <dd>Enable mobility support. If this option is specified,
      <code class="Nm">rtsold</code> sends probing packets to default routers
      that have advertised Router Advertisements when the node (re)attaches to
      an interface. Moreover, if the option is specified,
      <code class="Nm">rtsold</code> periodically sends Router Solicitation on
      an interface that does not support <code class="Dv">SIOCGIFMEDIA</code>
      ioctl.</dd>
  <dt><a class="permalink" href="#1"><code class="Fl" id="1">-1</code></a></dt>
  <dd>Perform only one probe. Transmit Router Solicitation packets until at
      least one valid Router Advertisement packet has arrived on each
      <var class="Ar">interface</var>, then exit.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="DIAGNOSTICS"><a class="permalink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
The <code class="Nm">rtsold</code> utility exits&#x00A0;0 on success,
  and&#x00A0;&gt;0 if an error occurs.
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag Bl-compact">
  <dt><span class="Pa">/var/run/rtsold.pid</span></dt>
  <dd>the pid of the currently running <code class="Nm">rtsold</code>.</dd>
  <dt><span class="Pa">/var/run/rtsold.dump</span></dt>
  <dd>dumps internal state on.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr">rtadvd(8)</a>, <a class="Xr">sysctl(8)</a>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
The <code class="Nm">rtsold</code> command is based on the
  <code class="Nm">rtsol</code> command, which first appeared in WIDE/KAME IPv6
  protocol stack kit. <code class="Nm">rtsol</code> is now integrated into
  <a class="Xr">rtsold(8)</a>.
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
In some operating systems, when a PCMCIA network card is removed and reinserted,
  the corresponding interface index is changed. However,
  <code class="Nm">rtsold</code> assumes such changes will not occur, and always
  uses the index that it got at invocation. As a result,
  <code class="Nm">rtsold</code> may not work if you reinsert a network card. In
  such a case, <code class="Nm">rtsold</code> should be killed and restarted.
<p class="Pp">The IPv6 autoconfiguration specification assumes a
    single-interface host. You may see kernel error messages if you try to
    autoconfigure a host with multiple interfaces. Also, it seems contradictory
    for <code class="Nm">rtsold</code> to accept multiple
    <var class="Ar">interface</var> arguments.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 17, 1998</td>
    <td class="foot-os">Mac OS X 10.15</td>
  </tr>
</table>
</body>
</html>
