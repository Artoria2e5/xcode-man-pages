<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Test::Harness(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Test::Harness(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">Test::Harness(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Test::Harness - Run Perl standard test scripts with statistics
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
Version 3.42
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use Test::Harness;

  runtests(@test_files);
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Although, for historical reasons, the Test::Harness distribution takes its name
  from this module it now exists only to provide TAP::Harness with an interface
  that is somewhat backwards compatible with Test::Harness 2.xx. If you're
  writing new code consider using TAP::Harness directly instead.
<p class="Pp">Emulation is provided for
    <span class="Li">&quot;runtests&quot;</span> and
    <span class="Li">&quot;execute_tests&quot;</span> but the pluggable 'Straps'
    interface that previous versions of Test::Harness supported is not
    reproduced here. Straps is now available as a stand alone module:
    Test::Harness::Straps.</p>
<p class="Pp">See TAP::Parser, TAP::Harness for the main documentation for this
    distribution.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTIONS"><a class="permalink" href="#FUNCTIONS">FUNCTIONS</a></h1>
The following functions are available.
<section class="Ss">
<h2 class="Ss" id="runtests(_@test_files_)"><a class="permalink" href="#runtests(_@test_files_)">runtests(
  @test_files )</a></h2>
This runs all the given <i></i><i>@test_files</i><i></i> and divines whether
  they passed or failed based on their output to STDOUT (details above). It
  prints out each individual test which failed along with a summary report and a
  how long it all took.
<p class="Pp">It returns true if everything was ok. Otherwise it will
    <span class="Li">&quot;die()&quot;</span> with one of the messages in the
    DIAGNOSTICS section.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="execute_tests(_tests_=___e@test_files,_out_=___e*FH_)"><a class="permalink" href="#execute_tests(_tests_=___e@test_files,_out_=___e*FH_)">execute_tests(
  tests =&gt; \@test_files, out =&gt; \*FH )</a></h2>
Runs all the given <span class="Li">@test_files</span> (just like
  <span class="Li">&quot;runtests()&quot;</span>) but doesn't generate the final
  report. During testing, progress information will be written to the currently
  selected output filehandle (usually
  <span class="Li">&quot;STDOUT&quot;</span>), or to the filehandle given by the
  <span class="Li">&quot;out&quot;</span> parameter. The <i>out</i> is optional.
<p class="Pp">Returns a list of two values, <span class="Li">$total</span> and
    <span class="Li">$failed</span>, describing the results.
    <span class="Li">$total</span> is a hash ref summary of all the tests run.
    Its keys and values are this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    bonus           Number of individual todo tests unexpectedly passed
    max             Number of individual tests ran
    ok              Number of individual tests passed
    sub_skipped     Number of individual tests skipped
    todo            Number of individual todo tests

    files           Number of test files ran
    good            Number of test files passed
    bad             Number of test files failed
    tests           Number of test files originally given
    skipped         Number of test files skipped
</pre>
<p class="Pp">If <span class="Li">&quot;$total-&gt;{bad} == 0&quot;</span> and
    <span class="Li">&quot;$total-&gt;{max} &gt; 0&quot;</span>, you've got a
    successful test.</p>
<p class="Pp"><span class="Li">$failed</span> is a hash ref of all the test
    scripts that failed. Each key is the name of a test script, each value is
    another hash representing how that script failed. Its keys are these:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    name        Name of the test which failed
    estat       Script's exit value
    wstat       Script's wait status
    max         Number of individual tests
    failed      Number which failed
    canon       List of tests which failed (as string).
</pre>
<p class="Pp"><span class="Li">$failed</span> should be empty if everything
    passed.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="EXPORT"><a class="permalink" href="#EXPORT">EXPORT</a></h1>
<span class="Li">&amp;runtests</span> is exported by
  <span class="Li">&quot;Test::Harness&quot;</span> by default.
<p class="Pp"><span class="Li">&amp;execute_tests</span>,
    <span class="Li">$verbose</span>, <span class="Li">$switches</span> and
    <span class="Li">$debug</span> are exported upon request.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT_VARIABLES_THAT_TAP::HARNESS::COMPATIBLE_SETS"><a class="permalink" href="#ENVIRONMENT_VARIABLES_THAT_TAP::HARNESS::COMPATIBLE_SETS">ENVIRONMENT
  VARIABLES THAT TAP::HARNESS::COMPATIBLE SETS</a></h1>
<span class="Li">&quot;Test::Harness&quot;</span> sets these before executing
  the individual tests.
<dl class="Bl-tag">
  <dt>&quot;HARNESS_ACTIVE&quot;</dt>
  <dd>This is set to a true value. It allows the tests to determine if they are
      being executed through the harness or by any other means.</dd>
  <dt>&quot;HARNESS_VERSION&quot;</dt>
  <dd>This is the version of
    <span class="Li">&quot;Test::Harness&quot;</span>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT_VARIABLES_THAT_AFFECT_TEST::HARNESS"><a class="permalink" href="#ENVIRONMENT_VARIABLES_THAT_AFFECT_TEST::HARNESS">ENVIRONMENT
  VARIABLES THAT AFFECT TEST::HARNESS</a></h1>
<dl class="Bl-tag">
  <dt>&quot;HARNESS_PERL_SWITCHES&quot;</dt>
  <dd>Setting this adds perl command line switches to each test file run.
    <p class="Pp">For example,
        <span class="Li">&quot;HARNESS_PERL_SWITCHES=-T&quot;</span> will turn
        on taint mode.
        <span class="Li">&quot;HARNESS_PERL_SWITCHES=-MDevel::Cover&quot;</span>
        will run <span class="Li">&quot;Devel::Cover&quot;</span> for each
      test.</p>
    <p class="Pp"><span class="Li">&quot;-w&quot;</span> is always set. You can
        turn this off in the test with <span class="Li">&quot;BEGIN {</span>
        <span class="Li">$^W = 0 }&quot;</span>.</p>
  </dd>
  <dt>&quot;HARNESS_TIMER&quot;</dt>
  <dd>Setting this to true will make the harness display the number of
      milliseconds each test took. You can also use <i>prove</i>'s
      <span class="Li">&quot;--timer&quot;</span> switch.</dd>
  <dt>&quot;HARNESS_VERBOSE&quot;</dt>
  <dd>If true, <span class="Li">&quot;Test::Harness&quot;</span> will output the
      verbose results of running its tests. Setting
      <span class="Li">$Test::Harness::verbose</span> will override this, or you
      can use the <span class="Li">&quot;-v&quot;</span> switch in the
      <i>prove</i> utility.</dd>
  <dt>&quot;HARNESS_OPTIONS&quot;</dt>
  <dd>Provide additional options to the harness. Currently supported options
      are:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>&quot;j&lt;n&gt;&quot;</dt>
  <dd>Run &lt;n&gt; (default 9) parallel jobs.</dd>
  <dt>&quot;c&quot;</dt>
  <dd>Try to color output. See &quot;new&quot; in TAP::Formatter::Base.</dd>
  <dt>&quot;a&lt;file.tgz&gt;&quot;</dt>
  <dd>Will use TAP::Harness::Archive as the harness class, and save the TAP to
      <span class="Li">&quot;file.tgz&quot;</span></dd>
  <dt>&quot;fPackage-With-Dashes&quot;</dt>
  <dd>Set the formatter_class of the harness being run. Since the
      <span class="Li">&quot;HARNESS_OPTIONS&quot;</span> is seperated by
      <span class="Li">&quot;:&quot;</span>, we use
      <span class="Li">&quot;-&quot;</span> instead.</dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp">Multiple options may be separated by colons:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    HARNESS_OPTIONS=j9:c make test
</pre>
</div>
<dl class="Bl-tag">
  <dt>&quot;HARNESS_SUBCLASS&quot;</dt>
  <dd>Specifies a TAP::Harness subclass to be used in place of
    TAP::Harness.</dd>
  <dt>&quot;HARNESS_SUMMARY_COLOR_SUCCESS&quot;</dt>
  <dd>Determines the Term::ANSIColor for the summary in case it is successful.
      This color defaults to <span class="Li">'green'</span>.</dd>
  <dt>&quot;HARNESS_SUMMARY_COLOR_FAIL&quot;</dt>
  <dd>Determines the Term::ANSIColor for the failure in case it is successful.
      This color defaults to <span class="Li">'red'</span>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Taint_Mode"><a class="permalink" href="#Taint_Mode">Taint
  Mode</a></h1>
Normally when a Perl program is run in taint mode the contents of the
  <span class="Li">&quot;PERL5LIB&quot;</span> environment variable do not
  appear in <span class="Li">@INC</span>.
<p class="Pp">Because <span class="Li">&quot;PERL5LIB&quot;</span> is often used
    during testing to add build directories to <span class="Li">@INC</span>
    <span class="Li">&quot;Test::Harness&quot;</span> passes the names of any
    directories found in <span class="Li">&quot;PERL5LIB&quot;</span> as -I
    switches. The net effect of this is that
    <span class="Li">&quot;PERL5LIB&quot;</span> is honoured even in taint
  mode.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
TAP::Harness
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
Please report any bugs or feature requests to
  <span class="Li">&quot;bug-test-harness at rt.cpan.org&quot;</span>, or
  through the web interface at
  &lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Test-Harness&gt;. I will be
  notified, and then you'll automatically be notified of progress on your bug as
  I make changes.
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
Andy Armstrong <span class="Li">&quot;&lt;andy@hexten.net&gt;&quot;</span>
<p class="Pp">Test::Harness 2.64 (maintained by Andy Lester and on which this
    module is based) has this attribution:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    Either Tim Bunce or Andreas Koenig, we don't know. What we know for
    sure is, that it was inspired by Larry Wall's F&lt;TEST&gt; script that came
    with perl distributions for ages. Numerous anonymous contributors
    exist.  Andreas Koenig held the torch for many years, and then
    Michael G Schwern.
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENCE_AND_COPYRIGHT"><a class="permalink" href="#LICENCE_AND_COPYRIGHT">LICENCE
  AND COPYRIGHT</a></h1>
Copyright (c) 2007-2011, Andy Armstrong
  <span class="Li">&quot;&lt;andy@hexten.net&gt;&quot;</span>. All rights
  reserved.
<p class="Pp">This module is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself. See perlartistic.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-24</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
