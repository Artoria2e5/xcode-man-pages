<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Moose::Meta::Attribute::Native(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Moose::Meta::Attribute::Native(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Moose::Meta::Attribute::Native(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Moose::Meta::Attribute::Native - Delegate to native Perl types
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
version 2.1202
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  package MyClass;
  use Moose;

  has 'mapping' =&gt; (
      traits  =&gt; ['Hash'],
      is      =&gt; 'rw',
      isa     =&gt; 'HashRef[Str]',
      default =&gt; sub { {} },
      handles =&gt; {
          exists_in_mapping =&gt; 'exists',
          ids_in_mapping    =&gt; 'keys',
          get_mapping       =&gt; 'get',
          set_mapping       =&gt; 'set',
          set_quantity      =&gt; [ set =&gt; 'quantity' ],
      },
  );

  my $obj = MyClass-&gt;new;
  $obj-&gt;set_quantity(10);      # quantity =&gt; 10
  $obj-&gt;set_mapping('foo', 4); # foo =&gt; 4
  $obj-&gt;set_mapping('bar', 5); # bar =&gt; 5
  $obj-&gt;set_mapping('baz', 6); # baz =&gt; 6

  # prints 5
  print $obj-&gt;get_mapping('bar') if $obj-&gt;exists_in_mapping('bar');

  # prints 'quantity, foo, bar, baz'
  print join ', ', $obj-&gt;ids_in_mapping;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Native delegations allow you to delegate to native Perl data structures as if
  they were objects. For example, in the &quot;SYNOPSIS&quot; you can see a hash
  reference being treated as if it has methods named
  <span class="Li">&quot;exists()&quot;</span>,
  <span class="Li">&quot;keys()&quot;</span>,
  <span class="Li">&quot;get()&quot;</span>, and
  <span class="Li">&quot;set()&quot;</span>.
<p class="Pp">The delegation methods (mostly) map to Perl builtins and
    operators. The return values of these delegations should be the same as the
    corresponding Perl operation. Any deviations will be explicitly
  documented.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="API"><a class="permalink" href="#API">API</a></h1>
Native delegations are enabled by passing certain options to
  <span class="Li">&quot;has&quot;</span> when creating an attribute.
<section class="Ss">
<h2 class="Ss" id="traits"><a class="permalink" href="#traits">traits</a></h2>
To enable this feature, pass the appropriate name in the
  <span class="Li">&quot;traits&quot;</span> array reference for the attribute.
  For example, to enable this feature for hash reference, we include
  <span class="Li">'Hash'</span> in the list of traits.
</section>
<section class="Ss">
<h2 class="Ss" id="isa"><a class="permalink" href="#isa">isa</a></h2>
You will need to make sure that the attribute has an appropriate type. For
  example, to use this with a Hash you must specify that your attribute is some
  sort of <span class="Li">&quot;HashRef&quot;</span>.
</section>
<section class="Ss">
<h2 class="Ss" id="handles"><a class="permalink" href="#handles">handles</a></h2>
This is just like any other delegation, but only a hash reference is allowed
  when defining native delegations. The keys are the methods to be created in
  the class which contains the attribute. The values are the methods provided by
  the associated trait. Currying works the same way as it does with any other
  delegation.
<p class="Pp">See the docs for each native trait for details on what methods are
    available.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="TRAITS_FOR_NATIVE_DELEGATIONS"><a class="permalink" href="#TRAITS_FOR_NATIVE_DELEGATIONS">TRAITS
  FOR NATIVE DELEGATIONS</a></h1>
Below are some simple examples of each native trait. More features are available
  than what is shown here; this is just a quick synopsis.
<dl class="Bl-tag">
  <dt>Array (Moose::Meta::Attribute::Native::Trait::Array)</dt>
  <dd><span class="Li"></span>
    <pre>
    has 'queue' =&gt; (
        traits  =&gt; ['Array'],
        is      =&gt; 'ro',
        isa     =&gt; 'ArrayRef[Str]',
        default =&gt; sub { [] },
        handles =&gt; {
            add_item  =&gt; 'push',
            next_item =&gt; 'shift',
            # ...
        }
    );
    </pre>
  </dd>
  <dt>Bool (Moose::Meta::Attribute::Native::Trait::Bool)</dt>
  <dd><span class="Li"></span>
    <pre>
    has 'is_lit' =&gt; (
        traits  =&gt; ['Bool'],
        is      =&gt; 'ro',
        isa     =&gt; 'Bool',
        default =&gt; 0,
        handles =&gt; {
            illuminate  =&gt; 'set',
            darken      =&gt; 'unset',
            flip_switch =&gt; 'toggle',
            is_dark     =&gt; 'not',
            # ...
        }
    );
    </pre>
  </dd>
  <dt>Code (Moose::Meta::Attribute::Native::Trait::Code)</dt>
  <dd><span class="Li"></span>
    <pre>
    has 'callback' =&gt; (
        traits  =&gt; ['Code'],
        is      =&gt; 'ro',
        isa     =&gt; 'CodeRef',
        default =&gt; sub {
            sub {'called'}
        },
        handles =&gt; {
            call =&gt; 'execute',
            # ...
        }
    );
    </pre>
  </dd>
  <dt>Counter (Moose::Meta::Attribute::Native::Trait::Counter)</dt>
  <dd><span class="Li"></span>
    <pre>
    has 'counter' =&gt; (
        traits  =&gt; ['Counter'],
        is      =&gt; 'ro',
        isa     =&gt; 'Num',
        default =&gt; 0,
        handles =&gt; {
            inc_counter   =&gt; 'inc',
            dec_counter   =&gt; 'dec',
            reset_counter =&gt; 'reset',
            # ...
        }
    );
    </pre>
  </dd>
  <dt>Hash (Moose::Meta::Attribute::Native::Trait::Hash)</dt>
  <dd><span class="Li"></span>
    <pre>
    has 'options' =&gt; (
        traits  =&gt; ['Hash'],
        is      =&gt; 'ro',
        isa     =&gt; 'HashRef[Str]',
        default =&gt; sub { {} },
        handles =&gt; {
            set_option =&gt; 'set',
            get_option =&gt; 'get',
            has_option =&gt; 'exists',
            # ...
        }
    );
    </pre>
  </dd>
  <dt>Number (Moose::Meta::Attribute::Native::Trait::Number)</dt>
  <dd><span class="Li"></span>
    <pre>
    has 'integer' =&gt; (
        traits  =&gt; ['Number'],
        is      =&gt; 'ro',
        isa     =&gt; 'Int',
        default =&gt; 5,
        handles =&gt; {
            set =&gt; 'set',
            add =&gt; 'add',
            sub =&gt; 'sub',
            mul =&gt; 'mul',
            div =&gt; 'div',
            mod =&gt; 'mod',
            abs =&gt; 'abs',
            # ...
        }
    );
    </pre>
  </dd>
  <dt>String (Moose::Meta::Attribute::Native::Trait::String)</dt>
  <dd><span class="Li"></span>
    <pre>
    has 'text' =&gt; (
        traits  =&gt; ['String'],
        is      =&gt; 'ro',
        isa     =&gt; 'Str',
        default =&gt; q{},
        handles =&gt; {
            add_text     =&gt; 'append',
            replace_text =&gt; 'replace',
            # ...
        }
    );
    </pre>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="COMPATIBILITY_WITH_MooseX::AttributeHelpers"><a class="permalink" href="#COMPATIBILITY_WITH_MooseX::AttributeHelpers">COMPATIBILITY
  WITH MooseX::AttributeHelpers</a></h1>
This feature used to be a separated CPAN distribution called
  MooseX::AttributeHelpers.
<p class="Pp">When the feature was incorporated into the Moose core, some of the
    API details were changed. The underlying capabilities are the same, but some
    details of the API were changed.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
See &quot;BUGS&quot; in Moose for details on reporting bugs.
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<ul class="Bl-bullet">
  <li>Stevan Little &lt;stevan.little@iinteractive.com&gt;</li>
  <li>Dave Rolsky &lt;autarch@urth.org&gt;</li>
  <li>Jesse Luehrs &lt;doy@tozt.net&gt;</li>
  <li>Shawn M Moore &lt;code@sartak.org&gt;</li>
  <li>XXXX XXX'XX (Yuval Kogman) &lt;nothingmuch@woobling.org&gt;</li>
  <li>Karen Etheridge &lt;ether@cpan.org&gt;</li>
  <li>Florian Ragwitz &lt;rafl@debian.org&gt;</li>
  <li>Hans Dieter Pearcey &lt;hdp@weftsoar.net&gt;</li>
  <li>Chris Prather &lt;chris@prather.org&gt;</li>
  <li>Matt S Trout &lt;mst@shadowcat.co.uk&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
This software is copyright (c) 2006 by Infinity Interactive, Inc..
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-01-19</td>
    <td class="foot-os">perl v5.18.2</td>
  </tr>
</table>
</body>
</html>
