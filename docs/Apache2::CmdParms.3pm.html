<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>install::TempContent::Objects::mod_perl-2.0.9::docs::api::Apache2::CmdParms(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">install::TempContent::Objects::mod_perl-2.0.9::docs::api::Apache2::CmdParms(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">install::TempContent::Objects::mod_perl-2.0.9::docs::api::Apache2::CmdParms(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Apache2::CmdParms - Perl API for Apache command parameters object
</section>
<section class="Sh">
<h1 class="Sh" id="Synopsis"><a class="permalink" href="#Synopsis">Synopsis</a></h1>
<span class="Li"></span>
<pre>
  use Apache2::CmdParms ();
  use Apache2::Module ();
  use Apache2::Const -compile =&gt; qw(NOT_IN_LOCATION);
  
  my @directives = (
    {
      name =&gt; 'MyDirective',
      cmd_data =&gt; 'some extra data',
    },
  );
  
  Apache2::Module::add(__PACKAGE__, \@directives);
  
  sub MyDirective {
      my ($self, $parms, $args) = @_;
  
      # push config
      $parms-&gt;add_config(['ServerTokens off']);
  
      # this command's command object
      $cmd = $parms-&gt;cmd;
  
      # check the current command's context
      $error = $parms-&gt;check_cmd_context(Apache2::Const::NOT_IN_LOCATION);
  
      # this command's context
      $context = $parms-&gt;context;
  
      # this command's directive object
      $directive = $parms-&gt;directive;
  
      # the extra information passed thru cmd_data to
      # Apache2::Module::add()
      $info = $parms-&gt;info;
  
      # which methods are &lt;Limit&gt;ed ?
      $is_limited = $parms-&gt;method_is_limited('GET');
  
      # which allow-override bits are set
      $override = $parms-&gt;override;
  
      # which Options are allowed by AllowOverride (since Apache 2.2)
      $override = $parms-&gt;override_opts;
  
      # the path this command is being invoked in
      $path = $parms-&gt;path;
  
      # this command's pool
      $p = $parms-&gt;pool;
  
      # this command's configuration time pool
      $p = $parms-&gt;temp_pool;
  }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="Description"><a class="permalink" href="#Description">Description</a></h1>
<span class="Li">&quot;Apache2::CmdParms&quot;</span> provides the Perl API for
  Apache command parameters object.
</section>
<section class="Sh">
<h1 class="Sh" id="API"><a class="permalink" href="#API">API</a></h1>
<span class="Li">&quot;Apache2::CmdParms&quot;</span> provides the following
  functions and/or methods:
<section class="Ss">
<h2 class="Ss" id="_add_config_"><a class="permalink" href="#_add_config_">&quot;add_config&quot;</a></h2>
Dynamically add Apache configuration at request processing runtime:
<p class="Pp"><span class="Li"></span></p>
<pre>
  $parms-&gt;add_config($lines);
</pre>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>arg1: $lines (ARRAY ref)</dt>
  <dd>An ARRAY reference containing configuration lines per element, without the
      new line terminators.</dd>
  <dt>ret: no return value</dt>
  <dd></dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
<p class="Pp">See also: <span class="Li">&quot;$s-&gt;add_config&quot;</span>,
    <span class="Li">&quot;$r-&gt;add_config&quot;</span></p>
</section>
<section class="Ss">
<h2 class="Ss" id="_check_cmd_context_"><a class="permalink" href="#_check_cmd_context_">&quot;check_cmd_context&quot;</a></h2>
Check the current command against a context bitmask of forbidden contexts.
<p class="Pp"><span class="Li"></span></p>
<pre>
  $error = $parms-&gt;check_cmd_context($check);
</pre>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>arg1: $check ( &quot;Apache2::Const :context constant&quot; )</dt>
  <dd>the context to check against.</dd>
  <dt>ret: $error ( string / undef )</dt>
  <dd>If the context is forbidden, this method returns a textual description of
      why it was forbidden. If the context is permitted, this method returns
      <span class="Li">&quot;undef&quot;</span>.</dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
<p class="Pp">For example here is how to check whether a command is allowed in
    the <span class="Li">&quot;&lt;Location&gt;&quot;</span> container:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  use Apache2::Const -compile qw(NOT_IN_LOCATION);
  if (my $error = $parms-&gt;check_cmd_context(Apache2::Const::NOT_IN_LOCATION)) {
      die &quot;directive ... not allowed in &lt;Location&gt; context&quot;
  }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="_cmd_"><a class="permalink" href="#_cmd_">&quot;cmd&quot;</a></h2>
This module's command information
<p class="Pp"><span class="Li"></span></p>
<pre>
  $cmd = $parms-&gt;cmd();
</pre>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>ret: $cmd ( &quot;Apache2::Command object&quot; )</dt>
  <dd></dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_directive_"><a class="permalink" href="#_directive_">&quot;directive&quot;</a></h2>
This command's directive object in the configuration tree
<p class="Pp"><span class="Li"></span></p>
<pre>
  $directive = $parms-&gt;directive;
</pre>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>ret: $directive ( &quot;Apache2::Directive object&quot; )</dt>
  <dd>The current directive node in the configuration tree</dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_info_"><a class="permalink" href="#_info_">&quot;info&quot;</a></h2>
The extra information passed through
  <span class="Li">&quot;cmd_data&quot;</span> in
  <span class="Li">&quot;Apache2::Module::add()&quot;</span>.
<p class="Pp"><span class="Li"></span></p>
<pre>
  $info = $parms-&gt;info;
</pre>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>ret: $info ( string )</dt>
  <dd>The string passed in <span class="Li">&quot;cmd_data&quot;</span></dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
<p class="Pp">For example here is how to pass arbitrary information to a
    directive subroutine:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  my @directives = (
    {
      name =&gt; 'MyDirective1',
      func =&gt; \&amp;MyDirective,
      cmd_data =&gt; 'One',
    },
    {
      name =&gt; 'MyDirective2',
      func =&gt; \&amp;MyDirective,
      cmd_data =&gt; 'Two',
    },
  );
  Apache2::Module::add(__PACKAGE__, \@directives);
  
  sub MyDirective {
    my ($self, $parms, $args) = @_;
    my $info = $parms-&gt;info;
  }
</pre>
<p class="Pp">In this example <span class="Li">$info</span> will either be
    <span class="Li">'One'</span> or <span class="Li">'Two'</span> depending on
    whether the directive was called as <i>MyDirective1</i> or
    <i>MyDirective2</i>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_method_is_limited_"><a class="permalink" href="#_method_is_limited_">&quot;method_is_limited&quot;</a></h2>
Discover if a method is &lt;Limit&gt;ed in the current scope
<p class="Pp"><span class="Li"></span></p>
<pre>
  $is_limited = $parms-&gt;method_is_limited($method);
</pre>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>arg1: $method (string)</dt>
  <dd>The name of the method to check for</dd>
  <dt>ret: $is_limited ( boolean )</dt>
  <dd></dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
<p class="Pp">For example, to check if the
    <span class="Li">&quot;GET&quot;</span> method is being
    <span class="Li">&quot;&lt;Limit&gt;&quot;</span>ed in the current scope,
    do:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  if ($parms-&gt;method_is_limited('GET') {
      die &quot;...&quot;;
  }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="_override_"><a class="permalink" href="#_override_">&quot;override&quot;</a></h2>
Which allow-override bits are set
  (<span class="Li">&quot;AllowOverride&quot;</span> directive)
<p class="Pp"><span class="Li"></span></p>
<pre>
  $override = $parms-&gt;override;
</pre>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>ret: $override ( bitmask )</dt>
  <dd>the allow-override bits bitmask, which can be tested against
      <span class="Li">&quot;Apache2::Const :override</span>
      <span class="Li">constants&quot;</span>.</dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
<p class="Pp">For example to check that the
    <span class="Li">&quot;AllowOverride&quot;</span>'s
    <span class="Li">&quot;AuthConfig&quot;</span> and
    <span class="Li">&quot;FileInfo&quot;</span> options are enabled for this
    command, do:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  use Apache2::Const -compile qw(:override);
  $wanted = Apache2::Const::OR_AUTHCFG | Apache2::Const::OR_FILEINFO;
  $masked = $parms-&gt;override &amp; $wanted;
  unless ($wanted == $masked) {
      die &quot;...&quot;;
  }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="_override_opts_"><a class="permalink" href="#_override_opts_">&quot;override_opts&quot;</a></h2>
Which options are allowed to be overridden by
  <span class="Li">&quot;.htaccess&quot;</span> files. This is set by
  <span class="Li">&quot;AllowOverride Options=...&quot;</span>.
<p class="Pp"><span class="Li"></span></p>
<pre>
  $override_opts = $parms-&gt;override_opts;
</pre>
<p class="Pp">Enabling single options was introduced with Apache 2.2. For Apache
    2.0 this function simply returns a bitmask with all options allowed.</p>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>ret: $override_opts ( bitmask )</dt>
  <dd>the bitmask, which can be tested against
      <span class="Li">&quot;Apache2::Const :options</span>
      <span class="Li">constants&quot;</span>.</dd>
  <dt>since: 2.0.3</dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_path_"><a class="permalink" href="#_path_">&quot;path&quot;</a></h2>
The current pathname/location/match of the block this command is in
<p class="Pp"><span class="Li"></span></p>
<pre>
  $path = $parms-&gt;path;
</pre>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>ret: $path ( string / &quot;undef&quot; )</dt>
  <dd>If configuring for a block like &lt;Location&gt;, &lt;LocationMatch&gt;,
      &lt;Directory&gt;, etc., the pathname part of that directive. Otherwise,
      <span class="Li">&quot;undef&quot;</span> is returned.</dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
<p class="Pp">For example for a container block:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  &lt;Location /foo&gt;
  ...
  &lt;/Location&gt;
</pre>
<p class="Pp"><i>'/foo'</i> will be returned.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_pool_"><a class="permalink" href="#_pool_">&quot;pool&quot;</a></h2>
Pool associated with this command
<p class="Pp"><span class="Li"></span></p>
<pre>
  $p = $parms-&gt;pool;
</pre>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>ret: $p ( &quot;APR::Pool object&quot; )</dt>
  <dd></dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_server_"><a class="permalink" href="#_server_">&quot;server&quot;</a></h2>
The (vhost) server this command was defined in <i>httpd.conf</i>
<p class="Pp"><span class="Li"></span></p>
<pre>
  $s = $parms-&gt;server;
</pre>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>ret: $s ( &quot;Apache2::Server object&quot; )</dt>
  <dd></dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="_temp_pool_"><a class="permalink" href="#_temp_pool_">&quot;temp_pool&quot;</a></h2>
Pool for scratch memory; persists during configuration, but destroyed before the
  first request is served.
<p class="Pp"><span class="Li"></span></p>
<pre>
  $temp_pool = $parms-&gt;temp_pool;
</pre>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>ret: $temp_pool ( &quot;APR::Pool object&quot; )</dt>
  <dd></dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
<p class="Pp">Most likely you shouldn't use this pool object, unless you know
    what you are doing. Use <span class="Li">&quot;$parms-&gt;pool&quot;</span>
    instead.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Unsupported_API"><a class="permalink" href="#Unsupported_API">Unsupported
  API</a></h1>
<span class="Li">&quot;Apache2::CmdParms&quot;</span> also provides
  auto-generated Perl interface for a few other methods which aren't tested at
  the moment and therefore their API is a subject to change. These methods will
  be finalized later as a need arises. If you want to rely on any of the
  following methods please contact the the mod_perl development mailing list so
  we can help each other take the steps necessary to shift the method to an
  officially supported API.
<section class="Ss">
<h2 class="Ss" id="_context_"><a class="permalink" href="#_context_">&quot;context&quot;</a></h2>
Get context containing pointers to modules' per-dir config structures.
<p class="Pp"><span class="Li"></span></p>
<pre>
  $context = $parms-&gt;context;
</pre>
<dl class="Bl-tag">
  <dt>obj: $parms ( &quot;Apache2::CmdParms object&quot; )</dt>
  <dd></dd>
  <dt>ret: $newval ( &quot;Apache2::ConfVector object&quot; )</dt>
  <dd>Returns the commands' per-dir config structures</dd>
  <dt>since: 2.0.00</dt>
  <dd></dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="See_Also"><a class="permalink" href="#See_Also">See
  Also</a></h1>
mod_perl 2.0 documentation.
</section>
<section class="Sh">
<h1 class="Sh" id="Copyright"><a class="permalink" href="#Copyright">Copyright</a></h1>
mod_perl 2.0 and its core modules are copyrighted under The Apache Software
  License, Version 2.0.
</section>
<section class="Sh">
<h1 class="Sh" id="Authors"><a class="permalink" href="#Authors">Authors</a></h1>
The mod_perl development team and numerous contributors.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-06-18</td>
    <td class="foot-os">perl v5.28.2</td>
  </tr>
</table>
</body>
</html>
