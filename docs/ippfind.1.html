<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   ippfind man page.
  
   Copyright \[u00A9]\[u00A0]2013-2019 by Apple Inc.
  
   Licensed under Apache License v2.0.  See the file "LICENSE" for more
   information.
   -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>ippfind(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ippfind(1)</td>
    <td class="head-vol">Apple Inc.</td>
    <td class="head-rtitle">ippfind(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
ippfind - find internet printing protocol printers
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>ippfind</b> [ <i>options</i> ]
  <i>regtype</i>[<b>,</b><i>subtype</i>][<b>.</b> <i>domain</i><b>.</b>] ... [
  <i>expression</i>
 ... ]
<br/>
<b>ippfind</b> [ <i>options</i> ]
  <i>name</i>[<b>.</b><i>regtype</i>[<b>.</b><i>domain</i><b>.</b>]] ... [
  <i>expression</i>
 ... ]
<br/>
<b>ippfind</b> <b>--help</b>
<br/>
<b>ippfind</b> <b>--version</b>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>ippfind</b> finds services registered with a DNS server or available through
  local devices. Its primary purpose is to find IPP printers and show their
  URIs, show their current status, or run commands.
<section class="Ss">
<h2 class="Ss" id="REGISTRATION_TYPES"><a class="permalink" href="#REGISTRATION_TYPES">REGISTRATION
  TYPES</a></h2>
<b>ippfind</b> supports the following registration types:
<dl class="Bl-tag">
  <dt>_http._tcp</dt>
  <dd>HyperText Transport Protocol (HTTP, RFC 2616)</dd>
  <dt>_https._tcp</dt>
  <dd>Secure HyperText Transport Protocol (HTTPS, RFC 2818)</dd>
  <dt>_ipp._tcp</dt>
  <dd>Internet Printing Protocol (IPP, RFC 2911)</dd>
  <dt>_ipps._tcp</dt>
  <dd>Secure Internet Printing Protocol (IPPS, draft)</dd>
  <dt>_printer._tcp</dt>
  <dd>Line Printer Daemon (LPD, RFC 1179)</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="EXPRESSIONS"><a class="permalink" href="#EXPRESSIONS">EXPRESSIONS</a></h2>
<b>ippfind</b> supports expressions much like the <b>find</b>(1) utility.
  However, unlike <b>find</b>(1), <b>ippfind</b> uses POSIX regular expressions
  instead of shell filename matching patterns. If <i>--exec</i>, <i>-l</i>,
  <i>--ls</i>, <i>-p</i>, <i>--print</i>, <i>--print-name</i>, <i>-q</i>,
  <i>--quiet</i>, <i>-s</i>, or <i>-x</i> is not specified, <b>ippfind</b> adds
  <i>--print</i> to print the service URI of anything it finds. The following
  expressions are supported:
<dl class="Bl-tag">
  <dt><b>-d </b><i>regex</i></dt>
  <dd></dd>
  <dt><b>--domain </b><i>regex</i></dt>
  <dd>True if the domain matches the given regular expression.</dd>
  <dt><b>--false</b></dt>
  <dd>Always false.</dd>
  <dt><b>-h </b><i>regex</i></dt>
  <dd></dd>
  <dt><b>--host </b><i>regex</i></dt>
  <dd>True is the hostname matches the given regular expression.</dd>
  <dt><b>-l</b></dt>
  <dd></dd>
  <dt><b>--ls</b></dt>
  <dd>Lists attributes returned by Get-Printer-Attributes for IPP printers and
      traditional <i>find</i> &quot;-ls&quot; output for HTTP URLs. The result
      is true if the URI is accessible, false otherwise.</dd>
  <dt><b>--local</b></dt>
  <dd>True if the service is local to this computer.</dd>
  <dt><b>-N </b><i>name</i></dt>
  <dd></dd>
  <dt><b>--literal-name </b><i>name</i></dt>
  <dd>True if the service instance name matches the given name.</dd>
  <dt><b>-n </b><i>regex</i></dt>
  <dd></dd>
  <dt><b>--name </b><i>regex</i></dt>
  <dd>True if the service instance name matches the given regular
    expression.</dd>
  <dt><b>--path </b><i>regex</i></dt>
  <dd>True if the URI resource path matches the given regular expression.</dd>
  <dt><b>-P </b><i>number</i>[<b>-</b><i>number</i>]</dt>
  <dd></dd>
  <dt><b>--port </b><i>number</i>[<b>-</b><i>number</i>]</dt>
  <dd>True if the port matches the given number or range.</dd>
  <dt><b>-p</b></dt>
  <dd></dd>
  <dt><b>--print</b></dt>
  <dd>Prints the URI if the result of previous expressions is true. The result
      is always true.</dd>
  <dt><b>-q</b></dt>
  <dd></dd>
  <dt><b>--quiet</b></dt>
  <dd>Quiet mode - just returns the exit codes below.</dd>
  <dt><b>-r</b></dt>
  <dd></dd>
  <dt><b>--remote</b></dt>
  <dd>True if the service is not local to this computer.</dd>
  <dt><b>-s</b></dt>
  <dd></dd>
  <dt><b>--print-name</b></dt>
  <dd>Prints the service instance name if the result of previous expressions is
      true. The result is always true.</dd>
  <dt><b>--true</b></dt>
  <dd>Always true.</dd>
  <dt><b>-t </b><i>key</i></dt>
  <dd></dd>
  <dt><b>--txt </b><i>key</i></dt>
  <dd>True if the TXT record contains the named key.</dd>
  <dt><b>--txt-</b><i>key regex</i></dt>
  <dd>True if the TXT record contains the named key and matches the given
      regular expression.</dd>
  <dt><b>-u </b><i>regex</i></dt>
  <dd></dd>
  <dt><b>--uri </b><i>regex</i></dt>
  <dd>True if the URI matches the given regular expression.</dd>
  <dt><b>-x </b><i>utility </i>[ <i>argument </i>... ] <b>;</b></dt>
  <dd></dd>
  <dt><b>--exec </b><i>utility </i>[ <i>argument </i>... ] <b>;</b></dt>
  <dd>Executes the specified program if the current result is true.
      &quot;{foo}&quot; arguments are replaced with the corresponding value -
      see SUBSTITUTIONS below.</dd>
</dl>
<p class="Pp">Expressions may also contain modifiers:</p>
<dl class="Bl-tag">
  <dt><b>( </b><i>expression </i><b>)</b></dt>
  <dd>Group the result of expressions.</dd>
  <dt><b>! </b><i>expression</i></dt>
  <dd></dd>
  <dt><b>--not </b><i>expression</i></dt>
  <dd>Unary NOT of the expression.</dd>
  <dt><i>expression expression</i></dt>
  <dd></dd>
  <dt><i>expression </i><b>--and </b><i>expression</i></dt>
  <dd>Logical AND of expressions.</dd>
  <dt><i>expression </i><b>--or </b><i>expression</i></dt>
  <dd>Logical OR of expressions.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="SUBSTITUTIONS"><a class="permalink" href="#SUBSTITUTIONS">SUBSTITUTIONS</a></h2>
The substitutions for &quot;{foo}&quot; in <i>-e</i> and <i>--exec</i> are:
<dl class="Bl-tag">
  <dt><b>{service_domain}</b></dt>
  <dd>Domain name, e.g., &quot;example.com.&quot;, &quot;local.&quot;, etc.</dd>
  <dt><b>{service_hostname}</b></dt>
  <dd>Fully-qualified domain name, e.g., &quot;printer.example.com.&quot;,
      &quot;printer.local.&quot;, etc.</dd>
  <dt><b>{service_name}</b></dt>
  <dd>Service instance name, e.g., &quot;My Fine Printer&quot;.</dd>
  <dt><b>{service_port}</b></dt>
  <dd>Port number for server, typically 631 for IPP and 80 for HTTP.</dd>
  <dt><b>{service_regtype}</b></dt>
  <dd>DNS-SD registration type, e.g., &quot;_ipp._tcp&quot;,
      &quot;_http._tcp&quot;, etc.</dd>
  <dt><b>{service_scheme}</b></dt>
  <dd>URI scheme for DNS-SD registration type, e.g., &quot;ipp&quot;,
      &quot;http&quot;, etc.</dd>
  <dt><b>{}</b></dt>
  <dd></dd>
  <dt><b>{service_uri}</b></dt>
  <dd>URI for service, e.g., &quot;ipp://printer.local./ipp/print&quot;,
      &quot;http://printer.local./&quot;, etc.</dd>
  <dt><b>{txt_</b><i>key</i><b>}</b></dt>
  <dd>Value of TXT record <i>key</i> (lowercase).</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<b>ippfind</b> supports the following options:
<dl class="Bl-tag">
  <dt><b>--help</b></dt>
  <dd>Show program help.</dd>
  <dt><b>--version</b></dt>
  <dd>Show program version.</dd>
  <dt><b>-4</b></dt>
  <dd>Use IPv4 when listing.</dd>
  <dt><b>-6</b></dt>
  <dd>Use IPv6 when listing.</dd>
  <dt><b>-T </b><i>seconds</i></dt>
  <dd>Specify find timeout in seconds. If 1 or less, <b>ippfind</b> stops as
      soon as it thinks it has found everything. The default timeout is 1
      second.</dd>
  <dt><b>-V </b><i>version</i></dt>
  <dd>Specifies the IPP version when listing. Supported values are
      &quot;1.1&quot;, &quot;2.0&quot;, &quot;2.1&quot;, and
    &quot;2.2&quot;.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<b>ippfind</b> returns 0 if the result for all processed expressions is true, 1
  if the result of any processed expression is false, 2 if browsing or any query
  or resolution failed, 3 if an undefined option or invalid expression was
  specified, and 4 if it ran out of memory.
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
When executing a program, <b>ippfind</b> sets the following environment
  variables for the matching service registration:
<dl class="Bl-tag">
  <dt><b>IPPFIND_SERVICE_DOMAIN</b></dt>
  <dd>Domain name, e.g., &quot;example.com.&quot;, &quot;local.&quot;, etc.</dd>
  <dt><b>IPPFIND_SERVICE_HOSTNAME</b></dt>
  <dd>Fully-qualified domain name, e.g., &quot;printer.example.com.&quot;,
      &quot;printer.local.&quot;, etc.</dd>
  <dt><b>IPPFIND_SERVICE_NAME</b></dt>
  <dd>Service instance name, e.g., &quot;My Fine Printer&quot;.</dd>
  <dt><b>IPPFIND_SERVICE_PORT</b></dt>
  <dd>Port number for server, typically 631 for IPP and 80 for HTTP.</dd>
  <dt><b>IPPFIND_SERVICE_REGTYPE</b></dt>
  <dd>DNS-SD registration type, e.g., &quot;_ipp._tcp&quot;,
      &quot;_http._tcp&quot;, etc.</dd>
  <dt><b>IPPFIND_SERVICE_SCHEME</b></dt>
  <dd>URI scheme for DNS-SD registration type, e.g., &quot;ipp&quot;,
      &quot;http&quot;, etc.</dd>
  <dt><b>IPPFIND_SERVICE_URI</b></dt>
  <dd>URI for service, e.g., &quot;ipp://printer.local./ipp/print&quot;,
      &quot;http://printer.local./&quot;, etc.</dd>
  <dt><b>IPPFIND_TXT_<i>KEY</i></b></dt>
  <dd>Values of TXT record <i>KEY</i> (uppercase).</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
To show the status of all registered IPP printers on your network, run:
<pre>
    ippfind --ls
</pre>
Similarly, to send a PostScript test page to every PostScript printer, run:
<pre>
    ippfind --txt-pdl application/postscript --exec ipptool
      -f onepage-letter.ps '{}' print-job.test \;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ipptool</b>(1)
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2013-2019 by Apple Inc.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">ippsample</td>
    <td class="foot-os">26 April 2019</td>
  </tr>
</table>
</body>
</html>
