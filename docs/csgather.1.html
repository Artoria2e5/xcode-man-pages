<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
  Modified from man(1) of FreeBSD, the NetBSD mdoc.template, and mdoc.samples.
  See Also:
  man mdoc.samples for a complete listing of options
  man mdoc for the short list of editing options
  /usr/share/misc/mdoc.template
   DATE
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>csgather(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">csgather(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">csgather(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">csgather</code> &#x2014;
<div class="Nd">Gather CoreStorage metadata for diagnosis</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">csgather</code></td>
    <td><code class="Fl">-G</code> <var class="Ar">dir</var>
      <var class="Ar">device ...</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">csgather</code></td>
    <td><code class="Fl">-r</code> <var class="Ar">mountPoint</var>
      [<code class="Fl">-o</code> <var class="Ar">filename</var>]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<code class="Nm">csgather</code> gathers CoreStorage metadata for diagnosis. It
  works in two modes.
<p class="Pp">In the first mode where -G and a list of devices are provided,
    CoreStorage metadata on these list of devices will be collected. The
    collected information includes the size and UUID of the CoreStorage logical
    and physical volumes, the name of the logical volumes, the wrapped
    (encrypted) volume key (which can only be decrypted by a brute-force
    attack), user name and user login image file. No other user information
    (such as directory structure, file names, file content, etc) is
  collected.</p>
<p class="Pp">In the second mode where -r is provided, the encryption context
    which includes the wrapped volume key (which can only be decrypted by a
    brute-force attack), user name and user login image file will be
  collected.</p>
<p class="Pp">If the wrapped volume key is decrypted by a brute-force attack,
    the volume key used to encrypt data on CoreStorage Logical Volumes is in the
    clear. It is not mathematically possible to derive the user's passphrase
    from the volume key. The volume key is only useful when the attacker has
    access to the encrypted data in the CoreStorage Logical Volume, which are
    not collected by <code class="Nm">csgather</code>.</p>
<p class="Pp">The following options are available:</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#G"><code class="Fl" id="G">-G</code></a>
    <var class="Ar">dir</var></dt>
  <dd>Gather all CoreStorage metadata and write into the specified directory.
      The given directory must not already exist.</dd>
  <dt><a class="permalink" href="#o"><code class="Fl" id="o">-o</code></a>
    <var class="Ar">filename</var></dt>
  <dd>Specify the output file generated by the -r option. If not given, use
      standard output.</dd>
  <dt><a class="permalink" href="#r"><code class="Fl" id="r">-r</code></a>
    <var class="Ar">mountPoint</var></dt>
  <dd>Find out the CoreStorage logical volume identified by the given mount
      point, and print its encryption context to the file given in the -o
      option.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr">csdiagnose(1)</a>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
The <code class="Nm">csgather</code> utility first appeared along with
  CoreStorage in OS X 10.10.0.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">4/21/2014</td>
    <td class="foot-os">OS X</td>
  </tr>
</table>
</body>
</html>
