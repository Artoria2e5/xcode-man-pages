<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Net::DNS::Header(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Net::DNS::Header(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Net::DNS::Header(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Net::DNS::Header - DNS packet header
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
    use Net::DNS;

    $packet = new Net::DNS::Packet;
    $header = $packet-&gt;header;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<span class="Li">&quot;Net::DNS::Header&quot;</span> represents the header
  portion of a DNS packet.
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="$packet_-_header"><a class="permalink" href="#$packet_-_header">$packet-&gt;header</a></h2>
<span class="Li"></span>
<pre>
    $packet = new Net::DNS::Packet;
    $header = $packet-&gt;header;
</pre>
<p class="Pp">Net::DNS::Header objects emanate from the Net::DNS::Packet
    <b>header()</b> method, and contain an opaque reference to the parent Packet
    object.</p>
<p class="Pp">Header objects may be assigned to suitably scoped lexical
    variables. They should never be stored in global variables or persistent
    data structures.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="string"><a class="permalink" href="#string">string</a></h2>
<span class="Li"></span>
<pre>
    print $packet-&gt;header-&gt;string;
</pre>
<p class="Pp">Returns a string representation of the packet header.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="string_2"><a class="permalink" href="#string_2">string</a></h2>
<span class="Li"></span>
<pre>
    $packet-&gt;header-&gt;print;
</pre>
<p class="Pp">Prints the string representation of the packet header.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="id"><a class="permalink" href="#id">id</a></h2>
<span class="Li"></span>
<pre>
    print &quot;query id = &quot;, $packet-&gt;header-&gt;id, &quot;\n&quot;;
    $packet-&gt;header-&gt;id(1234);
</pre>
<p class="Pp">Gets or sets the query identification number.</p>
<p class="Pp">A random value is assigned if the argument value is undefined.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="opcode"><a class="permalink" href="#opcode">opcode</a></h2>
<span class="Li"></span>
<pre>
    print &quot;query opcode = &quot;, $packet-&gt;header-&gt;opcode, &quot;\n&quot;;
    $packet-&gt;header-&gt;opcode(&quot;UPDATE&quot;);
</pre>
<p class="Pp">Gets or sets the query opcode (the purpose of the query).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="rcode"><a class="permalink" href="#rcode">rcode</a></h2>
<span class="Li"></span>
<pre>
    print &quot;query response code = &quot;, $packet-&gt;header-&gt;rcode, &quot;\n&quot;;
    $packet-&gt;header-&gt;rcode(&quot;SERVFAIL&quot;);
</pre>
<p class="Pp">Gets or sets the query response code (the status of the
  query).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="qr"><a class="permalink" href="#qr">qr</a></h2>
<span class="Li"></span>
<pre>
    print &quot;query response flag = &quot;, $packet-&gt;header-&gt;qr, &quot;\n&quot;;
    $packet-&gt;header-&gt;qr(0);
</pre>
<p class="Pp">Gets or sets the query response flag.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="aa"><a class="permalink" href="#aa">aa</a></h2>
<span class="Li"></span>
<pre>
    print &quot;answer is &quot;, $packet-&gt;header-&gt;aa ? &quot;&quot; : &quot;non-&quot;, &quot;authoritative\n&quot;;
    $packet-&gt;header-&gt;aa(0);
</pre>
<p class="Pp">Gets or sets the authoritative answer flag.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="tc"><a class="permalink" href="#tc">tc</a></h2>
<span class="Li"></span>
<pre>
    print &quot;packet is &quot;, $packet-&gt;header-&gt;tc ? &quot;&quot; : &quot;not &quot;, &quot;truncated\n&quot;;
    $packet-&gt;header-&gt;tc(0);
</pre>
<p class="Pp">Gets or sets the truncated packet flag.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="rd"><a class="permalink" href="#rd">rd</a></h2>
<span class="Li"></span>
<pre>
    print &quot;recursion was &quot;, $packet-&gt;header-&gt;rd ? &quot;&quot; : &quot;not &quot;, &quot;desired\n&quot;;
    $packet-&gt;header-&gt;rd(0);
</pre>
<p class="Pp">Gets or sets the recursion desired flag.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="ra"><a class="permalink" href="#ra">ra</a></h2>
<span class="Li"></span>
<pre>
    print &quot;recursion is &quot;, $packet-&gt;header-&gt;ra ? &quot;&quot; : &quot;not &quot;, &quot;available\n&quot;;
    $packet-&gt;header-&gt;ra(0);
</pre>
<p class="Pp">Gets or sets the recursion available flag.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="z"><a class="permalink" href="#z">z</a></h2>
Unassigned bit, should always be zero.
</section>
<section class="Ss">
<h2 class="Ss" id="ad"><a class="permalink" href="#ad">ad</a></h2>
<span class="Li"></span>
<pre>
    print &quot;The result has &quot;, $packet-&gt;header-&gt;ad ? &quot;&quot; : &quot;not&quot;, &quot;been verified\n&quot;;
</pre>
<p class="Pp">Relevant in DNSSEC context.</p>
<p class="Pp">(The AD bit is only set on answers where signatures have been
    cryptographically verified or the server is authoritative for the data and
    is allowed to set the bit by policy.)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="cd"><a class="permalink" href="#cd">cd</a></h2>
<span class="Li"></span>
<pre>
    print &quot;checking was &quot;, $packet-&gt;header-&gt;cd ? &quot;not&quot; : &quot;&quot;, &quot;desired\n&quot;;
    $packet-&gt;header-&gt;cd(0);
</pre>
<p class="Pp">Gets or sets the checking disabled flag.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="qdcount,_zocount"><a class="permalink" href="#qdcount,_zocount">qdcount,
  zocount</a></h2>
<span class="Li"></span>
<pre>
    print &quot;# of question records: &quot;, $packet-&gt;header-&gt;qdcount, &quot;\n&quot;;
</pre>
<p class="Pp">Returns the number of records in the question section of the
    packet. In dynamic update packets, this field is known as
    <span class="Li">&quot;zocount&quot;</span> and refers to the number of RRs
    in the zone section.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="ancount,_prcount"><a class="permalink" href="#ancount,_prcount">ancount,
  prcount</a></h2>
<span class="Li"></span>
<pre>
    print &quot;# of answer records: &quot;, $packet-&gt;header-&gt;ancount, &quot;\n&quot;;
</pre>
<p class="Pp">Returns the number of records in the answer section of the packet
    which may, in the case of corrupt packets, differ from the actual number of
    records. In dynamic update packets, this field is known as
    <span class="Li">&quot;prcount&quot;</span> and refers to the number of RRs
    in the prerequisite section.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="nscount,_upcount"><a class="permalink" href="#nscount,_upcount">nscount,
  upcount</a></h2>
<span class="Li"></span>
<pre>
    print &quot;# of authority records: &quot;, $packet-&gt;header-&gt;nscount, &quot;\n&quot;;
</pre>
<p class="Pp">Returns the number of records in the authority section of the
    packet which may, in the case of corrupt packets, differ from the actual
    number of records. In dynamic update packets, this field is known as
    <span class="Li">&quot;upcount&quot;</span> and refers to the number of RRs
    in the update section.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="arcount,_adcount"><a class="permalink" href="#arcount,_adcount">arcount,
  adcount</a></h2>
<span class="Li"></span>
<pre>
    print &quot;# of additional records: &quot;, $packet-&gt;header-&gt;arcount, &quot;\n&quot;;
</pre>
<p class="Pp">Returns the number of records in the additional section of the
    packet which may, in the case of corrupt packets, differ from the actual
    number of records. In dynamic update packets, this field is known as
    <span class="Li">&quot;adcount&quot;</span>.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="EDNS_Protocol_Extensions"><a class="permalink" href="#EDNS_Protocol_Extensions">EDNS
  Protocol Extensions</a></h1>
<section class="Ss">
<h2 class="Ss" id="do"><a class="permalink" href="#do">do</a></h2>
<span class="Li"></span>
<pre>
    print &quot;DNSSEC_OK flag was &quot;, $packet-&gt;header-&gt;do ? &quot;not&quot; : &quot;&quot;, &quot;set\n&quot;;
    $packet-&gt;header-&gt;do(1);
</pre>
<p class="Pp">Gets or sets the EDNS DNSSEC OK flag.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Extended_rcode"><a class="permalink" href="#Extended_rcode">Extended
  rcode</a></h2>
EDNS extended rcodes are handled transparently by
  <span class="Li">$packet</span>-&gt;header-&gt;<b>rcode()</b>.
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1UDP_s0_packet_size"><a class="permalink" href="#_s-1UDP_s0_packet_size">UDP
  packet size</a></h2>
<span class="Li"></span>
<pre>
    $udp_max = $packet-&gt;header-&gt;size;
    $udp_max = $packet-&gt;edns-&gt;size;
</pre>
<p class="Pp">EDNS offers a mechanism to advertise the maximum UDP packet size
    which can be assembled by the local network stack.</p>
<p class="Pp">UDP size advertisement can be viewed as either a header extension
    or an EDNS feature. Endless debate is avoided by supporting both views.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="edns"><a class="permalink" href="#edns">edns</a></h2>
<span class="Li"></span>
<pre>
    $header  = $packet-&gt;header;
    $version = $header-&gt;edns-&gt;version;
    @options = $header-&gt;edns-&gt;options;
    $option  = $header-&gt;edns-&gt;option(n);
    $udp_max = $packet-&gt;edns-&gt;size;
</pre>
<p class="Pp">Auxiliary function which provides access to the EDNS protocol
    extension OPT RR.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c)1997-2002 Michael Fuhr.
<p class="Pp">Portions Copyright (c)2002-2004 Chris Reinhardt.</p>
<p class="Pp">Portions Copyright (c)2012 Dick Franks.</p>
<p class="Pp">All rights reserved.</p>
<p class="Pp">This program is free software; you may redistribute it and/or
    modify it under the same terms as Perl itself.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
perl, Net::DNS, Net::DNS::Packet, Net::DNS::RR::OPT RFC 1035 Section 4.1.1
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-01-16</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
