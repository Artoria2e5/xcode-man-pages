<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>Struct(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Struct(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Struct(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
Inline::Struct -- Manipulate C structures directly from Perl.
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
  use Inline C =&gt; Config =&gt; Structs =&gt; ['Foo'];

  my $obj = Inline::Struct::Foo-&gt;new;
  $obj-&gt;num(10);
  $obj-&gt;str(&quot;Hello&quot;);

  myfunc($obj);

  __END__
  __C__
  
  struct Foo {
    int num;
    char *str;
  };

  void myfunc(Foo *f) {
    printf(&quot;myfunc: num=%i, str='%s'\n&quot;, f-&gt;num, f-&gt;str);
  }
</pre>
<p class="Pp">This complete program prints:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  myfunc: num=10, str='Hello'
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Inline::Struct is not a new language. It's a language extension designed to be
  used by Inline::C. It parses struct definitions and creates typemaps and XS
  code which bind each struct into a Perl class. This code is passed to
  Inline::C, which compiles it in the normal way.
<p class="Pp">NOTE: Inline::Struct parses only C-style structs. It doesn't know
    about any C++ extensions to structs like scopes, constructors or methods. If
    you want such functionality you should use Inline::CPP to parse your
    structs.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Using_Inline::Struct"><a class="permalink" href="#Using_Inline::Struct">Using
  Inline::Struct</a></h1>
Inline::Struct has a Parse::RecDescent grammar to parse C structs. If a struct
  is recognized, it can be bound to Perl. If the struct's definition is not
  recognized (usually because it has a member with no typemap), it will not be
  bound to Perl, but will be available from other functions in C or C++.
<p class="Pp">The following example shows how a simple struct might look to a
    Perl programmer.</p>
<p class="Pp">Example 1:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  use Inline C =&gt; &lt;&lt;'END', ENABLE =&gt; 'STRUCTS';
  struct Fraction {
    long numer;
    long denom; 
  };
  END

  my $o = Inline::Struct::Fraction-&gt;new(4, 3);
  print $o-&gt;numer, $o-&gt;denom, &quot;\n&quot;;
  $o-&gt;numer(4)-&gt;denom(7);
</pre>
<p class="Pp">After the code above has been compiled, Perl's namespace looks a
    lot like the following:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
  package Inline::Struct::Fraction;
  sub new { }
  sub DESTROY { }
  sub _KEYS { }
  sub _VALUES { }
  sub _HASH { }
  sub numer { }
  sub denom { }
</pre>
<p class="Pp">Note that these are actually XS subs written in C, not Perl subs.
    But that's what it looks like.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="The_Struct_Interface"><a class="permalink" href="#The_Struct_Interface">The
  Struct Interface</a></h1>
The following sections define the interface of each subroutine. <b>Note:
  this</b> <b>interface is likely to change in future versions of
  Inline::Struct</b>. Please don't rely on Inline::Struct in production code
  quite yet.
<p class="Pp">When a struct is bound by Inline::Struct, a new namespace is
    created underneath Inline::Struct. So if you have a struct named 'Foo', the
    package of the Perl class will be 'Inline::Struct::Foo'.</p>
<section class="Ss">
<h2 class="Ss" id="new"><a class="permalink" href="#new">new</a></h2>
If no arguments are provided, all fields are zeroed out. If you provide values,
  they should be appropriate for the field type, and in the same order as they
  are defined in the struct.
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1DESTROY_s0"><a class="permalink" href="#_s-1DESTROY_s0">DESTROY</a></h2>
The destructor. Should never be called by the programmer -- this is called
  automatically when the Perl variable holding the struct is destroyed. Frees
  the memory associated with the struct. If the struct holds pointers to
  malloc'd memory, they will not be freed. If you run into such a situation,
  consider using C++ and Inline::CPP instead.
</section>
<section class="Ss">
<h2 class="Ss" id="_KEYS"><a class="permalink" href="#_KEYS">_KEYS</a></h2>
A read-only method, this returns a reference to an array containing the names of
  the fields in the struct. The fields are in the order they appear in the C
  source code.
</section>
<section class="Ss">
<h2 class="Ss" id="_VALUES"><a class="permalink" href="#_VALUES">_VALUES</a></h2>
A read-only method, this returns a reference to an array containing the values
  of the fields in the struct. The values are returned in the same order as the
  fields.
</section>
<section class="Ss">
<h2 class="Ss" id="_HASH"><a class="permalink" href="#_HASH">_HASH</a></h2>
A read-only method, this returns a reference to a hash, mapping field names to
  field values.
</section>
<section class="Ss">
<h2 class="Ss" id="Accessors"><a class="permalink" href="#Accessors">Accessors</a></h2>
For each field in the struct, an accessor sub will be created which lets you get
  or set the value in the struct. If no arguments are provided, the sub returns
  the value of that field. If any arguments are provided, the field is set to
  the first argument, and the modified structure is returned. This makes setting
  multiple fields easy:
<p class="Pp"><span class="Li"></span></p>
<pre>
   $o-&gt;field1(something)-&gt;field2(somethingelse);
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="C_and_C_v'-.1v'_h'-1p'_s-2+_h'-1p'+_s0_v'.1v'_h'-1p'_Configuration_Options"><a class="permalink" href="#C_and_C_v'-.1v'_h'-1p'_s-2+_h'-1p'+_s0_v'.1v'_h'-1p'_Configuration_Options">C
  and C++ Configuration Options</a></h1>
Inline::Struct has no configuration options of its own, but it does provide a
  new configuration option for C or C++.
<section class="Ss">
<h2 class="Ss" id="_s-1STRUCTS_s0"><a class="permalink" href="#_s-1STRUCTS_s0">STRUCTS</a></h2>
Specifies that structs are to be bound to Perl. There are several meanings to
  this option, so I'll explain with an example:
<p class="Pp"><span class="Li"></span></p>
<pre>
   use Inline C =&gt; Config =&gt; STRUCTS =&gt; 'Foo';
</pre>
<p class="Pp">Adds 'Foo' to the list of structs to bind to Perl.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
   use Inline C =&gt; Config =&gt; STRUCTS =&gt; ['Foo', 'Bar'];
</pre>
<p class="Pp">Adds 'Foo' and 'Bar' to the list of structs to bind to Perl.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
   use Inline C =&gt; Config =&gt; STRUCTS =&gt; undef;
</pre>
<p class="Pp">Clears the list of structs to bind to Perl.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
   use Inline C =&gt; Config =&gt; ENABLE =&gt; 'STRUCTS';
or
   use Inline C =&gt; Config =&gt; STRUCTS =&gt; 1;
</pre>
<p class="Pp">Enable binding structs to Perl, without specifying any structs to
    search for. As shown, this would bind all structs to Perl.</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
   use Inline C =&gt; Config =&gt; DISABLE =&gt; 'STRUCTS';
or
   use Inline C =&gt; Config =&gt; STRUCTS =&gt; 0;
</pre>
<p class="Pp">Disable binding structs to Perl.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
For more information about using C from Perl, see Inline::C. For more
  information about using C++ from Perl, see Inline::CPP.
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Neil Watkiss (NEILW@cpan.org)
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (C) 2001, Neil Watkiss.
<p class="Pp">This module is free software. It may be used, redistributed and/or
    modified under the same terms as Perl itself.</p>
<p class="Pp">(see http://www.perl.com/perl/misc/Artistic.html)</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2001-05-13</td>
    <td class="foot-os">perl v5.18.2</td>
  </tr>
</table>
</body>
</html>
