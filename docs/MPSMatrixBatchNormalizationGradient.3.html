<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   -*- nroff -*-
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>MPSMatrixBatchNormalizationGradient(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MPSMatrixBatchNormalizationGradient(3)</td>
    <td class="head-vol">MetalPerformanceShaders.framework</td>
    <td class="head-rtitle">MPSMatrixBatchNormalizationGradient(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
MPSMatrixBatchNormalizationGradient
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">#import &lt;MPSMatrixBatchNormalization.h&gt;</p>
<p class="Pp">Inherits <b>MPSMatrixBinaryKernel</b>.</p>
<section class="Ss">
<h2 class="Ss" id="Instance_Methods"><a class="permalink" href="#Instance_Methods">Instance
  Methods</a></h2>
<br/>
(void) - <b>setNeuronType:parameterA:parameterB:parameterC:</b>
<br/>
(<b>MPSCNNNeuronType</b>) - <b>neuronType</b>
<br/>
(float) - <b>neuronParameterA</b>
<br/>
(float) - <b>neuronParameterB</b>
<br/>
(float) - <b>neuronParameterC</b>
<br/>
(nonnull instancetype) - <b>initWithDevice:</b>
<br/>
(void) -
  <b>encodeToCommandBuffer:gradientMatrix:inputMatrix:meanVector:varianceVector:gammaVector:betaVector:resultGradientForDataMatrix:resultGradientForGammaVector:resultGradientForBetaVector:</b>
<br/>
(nullable instancetype) - <b>initWithCoder:device:</b>
<br/>
(nonnull instancetype) - <b>copyWithZone:device:</b>
<br/>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="Properties"><a class="permalink" href="#Properties">Properties</a></h2>
<br/>
NSUInteger <b>sourceNumberOfFeatureVectors</b>
<br/>
NSUInteger <b>sourceInputFeatureChannels</b>
<br/>
float <b>epsilon</b>
<br/>
<br/>
</section>
<section class="Ss">
<h2 class="Ss" id="Additional_Inherited_Members"><a class="permalink" href="#Additional_Inherited_Members">Additional
  Inherited Members</a></h2>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Detailed_Description"><a class="permalink" href="#Detailed_Description">Detailed
  Description</a></h1>
This depends on Metal.framework.
<p class="Pp"><b>A</b> kernel to compute the gradient of the batch normalization
    operation.</p>
<p class="Pp"><b>A</b> <b>MPSMatrixBatchNormalizationGradient</b> object
    computes the results of backpropagating the gradients of a loss function
    with respect to the outputs of an <b>MPSMatrixBatchNormalization</b> object.
    The corresponding properties and data used by the
    <b>MPSMatrixBatchNormalizationGradient</b> object should correspond to those
    used by the forward <b>MPSMatrixBatchNormalization</b> object for which the
    gradient is being computed.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Method_Documentation"><a class="permalink" href="#Method_Documentation">Method
  Documentation</a></h1>
<section class="Ss">
<h2 class="Ss" id="_-_(nonnull_instancetype)_copyWithZone:_(nullable_NSZone_*)_zone(nullable_id__MTLDevice__)_device"><a class="permalink" href="#_-_(nonnull_instancetype)_copyWithZone:_(nullable_NSZone_*)_zone(nullable_id__MTLDevice__)_device">-
  (nonnull instancetype) copyWithZone: (nullable NSZone *) zone(nullable id&lt;
  MTLDevice &gt;) device</a></h2>
Make a copy of this kernel for a new device -
<p class="Pp"><b>See also:</b></p>
<div class="Bd-indent"><b>MPSKernel</b></div>
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>zone</i> The NSZone in which to allocate the object
<br/>
<i>device</i> The device for the new <b>MPSKernel</b>. If nil, then use
  self.device.</div>
<p class="Pp"><b>Returns:</b></p>
<div class="Bd-indent"><b>A</b> pointer to a copy of this <b>MPSKernel</b>. This
  will fail, returning nil if the device is not supported. Devices must be
  MTLFeatureSet_iOS_GPUFamily2_v1 or later.</div>
<p class="Pp">Reimplemented from <b>MPSKernel</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_-_(void)_encodeToCommandBuffer:_(nonnull_id__MTLCommandBuffer__)_commandBuffer(_fBMPSMatrix_fP_*__nonnull)_gradientMatrix(_fBMPSMatrix_fP_*__nonnull)_inputMatrix(_fBMPSVector_fP_*__nonnull)_meanVector(_fBMPSVector_fP_*__nonnull)_varianceVector(_fBMPSVector_fP_*__nullable)_gammaVector(_fBMPSVector_fP_*__nullable)_betaVector(_fBMPSMatrix_fP_*__nonnull)_resultGradientForDataMatrix(_fBMPSVector_fP_*__nullable)_resultGradientForGammaVector(_fBMPSVector_fP_*__nullable)_resultGradientForBetaVector"><a class="permalink" href="#_-_(void)_encodeToCommandBuffer:_(nonnull_id__MTLCommandBuffer__)_commandBuffer(_fBMPSMatrix_fP_*__nonnull)_gradientMatrix(_fBMPSMatrix_fP_*__nonnull)_inputMatrix(_fBMPSVector_fP_*__nonnull)_meanVector(_fBMPSVector_fP_*__nonnull)_varianceVector(_fBMPSVector_fP_*__nullable)_gammaVector(_fBMPSVector_fP_*__nullable)_betaVector(_fBMPSMatrix_fP_*__nonnull)_resultGradientForDataMatrix(_fBMPSVector_fP_*__nullable)_resultGradientForGammaVector(_fBMPSVector_fP_*__nullable)_resultGradientForBetaVector">-
  (void) encodeToCommandBuffer: (nonnull id&lt; MTLCommandBuffer &gt;)
  commandBuffer(<b>MPSMatrix</b> *__nonnull) gradientMatrix(<b>MPSMatrix</b>
  *__nonnull) inputMatrix(<b>MPSVector</b> *__nonnull)
  meanVector(<b>MPSVector</b> *__nonnull) varianceVector(<b>MPSVector</b>
  *__nullable) gammaVector(<b>MPSVector</b> *__nullable)
  betaVector(<b>MPSMatrix</b> *__nonnull)
  resultGradientForDataMatrix(<b>MPSVector</b> *__nullable)
  resultGradientForGammaVector(<b>MPSVector</b> *__nullable)
  resultGradientForBetaVector</a></h2>
Encode a <b>MPSMatrixBatchNormalizationGradient</b> object to a command buffer
  and compute its gradient with respect to its input data.
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>commandBuffer</i> The commandBuffer on which to encode
  the operation.
<br/>
<i>gradientMatrix</i> <b>A</b> matrix whose values represent the gradient of a
  loss function with respect to the results of a forward
  <b>MPSMatrixBatchNormalization</b> operation.
<br/>
<i>inputMatrix</i> <b>A</b> matrix containing the inputs to a forward
  <b>MPSMatrixBatchNormalization</b> operation for which the gradient values are
  to be computed.
<br/>
<i>meanVector</i> <b>A</b> vector containing the batch mean values. Should
  contain either the specified values used to compute the forward result, or the
  computed values resulting from the forward kernel execution.
<br/>
<i>varianceVector</i> <b>A</b> vector containing the batch variance values.
  Should contain either the specified values used to compute the forward result,
  or the computed values resulting from the forward kernel execution.
<br/>
<i>gammaVector</i> <b>A</b> vector containing the gamma terms. Should be the
  same values as used when computing the forward result.
<br/>
<i>betaVector</i> <b>A</b> vector containing the beta terms. Should be the same
  values as used when computing the forward result.
<br/>
<i>resultGradientForDataMatrix</i> The matrix containing the resulting gradient
  values.
<br/>
<i>resultGradientForGammaVector</i> If non-NULL the vector containing gradients
  for the gamma terms.
<br/>
<i>resultGradientForBetaVector</i> If non-NULL the vector containing gradients
  for the beta terms.</div>
</section>
<section class="Ss">
<h2 class="Ss" id="_-_(nullable_instancetype)__fBinitWithCoder:_fP_(NSCoder_*__nonnull)_aDecoder(nonnull_id__MTLDevice__)_device"><a class="permalink" href="#_-_(nullable_instancetype)__fBinitWithCoder:_fP_(NSCoder_*__nonnull)_aDecoder(nonnull_id__MTLDevice__)_device">-
  (nullable instancetype) <b>initWithCoder:</b> (NSCoder *__nonnull)
  aDecoder(nonnull id&lt; MTLDevice &gt;) device</a></h2>
<b>NSSecureCoding</b> compatability See <b>MPSKernel::initWithCoder</b>.
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>aDecoder</i> The NSCoder subclass with your serialized
  <b>MPSMatrixBatchNormalizationGradient</b>
<br/>
<i>device</i> The MTLDevice on which to make the
  <b>MPSMatrixBatchNormalizationGradient</b> object.</div>
<p class="Pp"><b>Returns:</b></p>
<div class="Bd-indent"><b>A</b> new <b>MPSMatrixBatchNormalizationGradient</b>
  object, or nil if failure.</div>
<p class="Pp">Reimplemented from <b>MPSKernel</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_-_(nonnull_instancetype)_initWithDevice:_(nonnull_id__MTLDevice__)_device"><a class="permalink" href="#_-_(nonnull_instancetype)_initWithDevice:_(nonnull_id__MTLDevice__)_device">-
  (nonnull instancetype) initWithDevice: (nonnull id&lt; MTLDevice &gt;)
  device</a></h2>
Standard init with default properties per filter type
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>device</i> The device that the filter will be used on.
  May not be NULL.</div>
<p class="Pp"><b>Returns:</b></p>
<div class="Bd-indent">a pointer to the newly initialized object. This will
  fail, returning nil if the device is not supported. Devices must be
  MTLFeatureSet_iOS_GPUFamily2_v1 or later.</div>
<p class="Pp">Reimplemented from <b>MPSKernel</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_-_(float)_neuronParameterA"><a class="permalink" href="#_-_(float)_neuronParameterA">-
  (float) neuronParameterA </a></h2>
Getter funtion for neuronType set using
  setNeuronType:parameterA:parameterB:parameterC method
</section>
<section class="Ss">
<h2 class="Ss" id="_-_(float)_neuronParameterB"><a class="permalink" href="#_-_(float)_neuronParameterB">-
  (float) neuronParameterB </a></h2>
Getter funtion for neuronType set using
  setNeuronType:parameterA:parameterB:parameterC method
</section>
<section class="Ss">
<h2 class="Ss" id="_-_(float)_neuronParameterC"><a class="permalink" href="#_-_(float)_neuronParameterC">-
  (float) neuronParameterC </a></h2>
Getter funtion for neuronType set using
  setNeuronType:parameterA:parameterB:parameterC method
</section>
<section class="Ss">
<h2 class="Ss" id="_-_(_fBMPSCNNNeuronType_fP)_neuronType"><a class="permalink" href="#_-_(_fBMPSCNNNeuronType_fP)_neuronType">-
  (<b>MPSCNNNeuronType</b>) neuronType </a></h2>
Getter funtion for neuronType set using
  setNeuronType:parameterA:parameterB:parameterC method
</section>
<section class="Ss">
<h2 class="Ss" id="_-_(void)_setNeuronType:_(_fBMPSCNNNeuronType_fP)_neuronType(float)_parameterA(float)_parameterB(float)_parameterC"><a class="permalink" href="#_-_(void)_setNeuronType:_(_fBMPSCNNNeuronType_fP)_neuronType(float)_parameterA(float)_parameterB(float)_parameterC">-
  (void) setNeuronType: (<b>MPSCNNNeuronType</b>) neuronType(float)
  parameterA(float) parameterB(float) parameterC</a></h2>
Specifies a neuron activation function to be used.
<p class="Pp">This method can be used to add a neuron activation funtion of
    given type with associated scalar parameters <b>A</b>, B, and C that are
    shared across all output values. Note that this method can only be used to
    specify neurons which are specified by three (or fewer) parameters shared
    across all output values (or channels, in CNN nomenclature). It is an error
    to call this method for neuron activation functions like
    MPSCNNNeuronTypePReLU, which require per-channel parameter values. An
    <b>MPSMatrixBatchNormalizationGradient</b> kernel is initialized with a
    default neuron function of MPSCNNNeuronTypeNone.</p>
<p class="Pp"><b>Parameters:</b></p>
<div class="Bd-indent"><i>neuronType</i> Type of neuron activation function. For
  full list see <b>MPSCNNNeuronType.h</b>
<br/>
<i>parameterA</i> parameterA of neuron activation that is shared across all
  output values.
<br/>
<i>parameterB</i> parameterB of neuron activation that is shared across all
  output values.
<br/>
<i>parameterC</i> parameterC of neuron activation that is shared across all
  output values.</div>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Property_Documentation"><a class="permalink" href="#Property_Documentation">Property
  Documentation</a></h1>
<section class="Ss">
<h2 class="Ss" id="_-_epsilon_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP"><a class="permalink" href="#_-_epsilon_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP">-
  epsilon [read]<i>, [write]</i>, [nonatomic]<i>, [assign]</i></a></h2>
<b>A</b> small term added to the variance when normalizing the input.
</section>
<section class="Ss">
<h2 class="Ss" id="_-_sourceInputFeatureChannels_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP"><a class="permalink" href="#_-_sourceInputFeatureChannels_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP">-
  sourceInputFeatureChannels [read]<b>, [write]</b>, [nonatomic]<b>,
  [assign]</b></a></h2>
The number of feature channels in the input vectors.
</section>
<section class="Ss">
<h2 class="Ss" id="_-_sourceNumberOfFeatureVectors_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP"><a class="permalink" href="#_-_sourceNumberOfFeatureVectors_fC__read__fP,__fC__write__fP,__fC__nonatomic__fP,__fC__assign__fP">-
  sourceNumberOfFeatureVectors [read]<b>, [write]</b>, [nonatomic]<b>,
  [assign]</b></a></h2>
The number of input vectors which make up the input array.
<p class="Pp"></p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Author"><a class="permalink" href="#Author">Author</a></h1>
Generated automatically by Doxygen for MetalPerformanceShaders.framework from
  the source code.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Mon Jul 9 2018</td>
    <td class="foot-os">Version MetalPerformanceShaders-119.3</td>
  </tr>
</table>
</body>
</html>
