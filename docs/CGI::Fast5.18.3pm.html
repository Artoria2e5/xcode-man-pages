<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>CGI::Fast(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CGI::Fast(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">CGI::Fast(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
CGI::Fast - CGI Interface for Fast CGI
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<span class="Li"></span>
<pre>
    use CGI::Fast qw(:standard);
    $COUNTER = 0;
    while (new CGI::Fast) {
        print header;
        print start_html(&quot;Fast CGI Rocks&quot;);
        print
            h1(&quot;Fast CGI Rocks&quot;),
            &quot;Invocation number &quot;,b($COUNTER++),
            &quot; PID &quot;,b($$),&quot;.&quot;,
            hr;
        print end_html;
    }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
CGI::Fast is a subclass of the CGI object created by CGI.pm. It is specialized
  to work well FCGI module, which greatly speeds up CGI scripts by turning them
  into persistently running server processes. Scripts that perform
  time-consuming initialization processes, such as loading large modules or
  opening persistent database connections, will see large performance
  improvements.
</section>
<section class="Sh">
<h1 class="Sh" id="OTHER_PIECES_OF_THE_PUZZLE"><a class="permalink" href="#OTHER_PIECES_OF_THE_PUZZLE">OTHER
  PIECES OF THE PUZZLE</a></h1>
In order to use CGI::Fast you'll need the FCGI module. See http://www.cpan.org/
  for details.
</section>
<section class="Sh">
<h1 class="Sh" id="WRITING_FASTCGI_PERL_SCRIPTS"><a class="permalink" href="#WRITING_FASTCGI_PERL_SCRIPTS">WRITING
  FASTCGI PERL SCRIPTS</a></h1>
FastCGI scripts are persistent: one or more copies of the script are started up
  when the server initializes, and stay around until the server exits or they
  die a natural death. After performing whatever one-time initialization it
  needs, the script enters a loop waiting for incoming connections, processing
  the request, and waiting some more.
<p class="Pp">A typical FastCGI script will look like this:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    #!/usr/bin/perl
    use CGI::Fast;
    &amp;do_some_initialization();
    while ($q = new CGI::Fast) {
        &amp;process_request($q);
    }
</pre>
<p class="Pp">Each time there's a new request, CGI::Fast returns a CGI object to
    your loop. The rest of the time your script waits in the call to
    <i>new()</i>. When the server requests that your script be terminated,
    <i>new()</i> will return undef. You can of course exit earlier if you
    choose. A new version of the script will be respawned to take its place
    (this may be necessary in order to avoid Perl memory leaks in long-running
    scripts).</p>
<p class="Pp">CGI.pm's default CGI object mode also works. Just modify the loop
    this way:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    while (new CGI::Fast) {
        &amp;process_request;
    }
</pre>
<p class="Pp">Calls to <i>header()</i>, <i>start_form()</i>, etc. will all
    operate on the current request.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="INSTALLING_FASTCGI_SCRIPTS"><a class="permalink" href="#INSTALLING_FASTCGI_SCRIPTS">INSTALLING
  FASTCGI SCRIPTS</a></h1>
See the FastCGI developer's kit documentation for full details. On the Apache
  server, the following line must be added to srm.conf:
<p class="Pp"><span class="Li"></span></p>
<pre>
    AddType application/x-httpd-fcgi .fcgi
</pre>
<p class="Pp">FastCGI scripts must end in the extension .fcgi. For each script
    you install, you must add something like the following to srm.conf:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    FastCgiServer /usr/etc/httpd/fcgi-bin/file_upload.fcgi -processes 2
</pre>
<p class="Pp">This instructs Apache to launch two copies of file_upload.fcgi at
    startup time.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="USING_FASTCGI_SCRIPTS_AS_CGI_SCRIPTS"><a class="permalink" href="#USING_FASTCGI_SCRIPTS_AS_CGI_SCRIPTS">USING
  FASTCGI SCRIPTS AS CGI SCRIPTS</a></h1>
Any script that works correctly as a FastCGI script will also work correctly
  when installed as a vanilla CGI script. However it will not see any
  performance benefit.
</section>
<section class="Sh">
<h1 class="Sh" id="EXTERNAL_FASTCGI_SERVER_INVOCATION"><a class="permalink" href="#EXTERNAL_FASTCGI_SERVER_INVOCATION">EXTERNAL
  FASTCGI SERVER INVOCATION</a></h1>
FastCGI supports a TCP/IP transport mechanism which allows FastCGI scripts to
  run external to the webserver, perhaps on a remote machine. To configure the
  webserver to connect to an external FastCGI server, you would add the
  following to your srm.conf:
<p class="Pp"><span class="Li"></span></p>
<pre>
    FastCgiExternalServer /usr/etc/httpd/fcgi-bin/file_upload.fcgi -host sputnik:8888
</pre>
<p class="Pp">Two environment variables affect how the
    <span class="Li">&quot;CGI::Fast&quot;</span> object is created, allowing
    <span class="Li">&quot;CGI::Fast&quot;</span> to be used as an external
    FastCGI server. (See <span class="Li">&quot;FCGI&quot;</span> documentation
    for <span class="Li">&quot;FCGI::OpenSocket&quot;</span> for more
    information.)</p>
<dl class="Bl-tag">
  <dt>FCGI_SOCKET_PATH</dt>
  <dd>The address (TCP/IP) or path (UNIX Domain) of the socket the external
      FastCGI script to which bind an listen for incoming connections from the
      web server.</dd>
  <dt>FCGI_LISTEN_QUEUE</dt>
  <dd>Maximum length of the queue of pending connections.</dd>
</dl>
<p class="Pp">For example:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    #!/usr/local/bin/perl    # must be a FastCGI version of perl!
    use CGI::Fast;
    &amp;do_some_initialization();
    $ENV{FCGI_SOCKET_PATH} = &quot;sputnik:8888&quot;;
    $ENV{FCGI_LISTEN_QUEUE} = 100;
    while ($q = new CGI::Fast) {
        &amp;process_request($q);
    }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="CAVEATS"><a class="permalink" href="#CAVEATS">CAVEATS</a></h1>
I haven't tested this very much.
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR_INFORMATION"><a class="permalink" href="#AUTHOR_INFORMATION">AUTHOR
  INFORMATION</a></h1>
Copyright 1996-1998, Lincoln D. Stein. All rights reserved.
<p class="Pp">This library is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp">Address bug reports and comments to: lstein@cshl.org</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
This section intentionally left blank.
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
CGI::Carp, CGI
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-09-30</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
