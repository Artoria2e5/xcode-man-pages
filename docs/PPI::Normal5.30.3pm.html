<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
   Begin verbatim text
   End verbatim text
   Set up some character translations and predefined strings.  \*(-- will
   give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
   double quote, and \*(R" will give a right double quote.  \*(C+ will
   give a nicer C++.  Capital omega is used to do unbreakable dashes and
   therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
   nothing in troff, for use with C<>.
   diablo 10 pitch
    diablo 12 pitch
 -->
<head>

<style>
@media (prefers-color-scheme: dark) {
  body {
    background: #000;
    color: #d0d0d0;
  }

  a, a:visited {
    color: #1899eb;
  }
}
</style>

  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
    div.Nd, div.Bf, div.Op { display: inline; }
    span.Pa, span.Ad { font-style: italic; }
    span.Ms { font-weight: bold; }
    dl.Bl-diag > dt { font-weight: bold; }
    code.Nm, code.Fl, code.Cm, code.Ic, code.In, code.Fd, code.Fn,
    code.Cd { font-weight: bold; font-family: inherit; }
  </style>
  <title>PPI::Normal(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PPI::Normal(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">PPI::Normal(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
PPI::Normal - Normalize Perl Documents
<section class="Ss">
<h2 class="Ss" id="_s-1DESCRIPTION_s0"><a class="permalink" href="#_s-1DESCRIPTION_s0">DESCRIPTION</a></h2>
Perl Documents, as created by PPI, are typically filled with all sorts of mess
  such as whitespace and comments and other things that don't effect the actual
  meaning of the code.
<p class="Pp">In addition, because there is more than one way to do most things,
    and the syntax of Perl itself is quite flexible, there are many ways in
    which the &quot;same&quot; code can look quite different.</p>
<p class="Pp">PPI::Normal attempts to resolve this by providing a variety of
    mechanisms and algorithms to &quot;normalize&quot; Perl Documents, and
    determine a sort of base form for them (although this base form will be a
    memory structure, and not something that can be turned back into Perl source
    code).</p>
<p class="Pp">The process itself is quite complex, and so for convenience and
    extensibility it has been separated into a number of layers. At a later
    point, it will be possible to write Plugin classes to insert additional
    normalization steps into the various different layers.</p>
<p class="Pp">In addition, you can choose to do the normalization only as deep
    as a particular layer, depending on aggressively you want the normalization
    process to be.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="register_$function_=__$layer,_..."><a class="permalink" href="#register_$function_=__$layer,_...">register
  $function =&gt; $layer, ...</a></h2>
The <span class="Li">&quot;register&quot;</span> method is used by normalization
  method providers to tell the normalization engines which functions need to be
  run, and in which layer they apply.
<p class="Pp">Provide a set of key/value pairs, where the key is the full name
    of the function (in string form), and the value is the layer (see
    description of the layers above) in which it should be run.</p>
<p class="Pp">Returns true if all functions are registered, or
    <span class="Li">&quot;undef&quot;</span> on error.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="new"><a class="permalink" href="#new">new</a></h2>
<span class="Li"></span>
<pre>
  my $level_1 = PPI::Normal-&gt;new;
  my $level_2 = PPI::Normal-&gt;new(2);
</pre>
<p class="Pp">Creates a new normalization object, to which Document objects can
    be passed to be normalized.</p>
<p class="Pp">Of course, what you probably REALLY want is just to call
    PPI::Document's <span class="Li">&quot;normalize&quot;</span> method.</p>
<p class="Pp">Takes an optional single parameter of the normalisation layer to
    use, which at this time can be either &quot;1&quot; or &quot;2&quot;.</p>
<p class="Pp">Returns a new <span class="Li">&quot;PPI::Normal&quot;</span>
    object, or <span class="Li">&quot;undef&quot;</span> on error.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="layer"><a class="permalink" href="#layer">layer</a></h1>
The <span class="Li">&quot;layer&quot;</span> accessor returns the normalisation
  layer of the object.
<section class="Ss">
<h2 class="Ss" id="process"><a class="permalink" href="#process">process</a></h2>
The <span class="Li">&quot;process&quot;</span> method takes anything that can
  be converted to a PPI::Document (object, SCALAR ref, filename), loads it and
  applies the normalisation process to the document.
<p class="Pp">Returns a PPI::Document::Normalized object, or
    <span class="Li">&quot;undef&quot;</span> on error.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTES"><a class="permalink" href="#NOTES">NOTES</a></h1>
The following normalisation layers are implemented. When writing plugins, you
  should register each transformation function with the appropriate layer.
<section class="Ss">
<h2 class="Ss" id="Layer_1__-_Insignificant_Data_Removal"><a class="permalink" href="#Layer_1__-_Insignificant_Data_Removal">Layer
  1 - Insignificant Data Removal</a></h2>
The basic step common to all normalization, layer 1 scans through the Document
  and removes all whitespace, comments, POD, and anything else that returns
  false for its <span class="Li">&quot;significant&quot;</span> method.
<p class="Pp">It also checks each Element and removes known-useless sub-element
    metadata such as the Element's physical position in the file.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Layer_2__-_Significant_Element_Removal"><a class="permalink" href="#Layer_2__-_Significant_Element_Removal">Layer
  2 - Significant Element Removal</a></h2>
After the removal of the insignificant data, Layer 2 removed larger, more
  complex, and superficially &quot;significant&quot; elements, that can be
  removed for the purposes of normalisation.
<p class="Pp">Examples from this layer include pragmas, now-useless statement
    separators (since the PDOM tree is holding statement elements), and several
    other minor bits and pieces.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Layer_3__-__s-1TO_BE_COMPLETED_s0"><a class="permalink" href="#Layer_3__-__s-1TO_BE_COMPLETED_s0">Layer
  3 - TO BE COMPLETED</a></h2>
This version of the forward-port of the Perl::Compare functionality to the
  0.900+ API of PPI only implements Layer 1 and 2 at this time.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="TO_DO"><a class="permalink" href="#TO_DO">TO DO</a></h1>
- Write the other 4-5 layers :)
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
See the support section in the main module.
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
Adam Kennedy &lt;adamk@cpan.org&gt;
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright 2005 - 2011 Adam Kennedy.
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp">The full text of the license can be found in the LICENSE file
    included with this module.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-07-09</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
